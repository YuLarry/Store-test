(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_promotion-bargain-list"],{"013c":function(t,o,e){"use strict";e("c975"),e("a9e3"),e("acd8"),e("ac1f"),e("5319"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},n={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,o=getCurrentPages()[0];this.$pageVm=o.$vm||o,uni.onWindowResize((function(o){t.$emit("resize",o)})),this.$pageVm.$on("hook:onPageScroll",(function(o){t.$emit("scroll",o)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta()})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle(),this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,o){t.setStyle({pullToRefresh:{support:o,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,o=String(this.scrollTop);if(-1!==o.indexOf("rpx")&&(o=uni.upx2px(o.replace("rpx",""))),o=parseFloat(o),!isNaN(o)){var e=function e(n){n.scrollTop===o&&(t.$pageVm.$off("hook:onPageScroll",e),t.$emit("scrolldone",i))};uni.pageScrollTo({scrollTop:o,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",e)}})}}}};o.default=n},"038f":function(t,o,e){var i=e("24fb");o=i(!1),o.push([t.i,".bg[data-v-33f194be]{width:100%;height:%?158?%;background-color:#fff;position:fixed;left:0;\r\ntop:%?88?%;\n}.ns-adv[data-v-33f194be]{background:#fff;height:%?300?%;border-radius:%?10?%\r\n\t/* padding: 8rpx 24rpx 24rpx; */}.ns-adv .image-box[data-v-33f194be]{width:100%;height:100%;border-radius:%?10?%}.ns-adv uni-image[data-v-33f194be]{width:100%;height:100%;border-radius:%?10?%}",""]),t.exports=o},"0fe7":function(t,o,e){var i=e("73d1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("d2f165a8",i,!0,{sourceMap:!1,shadowMode:!1})},1339:function(t,o,e){"use strict";e.r(o);var i=e("c7ab"),n=e("83b0");for(var s in n)"default"!==s&&function(t){e.d(o,t,(function(){return n[t]}))}(s);e("af74");var a,r=e("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"7e0717a2",null,!1,i["a"],a);o["default"]=l.exports},3845:function(t,o,e){var i=e("24fb");o=i(!1),o.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-countdown[data-v-7e0717a2]{padding:%?2?% 0;display:inline-flex;flex-wrap:nowrap;justify-content:center}.uni-countdown__splitor[data-v-7e0717a2]{justify-content:center;line-height:%?44?%;padding:0 %?5?%;font-size:%?24?%}.uni-countdown__splitor.day[data-v-7e0717a2]{line-height:%?50?%}.uni-countdown__number[data-v-7e0717a2]{line-height:%?44?%;justify-content:center;height:%?44?%;border-radius:%?6?%;margin:0 %?5?%;font-size:%?28?%;border:%?2?% solid #000;font-size:%?24?%;padding:0 %?10?%}',""]),t.exports=o},"3b11":function(t,o,e){var i=e("038f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("0db75226",i,!0,{sourceMap:!1,shadowMode:!1})},"3d2c":function(t,o,e){"use strict";e.r(o);var i=e("745a"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(o,t,(function(){return i[t]}))}(s);o["default"]=n.a},4020:function(t,o,e){"use strict";var i;e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return i}));var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-uni-view",{staticStyle:{display:"none"}},[t._t("default")],2)},s=[]},"517c":function(t,o,e){"use strict";var i=e("0fe7"),n=e.n(i);n.a},"6d42":function(t,o,e){"use strict";e.r(o);var i=e("4020"),n=e("8f28");for(var s in n)"default"!==s&&function(t){e.d(o,t,(function(){return n[t]}))}(s);var a,r=e("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);o["default"]=l.exports},"73d1":function(t,o,e){var i=e("24fb");o=i(!1),o.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */[data-v-658b09d7] .fixed{position:relative;top:0}[data-v-658b09d7] .empty{margin-top:0!important}.clockrun .delete-price[data-v-658b09d7]{max-width:60%}[data-v-658b09d7] .uni-countdown__number{min-width:%?32?%;height:%?32?%;text-align:center;line-height:%?32?%;border-radius:4px;display:inline-block;padding:%?4?%;margin:0;border:none!important}[data-v-658b09d7] .uni-countdown__splitor{width:%?10?%;height:%?32?%;line-height:%?36?%;text-align:center;display:inline-block}[data-v-658b09d7] .uni-countdown__splitor.day{width:auto}.pintuan-top[data-v-658b09d7]{width:100%}.pintuan-top uni-image[data-v-658b09d7]{width:100%}.bargain_pro .progress[data-v-658b09d7]{display:block;margin-bottom:%?10?%}.bargain_pro .progress .progress_top[data-v-658b09d7]{display:flex}.bargain_pro .progress .progress_top > uni-view[data-v-658b09d7]{flex:1}.bargain_pro .progress uni-view[data-v-658b09d7]{margin-top:%?10?%}.bargain_pro .progress .txt .text-color[data-v-658b09d7]{color:var(--price-color)}.bargain_pro .pro-info[data-v-658b09d7]{margin-top:%?20?%}',""]),t.exports=o},"745a":function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={name:"ns-advert",props:{keyword:{type:String}},data:function(){return{advList:[]}},created:function(){this.getAdvList()},methods:{getAdvList:function(){var t=this;this.$api.sendRequest({url:"/api/adv/detail",data:{keyword:this.keyword},success:function(o){if(0==o.code){var e=o.data.adv_list;for(var i in e)e[i].adv_url&&(e[i].adv_url=JSON.parse(e[i].adv_url));t.advList=o.data.adv_list}}})},jumppage:function(t){this.$util.diyRedirectTo(t)}}};o.default=i},7605:function(t,o,e){"use strict";var i=e("a832"),n=e.n(i);n.a},"7f04":function(t,o,e){var i=e("24fb");o=i(!1),o.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.ns-adv[data-v-658b09d7]{margin:%?20?% %?30?%;border-radius:%?10?%;overflow:hidden;line-height:1}.ns-adv uni-image[data-v-658b09d7]{width:100%}.lineheight-clear[data-v-658b09d7]{line-height:1!important}.goods-list.single-column .goods-item[data-v-658b09d7]{padding:%?26?%;background:#fff;margin:%?20?% %?30?%;border-radius:%?10?%;display:flex;position:relative}.goods-list.single-column .goods-item .goods-img[data-v-658b09d7]{width:%?200?%;height:%?200?%;overflow:hidden;border-radius:%?10?%;margin-right:%?20?%}.goods-list.single-column .goods-item .goods-img uni-image[data-v-658b09d7]{width:100%;height:100%}.goods-list.single-column .goods-item .goods-tag[data-v-658b09d7]{color:#fff;line-height:1;padding:%?8?% %?12?%;position:absolute;border-top-left-radius:%?10?%;border-bottom-right-radius:%?10?%;top:%?26?%;left:%?26?%;font-size:%?22?%}.goods-list.single-column .goods-item .info-wrap[data-v-658b09d7]{flex:1;display:flex;flex-direction:column}.goods-list.single-column .goods-item .name-wrap[data-v-658b09d7]{flex:1}.goods-list.single-column .goods-item .goods-name[data-v-658b09d7]{font-size:%?28?%;line-height:1.3;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:%?68?%}.goods-list.single-column .goods-item .progress-wrap[data-v-658b09d7]{display:flex;margin-top:%?10?%}.goods-list.single-column .goods-item .progress-wrap uni-progress[data-v-658b09d7]{flex:1}.goods-list.single-column .goods-item .progress-wrap .txt[data-v-658b09d7]{margin:0 %?100?% 0 %?20?%}.goods-list.single-column .goods-item .discount-price[data-v-658b09d7]{display:inline-block;font-weight:700;line-height:1;margin-top:%?16?%}.goods-list.single-column .goods-item .discount-price .unit[data-v-658b09d7]{margin-right:%?6?%;color:var(--price-color)}.goods-list.single-column .goods-item .discount-price .price[data-v-658b09d7]{color:var(--price-color)}.goods-list.single-column .goods-item .discount-price .txt[data-v-658b09d7]{font-weight:400}.goods-list.single-column .goods-item .pro-info[data-v-658b09d7]{position:relative;margin-top:%?16?%}.goods-list.single-column .goods-item .pro-info .delete-price[data-v-658b09d7]{flex:1;display:flex;align-items:flex-end}.goods-list.single-column .goods-item .pro-info .delete-price .unit[data-v-658b09d7]{margin-right:%?6?%;text-decoration:line-through}.goods-list.single-column .goods-item .pro-info .delete-price .price[data-v-658b09d7]{text-decoration:line-through}.goods-list.single-column .goods-item .pro-info > uni-view[data-v-658b09d7]{line-height:1}.goods-list.single-column .goods-item .pro-info > uni-view[data-v-658b09d7]:nth-child(2){position:absolute;right:0;bottom:0}.goods-list.single-column .goods-item .member-price-tag[data-v-658b09d7]{display:inline-block;width:%?60?%;line-height:1;margin-left:%?6?%}.goods-list.single-column .goods-item .member-price-tag uni-image[data-v-658b09d7]{width:100%}',""]),t.exports=o},"83b0":function(t,o,e){"use strict";e.r(o);var i=e("c9aa"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(o,t,(function(){return i[t]}))}(s);o["default"]=n.a},"8f28":function(t,o,e){"use strict";e.r(o);var i=e("013c"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(o,t,(function(){return i[t]}))}(s);o["default"]=n.a},a449:function(t,o,e){"use strict";var i=e("3b11"),n=e.n(i);n.a},a832:function(t,o,e){var i=e("7f04");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("8685002a",i,!0,{sourceMap:!1,shadowMode:!1})},af74:function(t,o,e){"use strict";var i=e("d364"),n=e.n(i);n.a},b27e:function(t,o,e){"use strict";var i;e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return i}));var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.advList.length?e("v-uni-view",[t.advList.length?e("v-uni-swiper",{staticClass:"ns-adv",attrs:{"indicator-dots":t.advList.length>1,"indicator-active-color":"#ffffff",autoplay:!0,interval:3e3,duration:1e3}},t._l(t.advList,(function(o,i){return e("v-uni-swiper-item",{key:i,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumppage(o.adv_url)}}},[e("v-uni-view",{staticClass:"image-box",style:{"background-color":o.background}},[e("v-uni-image",{attrs:{src:t.$util.img(o.adv_image)}})],1)],1)})),1):t._e()],1):t._e()},s=[]},be8b:function(t,o,e){"use strict";e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return i}));var i={pageMeta:e("6d42").default,nsAdv:e("c267").default,uniCountDown:e("1339").default,nsEmpty:e("2c4c").default,loadingCover:e("790a").default},n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-uni-view",[e("page-meta",{attrs:{"page-style":t.themeColor}}),e("v-uni-view",[t.addonIsExist.bargain&&t.isLoading?e("mescroll-uni",{ref:"mescroll",attrs:{size:10},on:{getData:function(o){arguments[0]=o=t.$handleEvent(o),t.getData.apply(void 0,arguments)}}},[e("template",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],attrs:{slot:"list"},slot:"list"},[e("v-uni-view",{staticClass:"ns-adv"},[e("ns-adv",{attrs:{keyword:"NS_BARGAIN"}})],1),t.dataList.length>0||t.dataListing.length>0?[t.dataListing.length?e("v-uni-view",{staticClass:"goods-list single-column"},t._l(t.dataListing,(function(o,i){return e("v-uni-view",{key:i,staticClass:"goods-item margin-bottom"},[e("v-uni-view",{staticClass:"goods-img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(o)}}},[e("v-uni-image",{attrs:{src:t.goodsImg(o.goods_image),mode:"widthFix"},on:{error:function(o){arguments[0]=o=t.$handleEvent(o),t.imgError(i)}}}),""!=t.goodsTag(o)?e("v-uni-view",{staticClass:"color-base-bg goods-tag"},[t._v(t._s(t.goodsTag(o)))]):t._e()],1),e("v-uni-view",{staticClass:"info-wrap"},[e("v-uni-view",{staticClass:"name-wrap"},[e("v-uni-view",{staticClass:"goods-name",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(o)}}},[t._v(t._s(o.goods_name))])],1),e("v-uni-view",{staticClass:"bargain_pro"},[e("v-uni-view",{staticClass:"progress"},[e("v-uni-view",{staticClass:"progress_top"},[e("v-uni-view",{staticClass:"progress_info"},[e("v-uni-progress",{attrs:{percent:"20","show-info":!1,"stroke-width":"3",activeColor:"#FF4544","border-radius":"5",percent:t.progressP(o)}})],1),e("v-uni-view")],1),e("v-uni-view",{staticClass:"font-size-activity-tag txt lineheight-clear"},[t._v("已砍"),e("v-uni-text",{staticClass:"text-color"},[t._v(t._s((o.price-o.curr_price).toFixed(2)))]),t._v("元"),e("v-uni-text",{staticClass:"margin-left"},[t._v("还剩"),e("v-uni-text",{staticClass:"text-color"},[t._v(t._s(o.curr_price))]),t._v("元")],1)],1)],1),e("v-uni-view",{staticClass:"pro-info"},[e("v-uni-view",{staticClass:"delete-price font-size-activity-tag color-tip clockrun"},[e("uni-count-down",{attrs:{day:o.time.d,hour:o.time.h,minute:o.time.i,second:o.time.s,color:"#fff",borderColor:"none",splitorColor:"#FF4644",backgroundColor:"#FF4644"}})],1),e("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetailP(o)}}},[e("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("继续砍价")])],1)],1)],1)],1)],1)})),1):t._e(),t.dataList.length?e("v-uni-view",{staticClass:"goods-list single-column"},t._l(t.dataList,(function(o,i){return e("v-uni-view",{key:i,staticClass:"goods-item margin-bottom"},[e("v-uni-view",{staticClass:"goods-img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(o)}}},[e("v-uni-image",{attrs:{src:t.goodsImg(o.goods_image),mode:"widthFix"},on:{error:function(o){arguments[0]=o=t.$handleEvent(o),t.imgError(i)}}}),""!=t.goodsTag(o)?e("v-uni-view",{staticClass:"color-base-bg goods-tag"},[t._v(t._s(t.goodsTag(o)))]):t._e()],1),e("v-uni-view",{staticClass:"info-wrap"},[e("v-uni-view",{staticClass:"name-wrap"},[e("v-uni-view",{staticClass:"goods-name",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(o)}}},[t._v(t._s(o.sku_name))]),e("v-uni-view",{staticClass:"progress-wrap"},[e("v-uni-progress",{attrs:{percent:"20","show-info":!1,"stroke-width":"3",backgroundColor:"#FFC7C7",activeColor:"#FF4544","border-radius":"5",percent:t.progress(o)}}),e("v-uni-text",{staticClass:"color-base-text font-size-activity-tag txt lineheight-clear"},[t._v("已砍"+t._s(o.sale_num)+"件")])],1)],1),e("v-uni-view",{staticClass:"lineheight-clear"},[e("v-uni-view",{staticClass:"discount-price"},[e("v-uni-text",{staticClass:"font-size-tag lineheight-clear txt"},[t._v("底价：")]),e("v-uni-text",{staticClass:"unit  price-style small"},[t._v(t._s(t.$lang("common.currencySymbol")))]),e("v-uni-text",{staticClass:"price  price-style large"},[t._v(t._s(parseFloat(o.floor_price).toFixed(2).split(".")[0]))]),e("v-uni-text",{staticClass:"unit  price-style small"},[t._v("."+t._s(parseFloat(o.floor_price).toFixed(2).split(".")[1]))])],1)],1),e("v-uni-view",{staticClass:"pro-info"},[e("v-uni-view",{staticClass:"delete-price font-size-activity-tag color-tip"},[e("v-uni-text",{staticClass:"font-size-tag lineheight-clear txt"},[t._v("原价：")]),e("v-uni-text",{staticClass:"unit price-font"},[t._v(t._s(t.$lang("common.currencySymbol")))]),e("v-uni-text",{staticClass:"price price-font"},[t._v(t._s(o.price))])],1),e("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(o)}}},[e("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("去砍价")])],1)],1)],1)],1)})),1):t._e()]:t.isLoad&&t.isLoading?e("ns-empty",{attrs:{text:"暂无砍价商品"}}):t._e()],2)],2):t._e(),e("loading-cover",{ref:"loadingCover"})],1)],1)},s=[]},c267:function(t,o,e){"use strict";e.r(o);var i=e("b27e"),n=e("3d2c");for(var s in n)"default"!==s&&function(t){e.d(o,t,(function(){return n[t]}))}(s);e("a449");var a,r=e("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"33f194be",null,!1,i["a"],a);o["default"]=l.exports},c7ab:function(t,o,e){"use strict";var i;e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return i}));var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-uni-view",{staticClass:"uni-countdown"},[t.showDay&&t.d>0?e("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.d))]):t._e(),t.showDay&&t.d>0?e("v-uni-view",{staticClass:"uni-countdown__splitor day",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s((t.showColon,"天")))]):t._e(),e("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.h))]),e("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"时"))]),e("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.i))]),e("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"分"))]),e("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.s))]),t.showColon?t._e():e("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v("秒")])],1)},s=[]},c9aa:function(t,o,e){"use strict";e("a9e3"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={name:"UniCountDown",props:{showDay:{type:Boolean,default:!0},showColon:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},backgroundColorClass:{type:String,default:""},borderColor:{type:String,default:"#000000"},borderColorClass:{type:String,default:""},color:{type:String,default:"#000000"},colorClass:{type:String,default:""},splitorColor:{type:String,default:"#000000"},splitorColorClass:{type:String,default:""},day:{type:[Number,String],default:0},hour:{type:[Number,String],default:0},minute:{type:[Number,String],default:0},second:{type:[Number,String],default:0}},data:function(){return{timer:null,d:"00",h:"00",i:"00",s:"00",leftTime:0,seconds:0}},mounted:function(t){var o=this;this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},watch:{day:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},hour:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},minute:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},second:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)}},beforeDestroy:function(){clearInterval(this.timer)},methods:{toSeconds:function(t,o,e,i){return t=Number(t),o=Number(o),e=Number(e),i=Number(i),60*t*60*24+60*o*60+60*e+i},timeUp:function(){clearInterval(this.timer),this.$emit("timeup")},countDown:function(){var t=this.seconds,o=0,e=0,i=0,n=0;t>0?(o=Math.floor(t/86400),e=Math.floor(t/3600)-24*o,i=Math.floor(t/60)-24*o*60-60*e,n=Math.floor(t)-24*o*60*60-60*e*60-60*i):this.timeUp(),o<10&&(o="0"+o),e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),this.d=o,this.h=e,this.i=i,this.s=n}}};o.default=i},cb28:function(t,o,e){"use strict";var i=e("4ea4");e("99af"),e("4160"),e("c975"),e("acd8"),e("e25e"),e("ac1f"),e("1276"),e("159b"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=i(e("1339")),s={components:{uniCountDown:n.default},data:function(){return{dataList:[],dataListing:[],isLoading:!1,isLoad:!1,skuId:0,memberId:0,mpShareData:null}},onLoad:function(t){var o=this;if(this.$util.getMemberId().then((function(t){o.memberId=t})),t.source_member&&uni.setStorageSync("source_member",t.source_member),t.scene){var e=decodeURIComponent(t.scene);e=e.split("&"),e.length&&e.forEach((function(t){-1!=t.indexOf("sku_id")&&(o.skuId=t.split("-")[1]),-1!=t.indexOf("m")&&uni.setStorageSync("source_member",t.split("-")[1]),-1!=t.indexOf("is_test")&&uni.setStorageSync("is_test",1)}))}},onShow:function(){var t=this;if(!this.addonIsExist.bargain)return this.$util.showToast({title:"商家未开启砍价",mask:!0,duration:2e3}),void setTimeout((function(){t.$util.redirectTo("/pages/index/index",{},"redirectTo")}),2e3);uni.getStorageSync("token")&&uni.getStorageSync("source_member")&&this.$util.onSourceMember(uni.getStorageSync("source_member")),this.getDataing()},onShareAppMessage:function(){return this.mpShareData.appMessage},onShareTimeline:function(){return this.mpShareData.timeLine},methods:{getData:function(t){var o=this;this.$api.sendRequest({url:"/bargain/api/goods/page",data:{page_size:t.size,page:t.num,is_exclude_bargaining:1},success:function(e){var i=[],n=e.message;0==e.code&&e.data?i=e.data.list:o.$util.showToast({title:n}),t.endSuccess&&t.endSuccess(i.length),1==t.num&&(o.dataList=[]),o.dataList=o.dataList.concat(i),o.isLoad=!0,o.$forceUpdate(),setTimeout((function(){o.$refs.loadingCover&&o.$refs.loadingCover.hide()}),300)},fail:function(){var o=this;t.endErr&&t.endErr(),setTimeout((function(){o.$refs.loadingCover&&o.$refs.loadingCover.hide()}),300)}})},getDataing:function(){var t=this;this.$api.sendRequest({url:"/bargain/api/goods/bargainingList",data:{},success:function(o){for(var e in t.dataListing=o.data,o.data)t.dataListing[e].time=t.$util.countDown(o.data[e].end_time-o.timestamp);t.isLoading=!0,t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(){mescroll.endErr(),this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},toDetail:function(t){this.$util.redirectTo("/pages_promotion/bargain/detail",{bargain_id:t.bargain_id})},toDetailP:function(t){this.$util.redirectTo("/pages_promotion/bargain/launch",{id:t.launch_id})},imgError:function(t){this.dataList[t].goods_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},goodsImg:function(t){var o=t.split(",");return o[0]?this.$util.img(o[0],{size:"mid"}):this.$util.getDefaultImage().goods},progress:function(t){var o=(parseInt(t.sale_num)/(parseInt(t.bargain_stock)+parseInt(t.sale_num))*100).toFixed();return"NaN"==o&&(o=0),o},progressP:function(t){var o=((parseFloat(t.price)-parseFloat(t.curr_price))/parseFloat(t.price)*100).toFixed();return"NaN"==o&&(o=0),o},goodsTag:function(t){return t.label_name||""}}};o.default=s},ceb3:function(t,o,e){"use strict";e.r(o);var i=e("be8b"),n=e("f9a8");for(var s in n)"default"!==s&&function(t){e.d(o,t,(function(){return n[t]}))}(s);e("7605"),e("517c");var a,r=e("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"658b09d7",null,!1,i["a"],a);o["default"]=l.exports},d364:function(t,o,e){var i=e("3845");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("746c36f2",i,!0,{sourceMap:!1,shadowMode:!1})},f9a8:function(t,o,e){"use strict";e.r(o);var i=e("cb28"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(o,t,(function(){return i[t]}))}(s);o["default"]=n.a}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-index-storelist-storelist"],{"01d0":function(t,i,e){"use strict";e.r(i);var s=e("4924"),n=e.n(s);for(var o in s)"default"!==o&&function(t){e.d(i,t,(function(){return s[t]}))}(o);i["default"]=n.a},4924:function(t,i,e){"use strict";var s=e("4ea4");e("99af"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=s(e("c409")),o={components:{},data:function(){return{searchText:"",dataList:[],isNetwork:1,isAll:!1,latitude:null,longitude:null,store:{},storeId:0,isIphoneX:!1}},onLoad:function(){this.isIphoneX=this.$util.uniappIsIPhoneX(),this.store=uni.getStorageSync("store")?uni.getStorageSync("store"):{},this.store&&(this.storeId=this.store.store_id),uni.getStorageSync("location")&&(this.latitude=uni.getStorageSync("location").latitude,this.longitude=uni.getStorageSync("location").longitude)},mixins:[n.default],methods:{navigateBack:function(){this.$util.redirectTo("/pages/index/index/index",{},"redirectTo")},search:function(){},getData:function(t){var i=this;if(this.isNetwork)if(this.isAll)t.endSuccess(0);else{this.isNetwork=0;var e={page:t.num,page_size:t.size};this.latitude&&this.longitude&&(e.latitude=this.latitude,e.longitude=this.longitude),this.$api.sendRequest({url:"/api/store/page",data:e,success:function(e){i.isNetwork=1,i.$refs.loadingCover&&i.$refs.loadingCover.hide();var s=[],n=e.message;0==e.code&&e.data?s=e.data.list:i.$util.showToast({title:n}),t.endSuccess(s.length),1==t.num&&(i.dataList=[]),i.dataList=i.dataList.concat(s),i.dataList.length==e.data.count&&(i.isAll=!0)},fail:function(e){t.endErr(),i.$refs.loadingCover&&i.$refs.loadingCover.hide()}})}else t.endSuccess(0)},getInfo:function(){var t=this,i={store_id:this.storeId};this.latitude&&this.longitude&&(i.latitude=this.latitude,i.longitude=this.longitude),this.$api.sendRequest({url:"/api/store/info",data:i,success:function(i){i.data&&(t.store=i.data,uni.setStorageSync("store",t.store))}})},storeTap:function(t){uni.setStorageSync("store",t),this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},selectStore:function(t){var i=t||this.storeId;this.$util.redirectTo("/otherpages/index/storedetail/storedetail",{store_id:i,back:"/otherpages/index/storelist/storelist"})}}};i.default=o},"5b77":function(t,i,e){"use strict";e.r(i);var s=e("8c71"),n=e("01d0");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("a953");var a,l=e("f0c5"),r=Object(l["a"])(n["default"],s["b"],s["c"],!1,null,"3cb0577f",null,!1,s["a"],a);i["default"]=r.exports},"8c71":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return s}));var s={loadingCover:e("790a").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{attrs:{"data-theme":t.themeStyle}},[e("mescroll-uni",{staticClass:"member-point",on:{getData:function(i){arguments[0]=i=t.$handleEvent(i),t.getData.apply(void 0,arguments)}}},[e("v-uni-view",{attrs:{slot:"list"},slot:"list"},[e("v-uni-view",{staticClass:"index_bg"},[t.storeId&&t.dataList?e("v-uni-view",{staticClass:"store-list"},[e("v-uni-view",{staticClass:"list-title"},[t._v("当前门店")]),e("v-uni-view",{staticClass:"list-content"},[e("v-uni-view",{staticClass:"list-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.selectStore(t.store.store_id)}}},[e("v-uni-view",{staticClass:"item-info"},[e("v-uni-view",{staticClass:"item-title"},[e("v-uni-text",{staticClass:"title"},[t._v(t._s(t.store.store_name))])],1),e("v-uni-view",{staticClass:"item-address"},[t._v(t._s(t.store.full_address+t.store.address))]),t.store.open_date?e("v-uni-view",{staticClass:"item-time"},[t._v("营业时间："+t._s(t.store.open_date))]):t._e()],1),e("v-uni-view",{staticClass:"item-right"},[e("v-uni-text",{staticClass:"item-right-text"},[t._v("查看详情")]),e("v-uni-text",{staticClass:"iconfont iconright"})],1)],1)],1)],1):t._e(),e("v-uni-view",{staticClass:"store-list"},[e("v-uni-view",{staticClass:"list-title"},[t._v("附近门店")]),e("v-uni-view",{staticClass:"list-content"},t._l(t.dataList,(function(i,s){return e("v-uni-view",{key:s,staticClass:"list-item"},[e("v-uni-view",{staticClass:"item-info",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.storeTap(i)}}},[e("v-uni-view",{staticClass:"item-title"},[e("v-uni-text",{staticClass:"title"},[t._v(t._s(i.store_name))]),i.distance?e("v-uni-text",{staticClass:"distance"},[e("v-uni-text",{staticClass:"map-icon iconweizhi iconfont"}),t._v("距离"+t._s(i.distance>1?i.distance+"km":1e3*i.distance+"m"))],1):t._e()],1),e("v-uni-view",{staticClass:"item-address"},[t._v(t._s(i.full_address+i.address))]),i.open_date?e("v-uni-view",{staticClass:"item-time"},[t._v("营业时间："+t._s(i.open_date))]):t._e()],1),e("v-uni-view",{staticClass:"item-right"},[e("v-uni-text",{staticClass:"item-right-text",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.selectStore(i.store_id)}}},[t._v("查看详情")]),e("v-uni-text",{staticClass:"iconfont iconright"})],1),s!=t.dataList.length-1?e("v-uni-view",{staticClass:"line"}):t._e()],1)})),1)],1)],1)],1)],1),e("loading-cover",{ref:"loadingCover"})],1)},o=[]},a953:function(t,i,e){"use strict";var s=e("c2ee"),n=e.n(s);n.a},c2ee:function(t,i,e){var s=e("f3b1");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=e("4f06").default;n("6de04fb9",s,!0,{sourceMap:!1,shadowMode:!1})},f3b1:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.index_bg[data-v-3cb0577f]{width:100%;height:%?422?%;background-size:100% 100%}.head-nav[data-v-3cb0577f]{width:100%;height:0}.head-nav.active[data-v-3cb0577f]{padding-top:%?40?%}.store-list[data-v-3cb0577f]{width:100%;padding:0 %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:%?20?%;padding-bottom:%?20?%}.store-list .line[data-v-3cb0577f]{width:%?630?%;margin:0 auto;height:1px;background-color:#eee;position:absolute;bottom:0}.store-list .list-title[data-v-3cb0577f]{width:100%;font-size:%?30?%;color:#303133;font-weight:500;line-height:1;margin:%?52?% 0 %?24?%}.store-list .list-content[data-v-3cb0577f]{width:100%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.store-list .list-content .list-item[data-v-3cb0577f]{position:relative;width:100%;padding:%?40?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.store-list .list-content .list-item .item-info[data-v-3cb0577f]{height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-right:%?24?%;font-size:%?24?%}.store-list .list-content .list-item .item-info .item-title[data-v-3cb0577f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?28?%;color:#303133;line-height:1}.store-list .list-content .list-item .item-info .item-title .title[data-v-3cb0577f]{max-width:%?240?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:%?28?%;color:#303133}.store-list .list-content .list-item .item-info .item-title .distance[data-v-3cb0577f]{margin-top:%?22?%;font-size:%?24?%;color:#303133}.store-list .list-content .list-item .item-info .item-title .distance .map-icon[data-v-3cb0577f]{margin-right:%?12?%;font-size:%?28?%;color:#303133}.store-list .list-content .list-item .item-info .item-time[data-v-3cb0577f]{font-size:%?24?%;color:#909399;margin-top:%?20?%;line-height:1}.store-list .list-content .list-item .item-info .item-address[data-v-3cb0577f]{margin-top:%?22?%;font-size:%?24?%;color:#909399;line-height:%?35?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.store-list .list-content .list-item .item-right[data-v-3cb0577f]{position:absolute;right:%?30?%;top:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.store-list .list-content .list-item .item-right .item-right-text[data-v-3cb0577f]{line-height:1;color:#303133;font-size:%?24?%;margin-bottom:%?6?%}.store-list .list-content .list-item .item-right .iconfont[data-v-3cb0577f]{color:#909399}',""]),t.exports=i}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-member-footprint-footprint"],{"558f":function(i,t,e){var o=e("96a8");"string"===typeof o&&(o=[[i.i,o,""]]),o.locals&&(i.exports=o.locals);var n=e("4f06").default;n("1c86876e",o,!0,{sourceMap:!1,shadowMode:!1})},"6c8b":function(i,t,e){"use strict";var o=e("558f"),n=e.n(o);n.a},"7ad9":function(i,t,e){"use strict";e.r(t);var o=e("b250"),n=e("ae6e");for(var s in n)"default"!==s&&function(i){e.d(t,i,(function(){return n[i]}))}(s);e("6c8b");var a,d=e("f0c5"),l=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"08d85dc0",null,!1,o["a"],a);t["default"]=l.exports},"96a8":function(i,t,e){var o=e("24fb");t=o(!1),t.push([i.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */[data-v-08d85dc0] .empty{margin-top:0!important}.empty[data-v-08d85dc0]{margin-top:%?100?%}.lineheight-clear[data-v-08d85dc0]{line-height:1!important}.head-wrap[data-v-08d85dc0]{width:100vw;height:%?90?%;line-height:%?90?%;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?30?%;text-align:right}.goods-list.single-column[data-v-08d85dc0]{margin:0 %?30?%}.goods-list.single-column .checkbox-wrap[data-v-08d85dc0]{margin-right:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.goods-list.single-column .checkbox-wrap .iconfont[data-v-08d85dc0]{font-size:%?40?%;color:#ccc}.goods-list.single-column .datetime[data-v-08d85dc0]{line-height:1.5;font-size:%?28?%}.goods-list.single-column .goods-item[data-v-08d85dc0]{padding:%?26?%;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;margin:%?20?% 0}.goods-list.single-column .goods-item.first-child[data-v-08d85dc0]{margin-top:0}.goods-list.single-column .goods-item .goods-img[data-v-08d85dc0]{width:%?200?%;height:%?200?%;overflow:hidden;-webkit-border-radius:%?10?%;border-radius:%?10?%;margin-right:%?20?%}.goods-list.single-column .goods-item .goods-img uni-image[data-v-08d85dc0]{width:100%;height:100%}.goods-list.single-column .goods-item .goods-tag[data-v-08d85dc0]{color:#fff;line-height:1;padding:%?8?% %?12?%;position:absolute;-webkit-border-top-left-radius:%?10?%;border-top-left-radius:%?10?%;-webkit-border-bottom-right-radius:%?10?%;border-bottom-right-radius:%?10?%;top:%?26?%;left:%?26?%;font-size:%?22?%}.goods-list.single-column .goods-item .goods-tag-img[data-v-08d85dc0]{position:absolute;-webkit-border-top-left-radius:%?10?%;border-top-left-radius:%?10?%;width:%?80?%;height:%?80?%;top:%?26?%;left:%?26?%;z-index:5;overflow:hidden}.goods-list.single-column .goods-item .goods-tag-img uni-image[data-v-08d85dc0]{width:100%;height:100%}.goods-list.single-column .goods-item .info-wrap[data-v-08d85dc0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.goods-list.single-column .goods-item .name-wrap[data-v-08d85dc0]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.goods-list.single-column .goods-item .goods-name[data-v-08d85dc0]{font-size:%?28?%;line-height:1.3;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:%?68?%}.goods-list.single-column .goods-item .introduction[data-v-08d85dc0]{line-height:1;margin-top:%?10?%}.goods-list.single-column .goods-item .discount-price[data-v-08d85dc0]{display:inline-block;font-weight:700;line-height:1;margin-top:%?16?%}.goods-list.single-column .goods-item .discount-price .unit[data-v-08d85dc0]{margin-right:%?6?%}.goods-list.single-column .goods-item .pro-info[data-v-08d85dc0]{display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?16?%}.goods-list.single-column .goods-item .pro-info .delete-price[data-v-08d85dc0]{text-decoration:line-through;-webkit-box-flex:1;-webkit-flex:1;flex:1}.goods-list.single-column .goods-item .pro-info .delete-price .unit[data-v-08d85dc0]{margin-right:%?6?%}.goods-list.single-column .goods-item .pro-info > uni-view[data-v-08d85dc0]{line-height:1}.goods-list.single-column .goods-item .pro-info > uni-view[data-v-08d85dc0]:nth-child(2){text-align:right}.goods-list.single-column .goods-item .member-price-tag[data-v-08d85dc0]{display:inline-block;width:%?60?%;line-height:1;margin-left:%?6?%}.goods-list.single-column .goods-item .member-price-tag uni-image[data-v-08d85dc0]{width:100%}.bottom-wrap[data-v-08d85dc0]{position:fixed;z-index:5;width:100vw;height:%?100?%;background:#fff;bottom:var(--window-bottom);overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;bottom:0;z-index:9}.bottom-wrap .all-election[data-v-08d85dc0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?100?%;position:relative;display:inline-block}.bottom-wrap .all-election > .iconfont[data-v-08d85dc0]{font-size:%?40?%;position:absolute;top:50%;left:%?30?%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.bottom-wrap .all-election > .iconyuan_checkbox[data-v-08d85dc0]{color:#ccc}.bottom-wrap .all-election > uni-text[data-v-08d85dc0]{margin-left:%?56?%;line-height:%?100?%;padding-left:%?30?%}.bottom-wrap .action-btn[data-v-08d85dc0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;width:%?180?%;height:%?100?%;line-height:%?100?%;-webkit-border-radius:0;border-radius:0;margin:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.bottom-wrap .action-btn uni-button[data-v-08d85dc0]{width:%?180?%;height:%?70?%;line-height:%?70?%}',""]),i.exports=t},ae6e:function(i,t,e){"use strict";e.r(t);var o=e("de2d"),n=e.n(o);for(var s in o)"default"!==s&&function(i){e.d(t,i,(function(){return o[i]}))}(s);t["default"]=n.a},b250:function(i,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return o}));var o={nsEmpty:e("1928").default,loadingCover:e("30be").default},n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("v-uni-view",{staticClass:"container",attrs:{"data-theme":i.themeStyle}},[e("v-uni-view",{staticClass:"head-wrap"},[e("v-uni-text",{on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.manageFootprint.apply(void 0,arguments)}}},[i._v(i._s(i.manage?"完成":"管理"))])],1),e("mescroll-uni",{ref:"mescroll",attrs:{top:"110rpx"},on:{getData:function(t){arguments[0]=t=i.$handleEvent(t),i.getListData.apply(void 0,arguments)}}},[e("template",{attrs:{slot:"list"},slot:"list"},[i.goodsList.length?e("v-uni-view",{staticClass:"goods-list single-column"},i._l(i.goodsList,(function(t,o){return e("v-uni-view",{key:o},[e("v-uni-view",{staticClass:"datetime"},[i._v(i._s(i.datetime(t)))]),e("v-uni-view",{staticClass:"goods-item"},[i.manage?e("v-uni-view",{staticClass:"checkbox-wrap",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.singleElection(t)}}},[e("v-uni-text",{staticClass:"iconfont",class:-1!=i.$util.inArray(t.id,i.idArr)?"iconyuan_checked color-base-text":"iconyuan_checkbox"})],1):i._e(),e("v-uni-view",{staticClass:"goods-img",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.toDetail(t)}}},[e("v-uni-image",{attrs:{src:i.goodsImg(t.goods_image),mode:"widthFix"},on:{error:function(t){arguments[0]=t=i.$handleEvent(t),i.imgError(o)}}}),""!=i.goodsTag(t)?e("v-uni-view",{staticClass:"color-base-bg goods-tag"},[i._v(i._s(i.goodsTag(t)))]):i._e()],1),e("v-uni-view",{staticClass:"info-wrap",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.toDetail(t)}}},[e("v-uni-view",{staticClass:"name-wrap"},[e("v-uni-view",{staticClass:"goods-name"},[i._v(i._s(t.goods_name))])],1),e("v-uni-view",{staticClass:"pro-info"},[e("v-uni-view",{staticClass:"delete-price font-size-activity-tag color-tip"},[e("v-uni-text",{staticClass:"unit"},[i._v(i._s(i.$lang("common.currencySymbol")))]),i._v(i._s(t.market_price>0?t.market_price:t.price))],1),e("v-uni-view",{staticClass:"sale font-size-activity-tag color-tip"},[i._v("已售"+i._s(t.sale_num)+i._s(t.unit?t.unit:"件"))])],1),e("v-uni-view",{staticClass:"lineheight-clear"},[e("v-uni-view",{staticClass:"discount-price"},[e("v-uni-text",{staticClass:"unit color-base-text font-size-tag"},[i._v(i._s(i.$lang("common.currencySymbol")))]),e("v-uni-text",{staticClass:"price color-base-text font-size-toolbar"},[i._v(i._s(i.showPrice(t)))])],1),t.member_price&&t.member_price==i.showPrice(t)?e("v-uni-view",{staticClass:"member-price-tag"},[e("v-uni-image",{attrs:{src:i.$util.img("upload/uniapp/index/VIP.png"),mode:"widthFix"}})],1):1==t.promotion_type?e("v-uni-view",{staticClass:"member-price-tag"},[e("v-uni-image",{attrs:{src:i.$util.img("upload/uniapp/index/discount.png"),mode:"widthFix"}})],1):i._e()],1)],1)],1)],1)})),1):e("v-uni-view",[e("ns-empty",{attrs:{text:"暂无浏览过的商品"}})],1),i.goodsList.length&&i.manage?e("v-uni-view",{staticClass:"bottom-wrap"},[e("v-uni-view",{staticClass:"all-election",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.allElection.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"iconfont",class:i.isAll?"iconyuan_checked color-base-text":"iconyuan_checkbox"}),e("v-uni-text",[i._v("全选")])],1),e("v-uni-view",{staticClass:"action-btn"},[e("v-uni-button",{staticClass:"delete",class:{disabled:i.selected},attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.deleteFootprint()}}},[i._v("删除")])],1)],1):i._e()],1)],2),e("loading-cover",{ref:"loadingCover"})],1)},s=[]},de2d:function(i,t,e){"use strict";var o=e("4ea4");e("99af"),e("4160"),e("a434"),e("d3b7"),e("acd8"),e("ac1f"),e("25f0"),e("1276"),e("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(e("ccd8")),s=[],a={data:function(){return{goodsList:[],current:-1,manage:!1,idArr:[],mescroll:null,isSub:!1}},mixins:[n.default],onShow:function(){this.$langConfig.refresh()},computed:{selected:function(){return 0==this.idArr.length},isAll:function(){return this.idArr.length==this.goodsList.length}},methods:{getListData:function(i){var t=this;this.mescroll=i,this.$api.sendRequest({url:"/api/goodsbrowse/page",data:{page:i.num,page_size:i.size},success:function(e){var o=[],n=e.message;0==e.code&&e.data?o=e.data.list:t.$util.showToast({title:n}),i.endSuccess(o.length),1==i.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),s=[],t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(e){i.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},longpress:function(i){this.current=i},deleteFootprint:function(){var i=this;0!=this.idArr.length?this.isSub||(this.isSub=!0,this.$api.sendRequest({url:"/api/goodsbrowse/delete",data:{id:this.idArr.toString()},success:function(t){i.isSub=!1,t.code>=0?(i.idArr=[],i.mescroll.resetUpScroll()):i.$util.showToast({title:t.message})}})):this.$util.showToast({title:"请选择要删除的数据！"})},manageFootprint:function(){this.manage=!this.manage,s=[]},goodsImg:function(i){var t=i.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},imgError:function(i){s=[],this.goodsList[i].goods_image=this.$util.getDefaultImage().default_goods_img},showPrice:function(i){var t=i.discount_price;return i.member_price&&parseFloat(i.member_price)<parseFloat(t)&&(t=i.member_price),t},goodsTag:function(i){switch(i.recommend_way){case 1:return"新品";case 2:return"精品";case 3:return"推荐";default:return""}},datetime:function(i){var t=new Date;t.setTime(1e3*i.browse_time);var e=t.getFullYear(),o=t.getMonth()+1;o=o<10?"0"+o:o;var n=t.getDate();n=n<10?"0"+n:n;var a=e+"/"+o+"/"+n;if(-1==this.$util.inArray(a,s))return s.push(a),a},singleElection:function(i){-1==this.$util.inArray(i.id,this.idArr)?this.idArr.push(i.id):this.idArr.splice(this.$util.inArray(i.id,this.idArr),1),s=[]},allElection:function(){if(this.idArr.length!=this.goodsList.length){this.idArr=[];var i=[];this.goodsList.forEach((function(t){i.push(t.id)})),this.idArr=i}else this.idArr=[];s=[]},toDetail:function(i){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:i.sku_id})}}};t.default=a}}]);
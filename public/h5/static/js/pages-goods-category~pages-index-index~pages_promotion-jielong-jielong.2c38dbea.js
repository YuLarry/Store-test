(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-category~pages-index-index~pages_promotion-jielong-jielong"],{"013c":function(t,e,i){"use strict";i("c975"),i("a9e3"),i("acd8"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},o={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,e=getCurrentPages()[0];this.$pageVm=e.$vm||e,uni.onWindowResize((function(e){t.$emit("resize",e)})),this.$pageVm.$on("hook:onPageScroll",(function(e){t.$emit("scroll",e)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta()})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle(),this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,e){t.setStyle({pullToRefresh:{support:e,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,e=String(this.scrollTop);if(-1!==e.indexOf("rpx")&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)){var i=function i(o){o.scrollTop===e&&(t.$pageVm.$off("hook:onPageScroll",i),t.$emit("scrolldone",a))};uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",i)}})}}}};e.default=o},"01ca":function(t,e,i){"use strict";var a=i("4ea4");i("a9e3"),i("e25e"),i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("aa96")),n=(a(i("ce70")),{name:"ns-goods-sku-category",components:{uniPopup:o.default},props:{disabled:{type:Boolean,default:!1},pointLimit:{type:[Number,String]}},data:function(){return{isIphoneX:!1,systemInfo:{},number:0,btnSwitch:!1,type:"",callback:null,skuId:0,limitNumber:0,cartData:[],cartIdArr:[],goodsDetail:{},maxBuy:0,minBuy:0,isLoad:!1,goodsCartNumber:0}},created:function(){this.isIphoneX=this.$util.uniappIsIPhoneX(),this.systemInfo=uni.getSystemInfoSync()},watch:{pointLimit:function(t,e){this.limitNumber=Number(t)},goodsDetail:function(t,e){this.skuId=t.sku_id},minBuy:function(t,e){this.minBuy>1&&(this.number=Number(this.minBuy))}},methods:{show:function(t,e,i){this.goodsDetail=e,this.dealData(),this.$refs.skuPopup.open(),this.type=t,this.callback=i,this.skuId=this.goodsDetail.sku_id,this.maxBuy=this.goodsDetail.max_buy,this.minBuy=this.goodsDetail.min_buy,this.isLoad=!0,this.getCartData(),this.getGoodsCartNum()},hide:function(){this.$refs.skuPopup.close()},change:function(t,e){if(!this.disabled){this.btnSwitch=!1,this.skuId=t;for(var i=0;i<this.goodsDetail.goods_spec_format.length;i++)for(var a=this.goodsDetail.goods_spec_format[i],o=0;o<a.value.length;o++)e==this.goodsDetail.goods_spec_format[i].value[o].spec_id&&(this.goodsDetail.goods_spec_format[i].value[o].selected=!1);this.isLoad=!0,this.getGoodsSkuInfo()}},previewMedia:function(){var t=[];t.push(this.$util.img(this.goodsDetail.sku_image,{size:"big"})),uni.previewImage({current:1,urls:t})},getGoodsSkuInfo:function(){var t=this;this.getCartData();this.$api.sendRequest({url:"/api/goodssku/getInfoForCategory",data:{sku_id:void 0==this.skuId?this.goodsDetail.sku_id:this.skuId},success:function(e){var i=e.data;if(null!=i){i.unit=i.unit||"件",t.goodsDetail=i,t.dealData(),t.btnSwitch=!1;var a=t.goodsDetail;a.num=void 0!==t.cartData[t.skuId]?t.cartData[t.skuId]:0,t.$emit("refresh",a)}else t.$util.redirectTo("/pages/index/index",{},"reLaunch")},fail:function(e){t.btnSwitch=!1,t.$util.redirectTo("/pages/index/index",{},"reLaunch")}})},dealData:function(){1==this.goodsDetail.promotion_type?this.goodsDetail.member_price&&this.goodsDetail.member_price<=this.goodsDetail.price?this.goodsDetail.show_price=this.goodsDetail.member_price:this.goodsDetail.show_price=this.goodsDetail.discount_price:this.goodsDetail.member_price?this.goodsDetail.show_price=this.goodsDetail.member_price:this.goodsDetail.show_price=this.goodsDetail.price,this.goodsDetail.sku_spec_format&&"string"==typeof this.goodsDetail.sku_spec_format&&(this.goodsDetail.sku_spec_format=JSON.parse(this.goodsDetail.sku_spec_format)),this.goodsDetail.goods_spec_format&&"string"==typeof this.goodsDetail.goods_spec_format&&(this.goodsDetail.goods_spec_format=JSON.parse(this.goodsDetail.goods_spec_format)),this.goodsDetail.unit=this.goodsDetail.unit||"件",this.keyInput(!1)},changeNum:function(t,e){var i=this;if(0!=this.goodsDetail.stock){var a=this.goodsDetail.stock,o=1;if(1==this.goodsDetail.is_limit&&this.maxBuy>0&&this.maxBuy<a&&(a=this.maxBuy),1==this.goodsDetail.is_limit&&2==this.goodsDetail.limit_type&&this.maxBuy>0&&this.goodsDetail.purchased_num>0){var n=this.maxBuy-this.goodsDetail.purchased_num;a=n<this.goodsDetail.stock?n:this.goodsDetail.stock}if(this.minBuy>1&&(o=this.minBuy),"+"==t){if(this.number<a)this.number++;else{if(this.number>=this.goodsDetail.stock)return void this.$util.showToast({title:"库存不足"});if(1==this.goodsDetail.is_limit&&this.maxBuy>0){if(1==this.goodsDetail.limit_type)return void this.$util.showToast({title:"该商品每次最多购买"+this.maxBuy+this.goodsDetail.unit});if(2==this.goodsDetail.limit_type){var s="该商品每人限购"+this.maxBuy+this.goodsDetail.unit;return s+=this.goodsDetail.purchased_num>0?"，您已购买了"+this.goodsDetail.purchased_num+this.goodsDetail.unit:"",void this.$util.showToast({title:s})}}}var r=uni.createSelectorQuery().in(this);r.select("#"+e.currentTarget.id+" .click-event").boundingClientRect((function(t){t&&i.$emit("addCart",t.left,t.top)})).exec()}else"-"==t&&(this.number>o?this.number-=1:this.number=0);this.number>this.limitNumber&&this.limitNumber&&(this.number=this.limitNumber),this.number?this.cartNumChange(this.number,this.cartIdArr[this.skuId]):this.deleteCart()}},blur:function(){var t=this;if(this.number||(this.number=1),this.number>this.limitNumber&&this.limitNumber&&(this.number=this.limitNumber),this.goodsDetail.is_limit&&this.maxBuy>0){var e=this.maxBuy-this.goodsDetail.purchased_num;this.number>e&&(this.number=e)}this.number<this.minBuy&&this.minBuy>0&&(this.number=this.minBuy);var i=parseInt(this.number);this.isLoad=!1,setTimeout((function(){t.number=i,t.cartNumChange(t.number,t.cartIdArr[t.skuId])}),0)},keyInput:function(t,e){var i=this;setTimeout((function(){var a=i.goodsDetail.stock;0!=i.goodsDetail.stock?(t&&0==i.number.length&&(i.number=1),t&&(i.number<=0||isNaN(i.number))&&(i.number=1),i.number>a&&(i.number=a),i.minBuy>1&&i.number<i.minBuy&&(i.number=i.minBuy),t&&(i.number=parseInt(i.number)),e&&e()):i.number=0}),0)},confirm:function(t){var e=this;uni.getStorageSync("token")?(this.number=1,this.keyInput(!0,(function(){if(0!=e.goodsDetail.stock)if(e.number>e.goodsDetail.stock)e.$util.showToast({title:"库存不足"});else if(1==e.goodsDetail.is_limit&&1==e.goodsDetail.limit_type&&e.maxBuy>0&&e.number>e.maxBuy)e.$util.showToast({title:"该商品每次最多购买"+e.maxBuy+e.goodsDetail.unit});else{if(1==e.goodsDetail.is_limit&&2==e.goodsDetail.limit_type&&e.maxBuy>0&&e.number+e.goodsDetail.purchased_num>e.maxBuy){var i="该商品每人限购"+e.maxBuy+e.goodsDetail.unit;return i+=e.goodsDetail.purchased_num>0?"，您已购买了"+e.goodsDetail.purchased_num+e.goodsDetail.unit:"",void e.$util.showToast({title:i})}e.$emit("addCart",t.detail.x,t.detail.y),e.btnSwitch||(e.btnSwitch=!0,e.$api.sendRequest({url:"/api/cart/add",data:{sku_id:e.goodsDetail.sku_id,num:e.number},success:function(t){var i=t.data;i>0&&(e.getCartData(),e.getGoodsSkuInfo(),e.$store.dispatch("getCartNumber"),e.$util.showToast({title:"加入购物车成功"}),e.callback&&e.callback()),e.btnSwitch=!1},fail:function(t){e.$refs.skuPopup.close(),e.btnSwitch=!1}}))}else e.$util.showToast({title:"商品已售罄"})}))):this.$refs.login.open()},closeSkuPopup:function(){this.$refs.skuPopup.close()},imageError:function(){this.goodsDetail.sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},valueImageError:function(t,e){this.goodsDetail.goods_spec_format[t].value[e].image=this.$util.getDefaultImage().goods,this.$forceUpdate()},getCartData:function(){var t=this;this.$api.sendRequest({url:"/api/cart/lists",success:function(e){if(e.code>=0){var i=[],a=[];if(e.data.length)for(var o=0;o<e.data.length;o++)i[e.data[o].sku_id]=e.data[o].num,a[e.data[o].sku_id]=e.data[o].cart_id;t.cartData=i,t.cartIdArr=a}t.number=t.cartData[t.skuId]?t.cartData[t.skuId]:0,t.$forceUpdate()}})},cartNumChange:function(t,e){var i=this;t<1&&(t=1),this.modifyFlag=!0,this.$api.sendRequest({url:"/api/cart/edit",data:{num:t,cart_id:e},success:function(e){e.code>=0&&(i.cartData[i.skuId]=t,i.$store.dispatch("getCartNumber"),i.getGoodsCartNum())}})},deleteCart:function(){var t=this;this.$api.sendRequest({url:"/api/cart/delete",data:{cart_id:this.cartIdArr[this.skuId]},success:function(e){e.code>=0&&(t.$store.dispatch("getCartNumber"),t.getCartData(),t.getGoodsCartNum())}})},getGoodsCartNum:function(){var t=this;this.$api.sendRequest({url:"/api/cart/goodsnum",data:{goods_id:this.goodsDetail.goods_id},success:function(e){e.code>=0&&(t.goodsCartNumber=e.data)}})}}});e.default=n},"1d05":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";.uni-popup[data-v-19a88426]{position:fixed;top:0;top:0;bottom:0;left:0;right:0;z-index:999;overflow:hidden}.uni-popup__mask[data-v-19a88426]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-19a88426]{transition:all .3s}.uni-popup__mask.uni-bottom[data-v-19a88426],\r\n.uni-popup__mask.uni-center[data-v-19a88426],\r\n.uni-popup__mask.uni-right[data-v-19a88426],\r\n.uni-popup__mask.uni-left[data-v-19a88426],\r\n.uni-popup__mask.uni-top[data-v-19a88426]{opacity:1}.uni-popup__wrapper[data-v-19a88426]{position:absolute;z-index:999;box-sizing:border-box\r\n\t/*background: #ffffff;\r\n */}.uni-popup__wrapper.ani[data-v-19a88426]{transition:all .3s}.uni-popup__wrapper.top[data-v-19a88426]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-19a88426]{bottom:0;left:0;width:100%;-webkit-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.right[data-v-19a88426]{bottom:0;left:0;width:100%;-webkit-transform:translateX(100%);transform:translateX(100%)}.uni-popup__wrapper.left[data-v-19a88426]{bottom:0;left:0;width:100%;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.uni-popup__wrapper.center[data-v-19a88426]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-19a88426]{position:relative;box-sizing:border-box}.uni-popup__wrapper.uni-custom .uni-popup__wrapper-box[data-v-19a88426]{\r\n\t/*background: #fff;\r\n */}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-19a88426]{position:relative;max-width:80%;max-height:80%;overflow-y:scroll}.uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-19a88426],\r\n.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-19a88426]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-bottom[data-v-19a88426],\r\n.uni-popup__wrapper.uni-top[data-v-19a88426]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-left[data-v-19a88426],\r\n.uni-popup__wrapper.uni-right[data-v-19a88426]{-webkit-transform:translateX(0);transform:translateX(0)}.uni-popup__wrapper.uni-center[data-v-19a88426]{-webkit-transform:scale(1);transform:scale(1);opacity:1}\r\n\r\n/* isIphoneX系列手机底部安全距离 */.bottom.safe-area[data-v-19a88426]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}',""]),t.exports=e},"2b33":function(t,e,i){"use strict";var a=i("2f43"),o=i.n(a);o.a},"2f43":function(t,e,i){var a=i("728b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("f28a4a18",a,!0,{sourceMap:!1,shadowMode:!1})},"3ef0":function(t,e,i){"use strict";i.r(e);var a=i("c04a"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},4020:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{display:"none"}},[t._t("default")],2)},n=[]},"449f":function(t,e,i){"use strict";i.r(e);var a=i("ee68"),o=i("b3c8");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("2b33");var s,r=i("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"5eb8f88b",null,!1,a["a"],s);e["default"]=u.exports},"6d42":function(t,e,i){"use strict";i.r(e);var a=i("4020"),o=i("8f28");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);var s,r=i("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=u.exports},7087:function(t,e,i){"use strict";var a=i("bf16"),o=i.n(a);o.a},7260:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPopup?i("v-uni-view",{staticClass:"uni-popup"},[i("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}}),t.isIphoneX?i("v-uni-view",{staticClass:"uni-popup__wrapper goodslist-uni-popup safe-area",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box goodslist-uni-popup-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1):i("v-uni-view",{staticClass:"uni-popup__wrapper goodslist-uni-popup",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box goodslist-uni-popup-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},n=[]},"728b":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.sku-content[data-v-5eb8f88b]{background:#fff;border-radius:%?20?%}.sku-close[data-v-5eb8f88b]{color:#fff;width:%?50?%;text-align:center;font-size:%?76?%;border-radius:50%;margin:%?40?% auto 0}.sku-layer .sku-info[data-v-5eb8f88b]{width:%?600?%;height:60vh!important;position:relative;z-index:999}.sku-layer .sku-info .header[data-v-5eb8f88b]{padding:%?30?%;display:flex;position:relative;border-bottom:%?2?% solid rgba(0,0,0,.1);z-index:2}.sku-layer .sku-info .header .img-wrap[data-v-5eb8f88b]{width:%?114?%;height:%?114?%;margin-right:%?20?%;border-radius:%?8?%;overflow:hidden;border:%?2?% solid rgba(0,0,0,.1);padding:%?2?%;background-color:#fff;line-height:%?208?%}.sku-layer .sku-info .header .img-wrap uni-image[data-v-5eb8f88b]{width:100%;height:100%}.sku-layer .sku-info .main[data-v-5eb8f88b]{font-size:%?24?%;line-height:%?40?%;flex:1;width:0}.sku-layer .sku-info .main .goodname[data-v-5eb8f88b]{word-wrap:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-height:1.3}.footer-left .price[data-v-5eb8f88b]{word-wrap:break-word;font-size:%?32?%;color:var(--price-color)}.sku-layer .sku-info .main .stock[data-v-5eb8f88b]{margin-top:%?20?%;line-height:1;font-size:%?24?%}.sku-layer .sku-info .main .sku-name[data-v-5eb8f88b]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:%?90?%;overflow:hidden}.sku-layer .sku-info .main .sku-name uni-text[data-v-5eb8f88b]{margin-right:%?10?%}.sku-layer .sku-info .sku-close[data-v-5eb8f88b]{position:absolute;top:%?20?%;right:%?20?%;width:%?40?%;height:%?80?%;font-size:%?50?%}.sku-layer .body-item[data-v-5eb8f88b]{padding:0 %?30?% %?30?% %?30?%;height:calc(100% - %?282?%);box-sizing:border-box;overflow:scroll}.sku-layer .body-item .wrap[data-v-5eb8f88b]{height:calc(100% - %?116?%)}.sku-layer .body-item .sku-list-wrap .title[data-v-5eb8f88b]{font-weight:400;padding:%?20?% 0;margin:0;display:block}.sku-layer .body-item .sku-list-wrap .sku-list_item[data-v-5eb8f88b]{display:flex;flex-wrap:wrap}.sku-layer .body-item .sku-list-wrap .items[data-v-5eb8f88b]{text-align:center;position:relative;display:inline-block;border:%?2?% solid #eee;padding:%?4?% %?30?%;border-radius:%?8?%;margin:0 %?20?% %?20?% 0;background-color:#fff!important}.sku-layer .body-item .sku-list-wrap .items.disabled[data-v-5eb8f88b]{border:%?2?% dashed}.sku-layer .body-item .sku-list-wrap .items uni-image[data-v-5eb8f88b]{height:%?48?%;width:%?48?%;border-radius:%?4?%;margin-right:%?10?%;display:inline-block;vertical-align:middle}.sku-layer .body-item .number-wrap .number-line[data-v-5eb8f88b]{padding:%?20?% 0;line-height:%?72?%}.sku-layer .body-item .number-wrap .title[data-v-5eb8f88b]{font-weight:400}.sku-layer .body-item .number-wrap .number[data-v-5eb8f88b]{height:%?72?%;border-radius:%?6?%;float:right}.sku-layer .body-item .number-wrap .number uni-button[data-v-5eb8f88b]{display:inline-block;line-height:%?64?%;height:%?68?%;width:%?60?%;font-size:%?48?%;box-sizing:initial;border:%?2?% solid;padding:0;margin:0;border-radius:0}.sku-layer .body-item .number-wrap .number uni-button.decrease[data-v-5eb8f88b]{border-right:%?2?% solid #fff!important}.sku-layer .body-item .number-wrap .number uni-button.increase[data-v-5eb8f88b]{border-left:%?2?% solid #fff!important}.sku-layer .body-item .number-wrap .number uni-button[data-v-5eb8f88b]:after{border-radius:0;border:none}.sku-layer .body-item .number-wrap .number uni-input[data-v-5eb8f88b]{display:inline-block;line-height:%?64?%;height:%?68?%;width:%?72?%;text-align:center;font-weight:700;border:%?2?% solid;margin:0;padding:0;vertical-align:top}.sku-layer .footer[data-v-5eb8f88b]{width:calc(100% - %?60?%);position:absolute;bottom:%?26?%;color:#fff;z-index:1;border-top:%?1?% solid #eee;padding:%?30?% %?30?% 0;background-color:#fff}.sku-layer .footer .footer-bottom[data-v-5eb8f88b]{margin-top:%?24?%;display:flex;justify-content:be;align-items:center}.sku-layer .footer .footer-bottom .footer-left[data-v-5eb8f88b]{flex:1}.sku-layer .footer .footer-bottom .footer-right[data-v-5eb8f88b]{width:%?238?%;text-align:right}.sku-layer .footer .footer-bottom .footer-right uni-button[data-v-5eb8f88b]{margin-right:0;width:%?210?%;height:%?60?%;line-height:%?60?%;font-size:%?30?%}.position-bottom[data-v-5eb8f88b]{bottom:%?98?%!important}.change_num[data-v-5eb8f88b]{display:flex;align-items:center;justify-content:flex-end}.change_num > uni-text[data-v-5eb8f88b], .change_num .iconfont[data-v-5eb8f88b]{font-size:%?48?%}.change_num uni-input[data-v-5eb8f88b]{width:%?70?%;height:%?36?%;line-height:%?36?%;text-align:center}.change_num .num-action[data-v-5eb8f88b]{position:relative}.change_num .num-action .click-event[data-v-5eb8f88b]{position:absolute;width:%?2?%;height:%?2?%;left:0;top:0;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:5}[data-v-5eb8f88b] .uni-popup__wrapper{background:transparent!important}[data-v-5eb8f88b] .sku-layer .uni-popup__wrapper.uni-custom .uni-popup__wrapper-box{background:transparent!important}[data-v-5eb8f88b] .uni-popup__wrapper.uni-custom .uni-popup__wrapper-box{background:transparent!important}',""]),t.exports=e},"8f28":function(t,e,i){"use strict";i.r(e);var a=i("013c"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},aa96:function(t,e,i){"use strict";i.r(e);var a=i("7260"),o=i("3ef0");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("7087");var s,r=i("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"19a88426",null,!1,a["a"],s);e["default"]=u.exports},b3c8:function(t,e,i){"use strict";i.r(e);var a=i("01ca"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},bf16:function(t,e,i){var a=i("1d05");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("2185e06c",a,!0,{sourceMap:!1,shadowMode:!1})},c04a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:function(){return{ani:"",showPopup:!1,callback:null,isIphoneX:!1}},watch:{show:function(t){t?this.open():this.close()}},created:function(){this.isIphoneX=this.$util.uniappIsIPhoneX()},methods:{clear:function(){},open:function(t){var e=this;t&&(this.callback=t),this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick((function(){setTimeout((function(){e.ani="uni-"+e.type}),30)}))},close:function(t,e){var i=this;!this.maskClick&&t||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick((function(){setTimeout((function(){i.showPopup=!1}),300)})),e&&e(),this.callback&&this.callback.call(this))}}};e.default=a},ce70:function(t,e,i){"use strict";var a=i("4ea4");i("c975"),i("13d5"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("ec6f")),n=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,s=/^<\/([-A-Za-z0-9_]+)[^>]*>/,r=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,u=m("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),l=m("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),c=m("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),d=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),p=m("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=m("script,style");function h(t,e){var i,a,o,h=[],m=t;h.last=function(){return this[this.length-1]};while(t){if(a=!0,h.last()&&f[h.last()])t=t.replace(new RegExp("([\\s\\S]*?)</"+h.last()+"[^>]*>"),(function(t,i){return i=i.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),e.chars&&e.chars(i),""})),v("",h.last());else if(0==t.indexOf("\x3c!--")?(i=t.indexOf("--\x3e"),i>=0&&(e.comment&&e.comment(t.substring(4,i)),t=t.substring(i+3),a=!1)):0==t.indexOf("</")?(o=t.match(s),o&&(t=t.substring(o[0].length),o[0].replace(s,v),a=!1)):0==t.indexOf("<")&&(o=t.match(n),o&&(t=t.substring(o[0].length),o[0].replace(n,g),a=!1)),a){i=t.indexOf("<");var b=i<0?t:t.substring(0,i);t=i<0?"":t.substring(i),e.chars&&e.chars(b)}if(t==m)throw"Parse Error: "+t;m=t}function g(t,i,a,o){if(i=i.toLowerCase(),l[i])while(h.last()&&c[h.last()])v("",h.last());if(d[i]&&h.last()==i&&v("",i),o=u[i]||!!o,o||h.push(i),e.start){var n=[];a.replace(r,(function(t,e){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:p[e]?e:"";n.push({name:e,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})})),e.start&&e.start(i,n,o)}}function v(t,i){if(i){for(a=h.length-1;a>=0;a--)if(h[a]==i)break}else var a=0;if(a>=0){for(var o=h.length-1;o>=a;o--)e.end&&e.end(h[o]);h.length=a}}v()}function m(t){for(var e={},i=t.split(","),a=0;a<i.length;a++)e[i[a]]=!0;return e}function b(t){return t.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function g(t){t=t.replace(/<!--[\s\S]*-->/gi,"");return t}function v(t){var e="100%",i='<img style="width:100% !important;display:block;max-width: '.concat(e,' !important;"');t=t.replace(/\\/g,"").replace(/<img/g,i);return t=t.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(t,e){return i+' src="'+o.default.img(e)+'"/>'})),t}function k(t){t=t.replace(/style\s*=\s*["][^>]*;[^"]?/gi,(function(t,e){return t=t.replace(/[:](\s?)[\s\S]*/gi,(function(t,e){return t.replace(/"/g,"'")})),t}));return t}function _(t){return t.reduce((function(t,e){var i=e.value,a=e.name;return t[a]?t[a]=t[a]+" "+i:t[a]=i,t}),{})}function w(t){t=b(t),t=g(t),t=v(t),t=k(t);var e=[],i={node:"root",children:[]};return h(t,{start:function(t,a,o){var n={name:t};if(0!==a.length&&(n.attrs=_(a)),o){var s=e[0]||i;s.children||(s.children=[]),s.children.push(n)}else e.unshift(n)},end:function(t){var a=e.shift();if(a.name!==t&&console.error("invalid state: mismatch end tag"),0===e.length)i.children.push(a);else{var o=e[0];o.children||(o.children=[]),o.children.push(a)}},chars:function(t){var a={type:"text",text:t};if(0===e.length)i.children.push(a);else{var o=e[0];o.children||(o.children=[]),o.children.push(a)}},comment:function(t){var i={node:"comment",text:t},a=e[0];a.children||(a.children=[]),a.children.push(i)}}),i.children}var y=w;e.default=y},ee68:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("92aa").default,nsLogin:i("2893").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"goods-sku",on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"skuPopup",staticClass:"sku-layer",attrs:{type:"center"}},[i("v-uni-view",{staticClass:"sku-content"},[i("v-uni-view",{staticClass:"sku-info",style:{height:2*t.systemInfo.windowHeight+"rpx"}},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"img-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewMedia()}}},[i("v-uni-image",{attrs:{src:t.$util.img(t.goodsDetail.sku_image,{size:"mid"})},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.imageError()}}})],1),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"goodname"},[t._v(t._s(t.goodsDetail.goods_name))]),i("v-uni-view",{staticClass:"stock color-tip"},[t._v("库存"+t._s(t.goodsDetail.stock)+t._s(t.goodsDetail.unit))])],1)],1),i("v-uni-view",{staticClass:"body-item"},[i("v-uni-scroll-view",{staticClass:"wrap",attrs:{"scroll-y":!0}},t._l(t.goodsDetail.goods_spec_format,(function(e,a){return i("v-uni-view",{key:a,staticClass:"sku-list-wrap"},[i("v-uni-text",{staticClass:"title font-size-tag"},[t._v(t._s(e.spec_name))]),i("v-uni-view",{staticClass:"sku-list_item"},t._l(e.value,(function(e,o){return i("v-uni-view",{key:o,staticClass:"items color-line-border font-size-tag",class:{selected:e["selected"]||t.skuId==e.sku_id,disabled:e["disabled"]||!e["selected"]&&t.disabled},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.change(e.sku_id,e.spec_id)}}},[e.image?i("v-uni-image",{attrs:{src:t.$util.img(e.image,{size:"small"})},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.valueImageError(a,o)}}}):t._e(),i("v-uni-text",[t._v(t._s(e.spec_value_name))])],1)})),1)],1)})),1)],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"sku-name font-size-goods-tag"},[t.goodsDetail.sku_spec_format?[t._v("已选择："),t._l(t.goodsDetail.sku_spec_format,(function(e,a){return i("v-uni-text",{key:a,staticClass:"color-tip"},[t._v(t._s(e.spec_value_name)+" "+t._s(a!=t.goodsDetail.sku_spec_format.length-1?" / ":" "))])}))]:t._e()],2),i("v-uni-view",{staticClass:"footer-bottom"},[i("v-uni-view",{staticClass:"footer-left"},[i("v-uni-view",{staticClass:"price-wrap"},[i("v-uni-text",{staticClass:"price price-font"},[t._v("￥"+t._s(t.goodsDetail.show_price))])],1)],1),i("v-uni-view",{staticClass:"footer-right"},[t.number>0?i("v-uni-view",{staticClass:"change_num"},[i("v-uni-view",{staticClass:"num-action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeNum("-")}}},[i("v-uni-text",{staticClass:"desc iconfont iconjianshao color-base-text"}),i("v-uni-view",{staticClass:"click-event"})],1),i("v-uni-input",{staticClass:"uni-input",attrs:{type:"number",placeholder:"0"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blur.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.keyInput(!1)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),i("v-uni-view",{staticClass:"num-action",attrs:{id:"select-sku-num-"+t.goodsDetail.goods_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeNum("+",e)}}},[i("v-uni-text",{staticClass:"add iconfont iconadd-fill color-base-text change_hover"}),i("v-uni-view",{staticClass:"click-event"})],1)],1):0==t.number&&t.isLoad?i("v-uni-view",[i("v-uni-view",{staticClass:"num-action"},[t.goodsDetail.stock&&0!=t.goodsDetail.stock?i("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm(e)}}},[t._v("加入购物车")]):i("v-uni-button",{attrs:{type:"primary",disabled:"true"}},[t._v("确定")]),i("v-uni-view",{staticClass:"click-event"})],1)],1):t._e()],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"sku-close iconfont icon2guanbi",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeSkuPopup()}}})],1),i("ns-login",{ref:"login"})],1)},n=[]}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-topics-goods_detail-goods_detail"],{"0d75":function(t,e,i){var o=i("4061");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("017b4caa",o,!0,{sourceMap:!1,shadowMode:!1})},"3dac":function(t,e,i){"use strict";var o=i("0d75"),a=i.n(o);a.a},4061:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,"[data-v-140276d0] .reward-popup .uni-popup__wrapper-box{background:none!important;max-width:unset!important;max-height:unset!important}[data-v-140276d0] .action-icon-wrap .iconfont.iconshouye1{font-size:%?40?%}[data-v-140276d0] .uni-video-cover{background:none}[data-v-140276d0] .uni-video-cover-duration{display:none}[data-v-140276d0] .uni-video-cover-play-button{-webkit-border-radius:50%;border-radius:50%;border:%?4?% solid #fff;width:%?120?%;height:%?120?%;background-size:30%}.poster-layer[data-v-140276d0] .uni-popup__wrapper-box{max-height:none!important}[data-v-140276d0] .sku-layer .uni-popup__wrapper-box{overflow-y:initial!important}.goods-promotion .countdown .clockrun[data-v-140276d0] .uni-countdown__number{min-width:%?32?%;height:%?32?%;text-align:center;line-height:%?32?%;-webkit-border-radius:4px;border-radius:4px;display:inline-block;padding:%?4?%;margin:0;border:none}.goods-promotion .countdown .clockrun[data-v-140276d0] .uni-countdown__splitor{height:%?32?%;line-height:%?36?%;text-align:center;display:inline-block;padding:0 %?8?%}.goods-promotion .countdown .clockrun[data-v-140276d0] .uni-countdown__splitor.day{width:auto}[data-v-140276d0] .uni-popup__wrapper.uni-custom .uni-popup__wrapper-box{max-height:unset!important}[data-v-140276d0] .goods-action-button.active1{padding:0 10px}[data-v-140276d0] .goods-action-button.active1 .action-buttom-wrap{height:36px;line-height:36px;-webkit-border-radius:36px;border-radius:36px}[data-v-140276d0] .goods-action-button.active2{padding:0 30px}[data-v-140276d0] .goods-action-button.active2 .action-buttom-wrap{height:36px;line-height:36px;-webkit-border-radius:36px;border-radius:36px;margin:10px 0}",""]),t.exports=e},"61b4":function(t,e,i){"use strict";var o=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("169a")),s=o(i("0833")),n=o(i("1aec")),d=o(i("1fce")),r=o(i("008f")),l=o(i("d6df")),u=o(i("abd2")),c=o(i("f936")),p=o(i("dada")),g=o(i("ab48")),v=o(i("ccd8")),h=o(i("1051")),m={components:{nsGoodsAction:a.default,nsGoodsActionIcon:s.default,nsGoodsActionButton:n.default,uniPopup:d.default,nsGoodsSku:r.default,nsGoodsRecommend:l.default,uniCountDown:u.default,nsGoodsPromotion:g.default,toTop:h.default},data:function(){return{kefuConfig:{weapp:"",system:"",open:"",open_url:""}}},mixins:[c.default,p.default,v.default],onShareAppMessage:function(t){var e="/promotionpages/topic/goods_detail/goods_detail?id="+this.topics_id;return this.memberId&&(e+="&source_member="+this.memberId),{title:this.goodsSkuDetail.sku_name,imageUrl:this.$util.img(this.goodsSkuDetail.sku_image,{size:"big"}),path:e,success:function(t){},fail:function(t){}}}};e.default=m},"792e":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return o}));var o={uniCountDown:i("abd2").default,uniPopup:i("1fce").default,nsGoodsSku:i("008f").default,loadingCover:i("30be").default,nsLogin:i("2e9e").default,nsGoodsAction:i("169a").default,nsGoodsActionIcon:i("0833").default,nsGoodsActionButton:i("1aec").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{"data-theme":t.themeStyle}},[i("v-uni-view",{staticClass:"goods-detail",class:t.isIphoneX?"active":"",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"goods-container"},[i("v-uni-view",{staticClass:"goods-media"},[i("v-uni-view",{staticClass:"goods-img",class:{show:"img"==t.switchMedia}},[i("v-uni-swiper",{staticClass:"swiper",attrs:{interval:t.swiperInterval,autoplay:t.swiperAutoplay},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},t._l(t.goodsSkuDetail.sku_images,(function(e,o){return i("v-uni-swiper-item",{key:o,attrs:{"item-id":"goods_id_"+o}},[i("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewMedia(o)}}},[i("v-uni-image",{attrs:{src:t.$util.img(e,{size:"big"}),mode:"aspectFit"},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperImageError(o)}}})],1)],1)})),1),i("v-uni-view",{staticClass:"img-indicator-dots"},[i("v-uni-text",[t._v(t._s(t.swiperCurrent))]),t.goodsSkuDetail.sku_images?i("v-uni-text",[t._v("/"+t._s(t.goodsSkuDetail.sku_images.length))]):t._e()],1)],1),i("v-uni-view",{staticClass:"goods-video",class:{show:"video"==t.switchMedia}},[i("v-uni-video",{attrs:{src:t.$util.img(t.goodsSkuDetail.video_url),poster:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"}),objectFit:"cover"}})],1),""!=t.goodsSkuDetail.video_url?i("v-uni-view",{staticClass:"media-mode"},[i("v-uni-text",{class:{"color-base-bg":"video"==t.switchMedia},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchMedia="video"}}},[t._v(t._s(t.$lang("video")))]),i("v-uni-text",{class:{"color-base-bg":"img"==t.switchMedia},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchMedia="img"}}},[t._v(t._s(t.$lang("image")))])],1):t._e()],1),t.goodsSkuDetail.discountTimeMachine?i("v-uni-view",{staticClass:"goods-promotion",style:{backgroundImage:"url("+t.$util.img("upload/uniapp/goods/detail_promotion_left_bg.png")+")"}},[i("v-uni-view",{staticClass:"price-info"},[i("v-uni-view",{staticClass:"img-wrap"},[i("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/goods/detail_topics_tag.png"),mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"sale-num"},[t._v("已售"+t._s(t.goodsSkuDetail.sale_num)+" "+t._s(t.goodsSkuDetail.unit))])],1),i("v-uni-view",{staticClass:"countdown",style:{backgroundImage:"url("+t.$util.img("upload/uniapp/goods/detail_promotion_right_bg.png")+")"}},[i("v-uni-view",{staticClass:"txt"},[t._v("距结束仅剩")]),i("v-uni-view",{staticClass:"clockrun"},[i("uni-count-down",{attrs:{day:t.goodsSkuDetail.discountTimeMachine.d,hour:t.goodsSkuDetail.discountTimeMachine.h,minute:t.goodsSkuDetail.discountTimeMachine.i,second:t.goodsSkuDetail.discountTimeMachine.s,color:"#fff",splitorColor:"#FF4644",backgroundColor:"#FF4644"}})],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"group-wrap padding-top"},[i("v-uni-view",{staticClass:"goods-module-wrap"},[i("v-uni-text",{staticClass:"promotion-tag color-base-bg"},[t._v("专题价")]),i("v-uni-text",{staticClass:"price-symbol color-base-text"},[t._v(t._s(t.$lang("common.currencySymbol")))]),i("v-uni-text",{staticClass:"price color-base-text"},[t._v(t._s(t.goodsSkuDetail.topic_price))]),t.goodsSkuDetail.price>0?i("v-uni-view",{staticClass:"market-price-wrap"},[i("v-uni-text",{staticClass:"unit"},[t._v(t._s(t.$lang("common.currencySymbol")))]),i("v-uni-text",{staticClass:"money"},[t._v(t._s(t.goodsSkuDetail.price))])],1):t._e(),i("v-uni-view",{staticClass:"follow-and-share"},[i("v-uni-text",{staticClass:"follow iconfont iconfenxiang2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSharePopup()}}}),i("v-uni-text",{staticClass:"share iconfont",class:1==t.whetherCollection?"iconlikefill color-base-text":"iconguanzhu",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.editCollection()}}})],1)],1),i("v-uni-view",{staticClass:"goods-module-wrap info"},[i("v-uni-text",{staticClass:"sku-name-wrap"},[t._v(t._s(t.goodsSkuDetail.goods_name))]),t.goodsSkuDetail.introduction?i("v-uni-text",{staticClass:"introduction color-base-text"},[t._v(t._s(t.goodsSkuDetail.introduction))]):t._e(),i("v-uni-view",{staticClass:"logistics-wrap"},[t.Development?[t.goodsSkuDetail.is_free_shipping?i("v-uni-text",[t._v("快递 包邮")]):i("v-uni-text",[t._v("快递 买家承担")])]:t._e(),i("v-uni-text",[t._v("销量 "+t._s(t.goodsSkuDetail.sale_num)+" "+t._s(t.goodsSkuDetail.unit))])],2)],1)],1),i("v-uni-view",{staticClass:"newdetail margin-bottom"},[t.goodsSkuDetail.sku_spec_format?i("v-uni-view",{staticClass:"item selected-sku-spec",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.topic.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"label"},[t._v("选择")]),i("v-uni-view",{staticClass:"box"},t._l(t.goodsSkuDetail.sku_spec_format,(function(e,o){return i("v-uni-text",{key:o},[t._v(t._s(e.spec_name)+"/"+t._s(e.spec_value_name))])})),1),i("v-uni-text",{staticClass:"iconfont iconright"})],1):t._e(),t.goodsSkuDetail.goods_attr_format&&t.goodsSkuDetail.goods_attr_format.length>0?i("v-uni-view",{staticClass:"item goods-attribute",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openAttributePopup()}}},[i("v-uni-view",{staticClass:"label"},[t._v("属性")]),i("v-uni-view",{staticClass:"box"},t._l(t.goodsSkuDetail.goods_attr_format,(function(e,o){return o<2?i("v-uni-text",{key:o},[t._v(t._s(e.attr_name)+": "+t._s(e.attr_value_name))]):t._e()})),1),i("v-uni-text",{staticClass:"iconfont iconright"})],1):t._e(),t.goodsSkuDetail.goods_service.length?i("v-uni-view",{staticClass:"item service",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openMerchantsServicePopup()}}},[i("v-uni-view",{staticClass:"label"},[t._v("服务")]),i("v-uni-view",{staticClass:"list-wrap"},t._l(t.goodsSkuDetail.goods_service,(function(e,o){return o<3?i("v-uni-view",{key:o,staticClass:"item-wrap"},[i("v-uni-text",{staticClass:"iconfont icondui color-base-text"}),i("v-uni-text",[t._v(t._s(e.service_name))])],1):t._e()})),1),i("v-uni-text",{staticClass:"iconfont iconright"})],1):t._e()],1),i("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"attributePopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"goods-attribute-popup-layer popup-layer"},[i("v-uni-view",{staticClass:"head-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAttributePopup()}}},[i("v-uni-text",[t._v("商品属性")]),i("v-uni-text",{staticClass:"iconfont iconclose"})],1),i("v-uni-scroll-view",{staticClass:"goods-attribute-body",attrs:{"scroll-y":!0}},t._l(t.goodsSkuDetail.goods_attr_format,(function(e,o){return i("v-uni-view",{key:o,staticClass:"item"},[i("v-uni-text",{staticClass:"attr-name"},[t._v(t._s(e.attr_name))]),i("v-uni-text",{staticClass:"value-name"},[t._v(t._s(e.attr_value_name))])],1)})),1),i("v-uni-view",{staticClass:"button-box"},[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAttributePopup()}}},[t._v("确定")])],1)],1)],1)],1),i("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"merchantsServicePopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"goods-merchants-service-popup-layer popup-layer"},[i("v-uni-view",{staticClass:"head-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeMerchantsServicePopup()}}},[i("v-uni-text",[t._v(t._s(t.$lang("service")))]),i("v-uni-text",{staticClass:"iconfont iconclose"})],1),i("v-uni-scroll-view",{attrs:{"scroll-y":!0}},t._l(t.goodsSkuDetail.goods_service,(function(e,o){return i("v-uni-view",{key:o,staticClass:"item",class:{"empty-desc":!e.desc}},[i("v-uni-view",{staticClass:"iconfont icondui color-base-text"}),i("v-uni-view",{staticClass:"info-wrap"},[i("v-uni-text",{staticClass:"title"},[t._v(t._s(e.service_name))]),e.desc?i("v-uni-text",{staticClass:"describe"},[t._v(t._s(e.desc))]):t._e()],1)],1)})),1),i("v-uni-view",{staticClass:"button-box"},[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeMerchantsServicePopup()}}},[t._v("确定")])],1)],1)],1)],1),1==t.evaluateConfig.evaluate_show?i("v-uni-view",{staticClass:"group-wrap"},[i("v-uni-view",{staticClass:"goods-evaluate",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toEvaluateDetail(t.goodsSkuDetail.goods_id)}}},[i("v-uni-view",{staticClass:"tit",class:{active:t.goodsEvaluate.content}},[i("v-uni-view",[i("v-uni-text",{staticClass:"color-title font-size-toolbar"},[t._v("评价"),i("v-uni-text",{staticClass:"font-size-base"},[t._v("("+t._s(t.goodsSkuDetail.evaluate)+")")])],1),t.goodsEvaluate.content?i("v-uni-view",{staticClass:"evaluate-item-empty"},[i("v-uni-text",{staticClass:"font-size-tag"},[t._v("查看全部")]),i("v-uni-text",{staticClass:"iconfont iconright font-size-tag"})],1):i("v-uni-text",{staticClass:"evaluate-item-empty"},[t._v("暂无评价")])],1)],1),t.goodsEvaluate.content?i("v-uni-view",{staticClass:"evaluate-item"},[i("v-uni-view",{staticClass:"evaluator"},[i("v-uni-view",{staticClass:"evaluator-info"},[i("v-uni-view",{staticClass:"evaluator-face"},[t.goodsEvaluate.member_headimg?i("v-uni-image",{attrs:{src:t.$util.img(t.goodsEvaluate.member_headimg),mode:"aspectFill"},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.goodsEvaluate.member_headimg=t.$util.getDefaultImage().default_headimg}}}):i("v-uni-image",{attrs:{src:t.$util.getDefaultImage().default_headimg,mode:"aspectFill"},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.goodsEvaluate.member_headimg=t.$util.getDefaultImage().default_headimg}}})],1),i("v-uni-text",{staticClass:"evaluator-name"},[t._v(t._s(t.goodsEvaluate.member_name))])],1),i("v-uni-text",{staticClass:"time color-tip"},[t._v(t._s(t.$util.timeStampTurnTime(t.goodsEvaluate.create_time)))])],1),i("v-uni-view",{staticClass:"cont margin-top"},[t._v(t._s(t.goodsEvaluate.content))]),t.goodsEvaluate.images?i("v-uni-view",{staticClass:"evaluate-img"},t._l(t.goodsEvaluate.images,(function(e,o){return i("v-uni-view",{key:o,staticClass:"img-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewEvaluate(o,"images")}}},[i("v-uni-image",{attrs:{src:t.$util.img(e),mode:"aspectFit"}})],1)})),1):t._e()],1):t._e()],1)],1):t._e(),i("v-uni-view",{staticClass:"goods-detail-tab"},[i("v-uni-view",{staticClass:"detail-tab"},[i("v-uni-view",{staticClass:"tab-item",class:0==t.detailTab?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.detailTab=0}}},[t._v("商品详情")])],1),i("v-uni-view",{staticClass:"detail-content",class:1==t.detailTab?"active":""},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==t.detailTab,expression:"detailTab == 0"}],staticClass:"detail-content-item"},[t.goodsSkuDetail.goods_content?i("v-uni-view",{staticClass:"goods-details"},[i("v-uni-rich-text",{attrs:{nodes:t.goodsSkuDetail.goods_content}})],1):i("v-uni-view",{staticClass:"goods-details active"},[t._v("该商家暂无上传相关详情哦！")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==t.detailTab,expression:"detailTab == 1"}],staticClass:"detail-content-item"},[t.service?i("v-uni-view",{staticClass:"goods-details"},[i("v-uni-rich-text",{attrs:{nodes:t.service}})],1):i("v-uni-view",{staticClass:"goods-details active"},[t._v("该商品暂无相关售后哦！")])],1)],1)],1),i("nsGoodsRecommend",{ref:"goodrecommend"}),i("ns-goods-sku",{ref:"goodsSku",attrs:{"goods-detail":t.goodsSkuDetail},on:{refresh:function(e){arguments[0]=e=t.$handleEvent(e),t.refreshGoodsSkuDetail.apply(void 0,arguments)}}}),i("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"posterPopup",staticClass:"poster-layer",attrs:{type:"bottom"}},["-1"!=t.poster?[i("v-uni-view",{style:{height:t.posterHeight>0?t.posterHeight+80+"px":""}},[i("v-uni-view",{staticClass:"image-wrap"},[i("v-uni-image",{style:{height:t.posterHeight>0?t.posterHeight+"px":""},attrs:{src:t.$util.img(t.poster),"show-menu-by-longpress":!0}})],1),i("v-uni-view",{staticClass:"save"},[t._v("长按保存图片")])],1),i("v-uni-view",{staticClass:"close iconfont iconclose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePosterPopup()}}})]:i("v-uni-view",{staticClass:"msg"},[t._v(t._s(t.posterMsg))])],2)],1),i("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"sharePopup",staticClass:"share-popup",attrs:{type:"bottom"}},[i("v-uni-view",[i("v-uni-view",{staticClass:"share-title"},[t._v("分享")]),i("v-uni-view",{staticClass:"share-content"},[i("v-uni-view",{staticClass:"share-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPosterPopup.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"share-btn",attrs:{plain:!0}},[i("v-uni-view",{staticClass:"iconfont iconpengyouquan"}),i("v-uni-text",[t._v("生成分享海报")])],1)],1),i("v-uni-view",{staticClass:"share-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyUrl.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"share-btn",attrs:{plain:!0}},[i("v-uni-view",{staticClass:"iconfont iconfuzhilianjie"}),i("v-uni-text",[t._v("复制链接")])],1)],1)],1),i("v-uni-view",{staticClass:"share-footer",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeSharePopup.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("取消分享")])],1)],1)],1)],1)],1)],1),i("loading-cover",{ref:"loadingCover"}),i("ns-login",{ref:"login"}),i("ns-goods-action",{attrs:{safeArea:t.isIphoneX}},[1==t.goodsSkuDetail.goods_state?[i("ns-goods-action-icon",{attrs:{text:"首页",icon:"iconshouye1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goHome.apply(void 0,arguments)}}}),1==t.kefuConfig.open||1==t.kefuConfig.system?i("ns-goods-action-icon",{attrs:{text:"客服",icon:"iconkefu1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goConnect.apply(void 0,arguments)}}}):t._e(),i("ns-goods-action-icon",{attrs:{text:"购物车",icon:"icongouwuche2","corner-mark":t.cartCount>0?t.cartCount+"":""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCart.apply(void 0,arguments)}}}),0!=t.goodsSkuDetail.stock||t.goodsSkuDetail.sku_spec_format?i("ns-goods-action-button",{staticClass:"goods-action-button active1",attrs:{text:"立即抢购"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.topic.apply(void 0,arguments)}}}):[i("ns-goods-action-button",{staticClass:"goods-action-button active3",attrs:{"disabled-text":"库存不足",disabled:!0}})]]:[i("ns-goods-action-button",{staticClass:"goods-action-button active2",attrs:{"disabled-text":"该商品已下架",disabled:!0}})]],2),t.showTop?i("to-top",{on:{toTop:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollToTopNative()}}}):t._e()],1)},s=[]},"8b23":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.goods-detail[data-v-140276d0]{height:100%;padding-bottom:%?100?%}.goods-detail.active[data-v-140276d0]{padding-bottom:%?170?%}.goods-media[data-v-140276d0]{width:100%;position:relative;overflow:hidden}.goods-media[data-v-140276d0]:after{padding-top:100%;display:block;content:""}.goods-media .goods-img[data-v-140276d0],\r\n.goods-media .goods-video[data-v-140276d0]{position:absolute;width:100%;height:100%;left:0;top:0;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-timing-function:cubic-bezier(0,0,.25,1);transition-timing-function:cubic-bezier(0,0,.25,1);-webkit-transition-duration:.35s;transition-duration:.35s;-webkit-transform:translateZ(0);transform:translateZ(0)}.goods-media .goods-img[data-v-140276d0]{-webkit-transform:translateX(100%);transform:translateX(100%)}.goods-media .goods-video[data-v-140276d0]{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.goods-media .goods-img.show[data-v-140276d0],\r\n.goods-media .goods-video.show[data-v-140276d0]{-webkit-transform:translateX(0);transform:translateX(0)}.goods-media .goods-img .swiper[data-v-140276d0]{width:100%;height:100%}.goods-media .goods-img .swiper .item[data-v-140276d0]{width:100%;height:100%}.goods-media .goods-img .swiper uni-image[data-v-140276d0]{width:100%;height:100%}.goods-media .goods-img .img-indicator-dots[data-v-140276d0]{position:absolute;z-index:5;bottom:%?40?%;right:%?40?%;background:hsla(0,0%,39.2%,.4);color:#fff;font-size:%?24?%;line-height:%?40?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;padding:0 %?20?%}.goods-media .goods-video uni-video[data-v-140276d0]{width:100%;height:100%}.goods-media .goods-video .uni-video-cover[data-v-140276d0]{background:none}.goods-media .media-mode[data-v-140276d0]{position:absolute;width:100%;z-index:5;bottom:%?40?%;bottom:%?80?%;text-align:center;line-height:%?50?%}.goods-media .media-mode uni-text[data-v-140276d0]{background:hsla(0,0%,39.2%,.4);color:#fff;font-size:%?24?%;line-height:%?50?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;padding:0 %?30?%;display:inline-block}.goods-media .media-mode uni-text[data-v-140276d0]:last-child{margin-left:%?40?%}.goods-promotion[data-v-140276d0]{position:relative;height:%?108?%;overflow:hidden;background-repeat:no-repeat;background-size:100% 100%;padding:0 %?30?%}.goods-promotion .price-info[data-v-140276d0]{margin-right:%?280?%;color:#fff;height:inherit}.goods-promotion .price-info .img-wrap[data-v-140276d0]{width:%?200?%;height:%?60?%;display:inline-block;vertical-align:text-top}.goods-promotion .price-info .img-wrap uni-image[data-v-140276d0]{width:100%;height:100%}.goods-promotion .price-info .sale-num[data-v-140276d0]{line-height:1;font-size:%?24?%;white-space:nowrap;overflow:hidden;color:#fff;text-overflow:ellipsis}.goods-promotion .countdown[data-v-140276d0]{position:absolute;right:0;top:0;width:%?280?%;text-align:center;height:100%;background-repeat:no-repeat;background-size:100% 100%}.goods-promotion .countdown .txt[data-v-140276d0]{height:%?32?%;text-align:center;line-height:%?32?%;font-size:%?24?%;margin-top:%?10?%;color:#ff4644}.goods-promotion .countdown .clockrun[data-v-140276d0]{margin-top:%?6?%;height:%?40?%;line-height:%?40?%;text-align:center;font-size:%?24?%;color:#fff}.group-wrap[data-v-140276d0]{margin-bottom:%?20?%;padding:0 %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff}.group-wrap .goods-module-wrap[data-v-140276d0]{position:relative}.group-wrap .goods-module-wrap.info[data-v-140276d0]{padding:%?20?% 0 %?20?%}.group-wrap .goods-module-wrap .price-symbol[data-v-140276d0]{font-size:%?32?%;position:relative;top:%?8?%;font-weight:700;margin-right:%?4?%}.group-wrap .goods-module-wrap .price[data-v-140276d0]{font-size:%?48?%;position:relative;-webkit-align-self:flex-end;align-self:flex-end;line-height:1;font-weight:700;vertical-align:middle}.group-wrap .goods-module-wrap .member-price-wrap[data-v-140276d0]{display:inline-block;font-weight:700;margin-left:%?20?%}.group-wrap .goods-module-wrap .member-price-wrap .unit[data-v-140276d0]{font-size:%?24?%;margin-right:%?4?%}.group-wrap .goods-module-wrap .member-price-wrap .money[data-v-140276d0]{font-size:%?28?%}.group-wrap .goods-module-wrap .member-price-wrap .img-wrap[data-v-140276d0]{width:%?83?%;height:%?34?%;font-size:%?22?%;-webkit-border-radius:%?6?%;border-radius:%?6?%;display:inline-block;vertical-align:text-top;margin-left:%?10?%}.group-wrap .goods-module-wrap .member-price-wrap .img-wrap uni-image[data-v-140276d0]{width:100%;height:100%}.group-wrap .goods-module-wrap .sku-name-wrap[data-v-140276d0],\r\n.group-wrap .goods-module-wrap .introduction[data-v-140276d0]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.group-wrap .goods-module-wrap .sku-name-wrap[data-v-140276d0]{font-weight:700;font-size:%?32?%;line-height:1.6}.group-wrap .goods-module-wrap .introduction[data-v-140276d0]{margin:%?20?% 0;font-size:%?28?%}.group-wrap .goods-module-wrap .logistics-wrap[data-v-140276d0]{display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?20?%}.group-wrap .goods-module-wrap .logistics-wrap uni-text[data-v-140276d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?24?%;color:#909399;text-align:center}.group-wrap .goods-module-wrap .logistics-wrap uni-text[data-v-140276d0]:first-of-type{text-align:left}.group-wrap .goods-module-wrap .logistics-wrap uni-text[data-v-140276d0]:last-of-type{text-align:right}.group-wrap .market-price-wrap[data-v-140276d0]{margin-left:%?20?%;color:#909399;text-decoration:line-through;display:inline-block;vertical-align:bottom;line-height:normal}.group-wrap .market-price-wrap .unit[data-v-140276d0]{margin-right:%?4?%;font-size:%?24?%}.group-wrap .market-price-wrap .money[data-v-140276d0]{font-size:%?28?%}.follow-and-share[data-v-140276d0]{position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);margin-top:%?8?%}.follow-and-share .iconfont[data-v-140276d0]{font-weight:700;margin-right:%?30?%;font-size:%?32?%;vertical-align:middle}.follow-and-share .iconfont[data-v-140276d0]:first-child{font-size:%?30?%}.follow-and-share .iconfont[data-v-140276d0]:last-child{margin-right:0}.follow-and-share .fenxiao[data-v-140276d0]{display:block;position:absolute;font-size:%?24?%;font-weight:700;width:140%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;left:%?-80?%;text-align:right}.goods-cell[data-v-140276d0]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?20?% 0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;line-height:%?40?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.goods-cell .tit[data-v-140276d0]{color:#909399;font-size:%?28?%;margin-right:%?20?%;width:%?70?%}.goods-cell .box[data-v-140276d0]{width:90%;font-size:%?28?%;line-height:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.goods-evaluate[data-v-140276d0]{padding:%?20?% 0;background:#fff}.goods-evaluate .tit[data-v-140276d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?24?%}.goods-evaluate .tit.active[data-v-140276d0]{padding-bottom:%?20?%;border-bottom:%?1?% solid #eee}.goods-evaluate .tit uni-view[data-v-140276d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;line-height:%?40?%;text-align:left}.goods-evaluate .evaluate-item[data-v-140276d0]{padding:%?30?% 0 0}.goods-evaluate .evaluate-item .evaluator[data-v-140276d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.goods-evaluate .evaluate-item .evaluator .evaluator-info[data-v-140276d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.goods-evaluate .evaluate-item .evaluator .evaluator-face[data-v-140276d0]{width:%?80?%;height:%?80?%;-webkit-border-radius:50%;border-radius:50%;overflow:hidden}.goods-evaluate .evaluate-item .evaluator .evaluator-face uni-image[data-v-140276d0]{width:100%;height:100%;-webkit-border-radius:50%;border-radius:50%}.goods-evaluate .evaluate-item .evaluator .evaluator-name[data-v-140276d0]{margin-left:%?20?%;font-size:%?28?%;max-width:50%}.goods-evaluate .evaluate-item .evaluator .time[data-v-140276d0]{font-size:%?22?%}.goods-evaluate .evaluate-item .cont[data-v-140276d0]{text-align:justify;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;-webkit-box-pack:center;overflow:hidden;word-break:break-all;font-size:%?24?%}.goods-evaluate .evaluate-item .evaluate-img[data-v-140276d0]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;margin-top:%?20?%}.goods-evaluate .evaluate-item .evaluate-img .img-box[data-v-140276d0]{width:%?100?%;height:%?100?%;overflow:hidden;margin:0 %?20?% %?20?% 0;-webkit-border-radius:%?10?%;border-radius:%?10?%}.goods-evaluate .evaluate-item .evaluate-img .img-box uni-image[data-v-140276d0]{width:100%;height:100%}.goods-evaluate .evaluate-item-empty[data-v-140276d0]{float:right;color:#909399}.goods-evaluate .evaluate-item-empty uni-text[data-v-140276d0]:first-child{margin-right:%?30?%}.goods-evaluate .evaluate-item-empty .iconfont[data-v-140276d0]{margin-top:%?2?%}.goods-action-button[data-v-140276d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.goods-merchants-service-popup-layer[data-v-140276d0]{height:%?660?%}.goods-merchants-service-popup-layer uni-scroll-view[data-v-140276d0]{position:absolute;left:0;right:0;height:65%}.goods-merchants-service-popup-layer uni-scroll-view .item[data-v-140276d0]{padding:0 %?30?%;height:%?120?%;line-height:%?100?%;border-bottom:%?2?% solid #eee}.goods-merchants-service-popup-layer uni-scroll-view .item[data-v-140276d0]:last-child{border-bottom:none}.goods-merchants-service-popup-layer uni-scroll-view .item .iconfont[data-v-140276d0]{display:inline-block;margin-right:%?20?%;font-size:%?32?%;vertical-align:top}.goods-merchants-service-popup-layer uni-scroll-view .item .info-wrap[data-v-140276d0]{display:inline-block;vertical-align:middle;width:90%}.goods-merchants-service-popup-layer uni-scroll-view .item .info-wrap .title[data-v-140276d0]{display:block;font-size:%?28?%}.goods-merchants-service-popup-layer uni-scroll-view .item .info-wrap .describe[data-v-140276d0]{font-size:%?24?%;color:#909399;display:block;padding:%?10?% 0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.goods-merchants-service-popup-layer uni-scroll-view .item.empty-desc[data-v-140276d0]{height:%?100?%}.goods-merchants-service-popup-layer uni-scroll-view .item.empty-desc .iconfont[data-v-140276d0]{vertical-align:middle}.goods-attribute-popup-layer[data-v-140276d0]{height:%?660?%}.goods-attribute-popup-layer .goods-attribute-body[data-v-140276d0]{position:absolute;left:0;right:0;height:60%}.goods-attribute-popup-layer .goods-attribute-body .item[data-v-140276d0]{padding:%?20?% 0;margin:0 %?30?%;border-bottom:1px solid #eee}.goods-attribute-popup-layer .goods-attribute-body .item .attr-name[data-v-140276d0]{color:#909399;display:inline-block;width:%?150?%;overflow:hidden;vertical-align:text-top}.goods-attribute-popup-layer .goods-attribute-body .item .value-name[data-v-140276d0]{margin-left:%?20?%;vertical-align:text-top}.goods-attribute-popup-layer .goods-attribute-body .item[data-v-140276d0]:last-child{border-bottom:none}.goods-detail-tab[data-v-140276d0]{width:100%;padding-top:%?20?%;background:#fff}.goods-detail-tab .detail-tab[data-v-140276d0]{margin-left:%?30?%}.goods-detail-tab .detail-tab .tab-item[data-v-140276d0]{height:%?70?%;color:#303133;line-height:%?70?%;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:%?32?%}.goods-detail-tab .detail-content[data-v-140276d0]{width:100%}.goods-detail-tab .goods-details[data-v-140276d0]{padding:%?20?%;margin-bottom:%?100?%;overflow:hidden;background:#fff}.goods-detail-tab .goods-details.active[data-v-140276d0]{min-height:%?150?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#909399}.poster-layer .generate-poster[data-v-140276d0]{padding:%?40?% 0}.poster-layer .generate-poster .iconfont[data-v-140276d0]{font-size:%?80?%;color:#07c160;line-height:normal}.poster-layer .generate-poster > uni-view[data-v-140276d0]{text-align:center}.poster-layer .generate-poster > uni-view[data-v-140276d0]:last-child{margin-top:%?20?%}.poster-layer .image-wrap[data-v-140276d0]{width:70%;margin:30px auto 20px auto;-webkit-box-shadow:0 0 16px hsla(0,0%,39.2%,.3);box-shadow:0 0 16px hsla(0,0%,39.2%,.3)}.poster-layer .image-wrap uni-image[data-v-140276d0]{width:100%;height:100%;height:%?750?%}.poster-layer .msg[data-v-140276d0]{padding:%?40?%}.poster-layer .save[data-v-140276d0]{text-align:center;height:%?80?%;line-height:%?80?%}.poster-layer .close[data-v-140276d0]{position:absolute;top:0;right:%?20?%;width:%?40?%;height:%?80?%;font-size:%?50?%}.share-popup .share-title[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-title[data-v-140276d0]{line-height:%?60?%;font-size:%?32?%;padding:%?15?% 0;text-align:center}.share-popup .share-content[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content[data-v-140276d0]{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-flex-wrap:wrap;-moz-flex-wrap:wrap;-ms-flex-wrap:wrap;-o-flex-wrap:wrap;flex-wrap:wrap;padding:%?80?% %?15?%}.share-popup .share-content .share-box[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box[data-v-140276d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.share-popup .share-content .share-box .share-btn[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box .share-btn[data-v-140276d0]{margin:0;padding:0;border:none;line-height:1;height:auto}.share-popup .share-content .share-box .share-btn uni-text[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box .share-btn uni-text[data-v-140276d0]{margin-top:%?20?%;font-size:%?24?%;display:block;color:#303133}.share-popup .share-content .share-box .iconfont[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box .iconfont[data-v-140276d0]{font-size:%?80?%;line-height:normal}.share-popup .share-content .share-box .iconfuzhilianjie[data-v-140276d0],\r\n.share-popup .share-content .share-box .iconpengyouquan[data-v-140276d0],\r\n.share-popup .share-content .share-box .iconhaowuquan[data-v-140276d0],\r\n.share-popup .share-content .share-box .iconiconfenxianggeihaoyou[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box .iconfuzhilianjie[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box .iconpengyouquan[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box .iconhaowuquan[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-content .share-box .iconiconfenxianggeihaoyou[data-v-140276d0]{color:#07c160}.share-popup .share-footer[data-v-140276d0],\r\n.uni-popup__wrapper-box .share-footer[data-v-140276d0]{height:%?90?%;line-height:%?90?%;border-top:%?2?% solid #eee;text-align:center}.newdetail[data-v-140276d0]{padding:0 %?30?%;background:#fff}.newdetail .item[data-v-140276d0]{height:%?78?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:%?1?% solid #eee}.newdetail .item .label[data-v-140276d0]{width:%?70?%;color:#909399;font-size:%?28?%;margin-right:%?20?%}.newdetail .item[data-v-140276d0]:last-child{border-bottom:none}.newdetail .item.free .free-tip[data-v-140276d0]{border:1px solid;padding:0 %?10?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;margin-right:%?10?%;font-size:%?24?%}.newdetail .item.free .value[data-v-140276d0]{display:inline-block;width:70%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.newdetail .item.service .list-wrap[data-v-140276d0]{margin-right:%?20?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-webkit-flex:1;flex:1}.newdetail .item.service .list-wrap .item-wrap[data-v-140276d0]{display:inline;font-size:%?28?%;margin-right:%?20?%}.newdetail .item.service .list-wrap .item-wrap[data-v-140276d0]:last-child{margin-right:0}.newdetail .item.service .list-wrap .item-wrap .icondui[data-v-140276d0]{font-size:%?28?%;margin-right:%?6?%;line-height:%?30?%}.newdetail .item.selected-sku-spec .box[data-v-140276d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-right:%?60?%;width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.newdetail .item.selected-sku-spec .box uni-text[data-v-140276d0]{margin-right:%?10?%}.newdetail .item.selected-sku-spec .box uni-text[data-v-140276d0]:last-child{margin-right:0}.newdetail .item.goods-attribute .box[data-v-140276d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-right:%?60?%;width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.newdetail .item.goods-attribute .box uni-text[data-v-140276d0]{margin-right:%?20?%}.newdetail .item.goods-attribute .box uni-text[data-v-140276d0]:last-child{margin-right:0}.newdetail .item .img-wrap[data-v-140276d0]{width:%?38?%;height:%?38?%;position:absolute;right:%?30?%}.newdetail .item .img-wrap uni-image[data-v-140276d0]{width:100%;height:100%}.popup-layer[data-v-140276d0]{background:#fff}.popup-layer .head-wrap[data-v-140276d0]{font-size:%?32?%;line-height:%?100?%;height:%?100?%;display:block;text-align:center}.popup-layer .head-wrap .iconfont[data-v-140276d0]{position:absolute;float:right;right:22px;font-size:%?32?%}.popup-layer .button-box[data-v-140276d0]{width:100%;position:absolute;bottom:0;z-index:1;margin-bottom:%?30?%}.popup-layer .button-box uni-button[data-v-140276d0]{height:%?80?%}.more-img-wrap[data-v-140276d0]{width:%?38?%;height:%?38?%;position:absolute;right:%?30?%}.more-img-wrap uni-image[data-v-140276d0]{width:100%;height:100%}.iconright[data-v-140276d0]{color:#909399;font-size:%?28?%;position:absolute;right:%?30?%}.promotion-tag[data-v-140276d0]{color:#fff;font-size:%?20?%;-webkit-border-top-left-radius:%?30?%;border-top-left-radius:%?30?%;-webkit-border-bottom-left-radius:%?30?%;border-bottom-left-radius:%?30?%;padding:%?4?% %?10?%;margin-right:%?10?%;vertical-align:middle}',""]),t.exports=e},"8ed3":function(t,e,i){"use strict";i.r(e);var o=i("792e"),a=i("d9f5");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("ac244"),i("3dac");var n,d=i("f0c5"),r=Object(d["a"])(a["default"],o["b"],o["c"],!1,null,"140276d0",null,!1,o["a"],n);e["default"]=r.exports},9749:function(t,e,i){var o=i("8b23");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("534dd2b8",o,!0,{sourceMap:!1,shadowMode:!1})},ac244:function(t,e,i){"use strict";var o=i("9749"),a=i.n(o);a.a},d9f5:function(t,e,i){"use strict";i.r(e);var o=i("61b4"),a=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e["default"]=a.a},f936:function(t,e,i){"use strict";var o=i("4ea4");i("99af"),i("4160"),i("c975"),i("b680"),i("acd8"),i("e25e"),i("ac1f"),i("5319"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=o(i("1da1")),s=o(i("df06")),n=i("c025"),d={data:function(){return{topics_id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:null,goodsCircle:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var e=this;if(this.topics_id=t.id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&uni.setStorageSync("source_member",t.source_member),t.scene){var i=decodeURIComponent(t.scene);i=i.split("&"),i.length&&i.forEach((function(t){-1!=t.indexOf("id")&&(e.topics_id=t.split("-")[1]),-1!=t.indexOf("source_member")&&uni.setStorageSync("source_member",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$langConfig.refresh(),t.token=uni.getStorageSync("token"),""!=t.token&&(t.getCartCount(),t.getMemberId()),t.getKekuConfig(),e.next=6,t.getGoodsSkuDetail();case 6:t.modifyGoodsInfo(),t.getEvaluateConfig();case 8:case"end":return e.stop()}}),e)})))()},methods:{goConnect:function(){var t=this;if(this.token){var e={skuId:t.goodsSkuDetail.sku_id};1==this.kefuConfig.open?t.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(this.kefuConfig.open_url)}):1==this.kefuConfig.system&&t.$util.redirectTo("/otherpages/chat/room/room",e)}else this.$refs.login.open("/promotionpages/topics/goods_detail/goods_detail?id="+this.topics_id)},getGoodsSkuDetail:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i,o,a,n,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.sendRequest({url:"/topic/api/topicgoods/detail",async:!1,data:{topic_id:t.topics_id}});case 2:if(i=e.sent,o=i.data,null!=o.goods_sku_detail){if(t.goodsSkuDetail=o.goods_sku_detail,t.skuId=t.goodsSkuDetail.sku_id,i.timestamp>t.goodsSkuDetail.end_time?(t.$util.showToast({title:"专题活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)):t.goodsSkuDetail.discountTimeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-i.timestamp),t.goodsSkuDetail.show_price=t.goodsSkuDetail.topic_price,t.goodsSkuDetail.video_url&&(t.switchMedia="video"),t.goodsSkuDetail.sku_images?t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","):t.goodsSkuDetail.sku_images=[],t.goodsSkuDetail.goods_spec_format&&t.goodsSkuDetail.goods_image&&(t.goodsSkuDetail.goods_image=t.goodsSkuDetail.goods_image.split(","),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.concat(t.goodsSkuDetail.goods_image)),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.show_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.show_price).toFixed(2):0,t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(t.goodsSkuDetail.goods_attr_format),t.goodsSkuDetail.goods_attr_format=t.$util.unique(a,"attr_id"),n=0;n<t.goodsSkuDetail.goods_attr_format.length;n++)for(d=0;d<a.length;d++)t.goodsSkuDetail.goods_attr_format[n].attr_id==a[d].attr_id&&t.goodsSkuDetail.goods_attr_format[n].attr_value_id!=a[d].attr_value_id&&(t.goodsSkuDetail.goods_attr_format[n].attr_value_name+="、"+a[d].attr_value_name);t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.$langConfig.title(t.goodsSkuDetail.goods_name),t.goodsSkuDetail.goods_content&&(t.goodsSkuDetail.goods_content=(0,s.default)(t.goodsSkuDetail.goods_content)),t.contactData={title:t.goodsSkuDetail.sku_name,path:"/promotionpages/topic/detail/detail?id="+t.topics_id,img:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})},""!=t.token&&t.getWhetherCollection(),t.setWechatShare(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}else t.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return e.stop()}}),e)})))()},refreshGoodsSkuDetail:function(t){var e=this;Object.assign(this.goodsSkuDetail,t),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){e.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},topic:function(){var t=this;uni.getStorageSync("token")?this.$refs.goodsSku.show("topic",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/topics/goods_detail/goods_detail?id="+this.topics_id)},swiperChange:function(t){this.swiperCurrent=t.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var t=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i&&(t.goodsEvaluate=i,t.goodsEvaluate.images&&(t.goodsEvaluate.images=t.goodsEvaluate.images.split(",")),1==t.goodsEvaluate.is_anonymous&&(t.goodsEvaluate.member_name=t.goodsEvaluate.member_name.replace(t.goodsEvaluate.member_name.substring(1,t.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,e){for(var i=[],o=0;o<this.goodsEvaluate[e].length;o++)i.push(this.$util.img(this.goodsEvaluate[e][o]));uni.previewImage({current:t,urls:i})},getWhetherCollection:function(){var t=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){t.whetherCollection=e.data}})},editCollection:function(){var t=this;this.token?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/topics/goods_detail/goods_detail?id="+this.topics_id)},getCartCount:function(){var t=this;this.$store.dispatch("getCartNumber").then((function(e){t.cartCount=e}))},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(t){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(t){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var e=uni.createSelectorQuery().in(t).select(".poster-layer .image-wrap");e.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));""!=t.token?t.posterHeight=parseInt(1240/o):t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var t=this,e={id:this.topics_id};this.memberId&&(e.source_member=this.memberId),this.$api.sendRequest({url:"/topic/api/topicgoods/poster",data:{page:"/promotionpages/topics/goods_detail/goods_detail",qrcode_param:JSON.stringify(e)},success:function(e){0==e.code?t.poster=e.data.path+"?time="+(new Date).getTime():t.posterMsg=e.message}})},previewMedia:function(t){for(var e=[],i=0;i<this.goodsSkuDetail.sku_images.length;i++)e.push(this.$util.img(this.goodsSkuDetail.sku_images[i],{size:"big"}));uni.previewImage({current:t,urls:e})},swiperImageError:function(t){this.goodsSkuDetail.sku_images[t]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},getMemberId:function(){var t=this;this.$api.sendRequest({url:"/api/member/id",success:function(e){e.code>=0&&(t.memberId=e.data,t.setWechatShare())}})},getService:function(){var t=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(e){if(0==e.code&&e.data){e.data.content;e.data.content&&(t.service=(0,s.default)(e.data.content))}}})},setWechatShare:function(){var t=this;this.$util.isWeiXin()&&this.$api.sendRequest({url:"/wechat/api/wechat/share",data:{url:window.location.href},success:function(e){if(0==e.code){var i=new n.Weixin;i.init(e.data.jssdk_config);var o=e.data.share_config,a=t.$config.h5Domain+"/promotionpages/topic/goods_detail/goods_detail?id="+t.topics_id;t.memberId&&(a+="&source_member="+t.memberId),i.setShareData({title:t.goodsSkuDetail.sku_name,desc:o.goods_param_1+"："+t.$lang("common.currencySymbol")+t.goodsSkuDetail.topic_price+"\r\n"+o.goods_param_2+"\r\n收藏热度：★★★★★",link:a,imgUrl:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})})}}})},getEvaluateConfig:function(){var t=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(e){if(0==e.code){var i=e.data;t.evaluateConfig=i,1==t.evaluateConfig.evaluate_show&&t.getGoodsEvaluate()}}})},copyUrl:function(){var t=this,e=this.$config.h5Domain+"/promotionpages/topic/goods_detail/goods_detail?id="+this.topics_id;this.memberId&&(e+="&source_member="+this.memberId),this.$util.copy(e,(function(){t.closeSharePopup()}))},getKekuConfig:function(){var t=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(e){0==e.code&&(t.kefuConfig=e.data,t.kefuConfig.system&&!t.addonIsExit.servicer&&(t.kefuConfig.system=0))}})},toEvaluateList:function(t){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:t})}}};e.default=d}}]);
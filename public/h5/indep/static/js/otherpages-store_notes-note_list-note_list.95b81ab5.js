(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-store_notes-note_list-note_list"],{"0a02":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.notes-nav[data-v-ad5ece78]{overflow:hidden;padding:0 %?20?%;background-color:#fff}.notes-nav .notes-list[data-v-ad5ece78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?90?%;white-space:nowrap}.notes-nav .notes-list .notes-item[data-v-ad5ece78]{display:inline-block;margin:0 %?20?%;height:%?86?%;text-align:center;line-height:%?90?%}.notes-nav .notes-list .notes-item.active[data-v-ad5ece78]{border-bottom:%?4?% solid}.notes-content[data-v-ad5ece78]{height:100%;width:100%}.note-item[data-v-ad5ece78]{margin:%?30?% %?20?%;padding:%?20?%;background-color:#fff;border-radius:%?6?%;overflow:hidden;position:relative}.note-item .note-title[data-v-ad5ece78]{font-size:%?30?%;font-weight:600;line-height:%?44?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.note-item .notes-highlights-list uni-text[data-v-ad5ece78]{display:inline-block;color:#fff;font-size:%?24?%;line-height:%?36?%;padding:0 %?10?%;border-radius:%?4?%;margin:0 %?5?%}.note-item .note-desc[data-v-ad5ece78]{margin:%?4?% 0 %?8?%;line-height:%?40?%;overflow:hidden}.note-item .note-desc uni-text[data-v-ad5ece78]{float:left;margin-right:%?16?%}.note-item .notes-img-wrap[data-v-ad5ece78]{position:relative;height:%?300?%}.note-item .notes-img-wrap .notes-item-image[data-v-ad5ece78]{width:100%;height:%?300?%;object-fit:cover}.note-item .notes-img-wrap .notes-label[data-v-ad5ece78]{display:inline-block;position:absolute;left:%?20?%;bottom:%?20?%;max-width:calc(100vh - %?40?%);background-color:#fff;line-height:%?36?%;padding:0 %?10?% 0 %?4?%}.note-item .notes-img-wrap .notes-label > span[data-v-ad5ece78]{font-size:%?24?%;margin-left:%?6?%}.note-item .notes-img-wrap .notes-label > span span[data-v-ad5ece78]{margin-right:%?2?%}.note-item .notes-img-wrap-list[data-v-ad5ece78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap;height:auto}.note-item .notes-img-wrap-list uni-image[data-v-ad5ece78]{width:calc((100% - %?40?%) / 3);height:%?210?%;margin-top:%?20?%}.note-item .notes-img-wrap-list uni-image[data-v-ad5ece78]:nth-child(-n + 3){margin-top:0}.note-item .notes-img-wrap-list[data-v-ad5ece78]:after{content:"";width:calc((100% - %?40?%) / 3)}.note-item .note-img-one[data-v-ad5ece78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?420?%}.note-item .note-img-one uni-image[data-v-ad5ece78]{width:100%;height:%?420?%}.note-item .note-img-more[data-v-ad5ece78]{width:100%;white-space:nowrap}.note-item .note-img-more .more-item[data-v-ad5ece78]{overflow:hidden;display:inline-block;width:%?200?%;height:%?200?%;text-align:center;line-height:%?200?%;border-radius:%?10?%}.note-item .note-img-more .more-item ~ .more-item[data-v-ad5ece78]{margin-left:%?16?%}.note-item .note-img-more .more-item uni-image[data-v-ad5ece78]{width:%?200?%;height:%?200?%}.note-item .notes-img-wrap[data-v-ad5ece78]{position:relative;height:%?300?%}.note-item .notes-img-wrap .notes-item-image[data-v-ad5ece78]{width:100%;height:%?300?%;object-fit:cover}.note-item .notes-img-wrap .notes-label[data-v-ad5ece78]{display:inline-block;position:absolute;left:%?20?%;bottom:%?20?%;max-width:calc(100vh - %?40?%);background-color:#fff;line-height:%?36?%;padding:0 %?10?% 0 %?4?%}.note-item .notes-img-wrap .notes-label > span[data-v-ad5ece78]{font-size:%?24?%;margin-left:%?6?%}.note-item .notes-img-wrap .notes-label > span span[data-v-ad5ece78]{margin-right:%?2?%}.note-item .notes-img-wrap-list[data-v-ad5ece78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap;height:auto}.note-item .notes-img-wrap-list uni-image[data-v-ad5ece78]{width:calc((100% - %?40?%) / 3);height:%?210?%;margin-top:%?20?%}.note-item .notes-img-wrap-list uni-image[data-v-ad5ece78]:nth-child(-n + 3){margin-top:0}.note-item .notes-img-wrap-list[data-v-ad5ece78]:after{content:"";width:calc((100% - %?40?%) / 3)}.note-item .rest-info[data-v-ad5ece78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?20?%}.note-item .rest-info .time[data-v-ad5ece78],\r\n.note-item .rest-info .read-info[data-v-ad5ece78]{color:#b6b6b6;font-size:%?24?%}.note-item .rest-info uni-text[data-v-ad5ece78]{margin-left:%?10?%}.note-item .rest-info .read-info > uni-text[data-v-ad5ece78]{margin-left:%?30?%}.empty-box[data-v-ad5ece78]{margin-top:%?200?%}',""]),e.exports=t},"2dab":function(e,t,i){"use strict";var n=i("69c5"),a=i.n(n);a.a},"4a88":function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("c975"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("b6ac")),o={data:function(){return{groupInfo:{groupList:[],currIdent:0,currId:0},noteListInfo:[],giveLikeFlag:!1,showEmpty:!1,memberId:0,mpShareData:null}},onLoad:function(e){var t=this;if(this.$util.getMemberId().then((function(e){t.memberId=e})).catch((function(e){})),e.source_member&&uni.setStorageSync("source_member",e.source_member),e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("sku_id")&&(t.skuId=e.split("-")[1]),-1!=e.indexOf("m")&&uni.setStorageSync("source_member",e.split("-")[1]),-1!=e.indexOf("is_test")&&uni.setStorageSync("is_test",1)}))}},onShow:function(){var e=this;if(uni.getStorageSync("token")&&uni.getStorageSync("source_member")&&this.$util.onSourceMember(uni.getStorageSync("source_member")),!this.addonIsExit.notes)return this.$util.showToast({title:"商家未开启店铺笔记",mask:!0,duration:2e3}),void setTimeout((function(){e.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),2e3);this.getGroup(),this.$refs.mescroll&&this.$refs.mescroll.refresh(),this.$langConfig.refresh()},onShareAppMessage:function(){return this.mpShareData.appMessage},onShareTimeline:function(){return this.mpShareData.timeLine},mixins:[a.default],methods:{getGroup:function(){var e=this;this.showEmpty=!1,this.$api.sendRequest({url:"/notes/api/notes/group",success:function(t){e.showEmpty=!0,0==t.code?0!=t.data.length&&(e.groupInfo.groupList=t.data,e.groupInfo.currId=t.data[0].group_id):e.$util.showToast({title:t.message})},fail:function(t){mescroll.endErr(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},tabCut:function(e,t){this.groupInfo.currIdent=t,this.groupInfo.currId=e,this.$refs.mescroll.refresh(),this.$refs.loadingCover&&this.$refs.loadingCover.show()},getNotesList:function(e){var t=this;this.showEmpty=!1,this.$api.sendRequest({url:"/notes/api/notes/lists",data:{page:e.num,page_size:e.size,group_id:this.groupInfo.currId},success:function(i){t.showEmpty=!0;var n=[];0==i.code?n=i.data.list:t.$util.showToast({title:i.message}),e.endSuccess(n.length),1==e.num&&(t.noteListInfo=[]),t.noteListInfo=t.noteListInfo.concat(n),t.noteListInfo.forEach((function(e,t){e.img=e.cover_img.split(","),e.label=e.goods_highlights.split(",")})),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},noteDetail:function(e){this.$util.redirectTo("/otherpages/store_notes/note_detail/note_detail",{note_id:e})},giveLike:function(e,t){var i=this;if(uni.getStorageSync("token")){if(this.giveLikeFlag)return!1;this.giveLikeFlag=!0;var n=1==this.noteListInfo[t].is_dianzan?"/notes/api/record/delete":"/notes/api/record/add";this.$api.sendRequest({url:n,data:{note_id:e},success:function(e){i.giveLikeFlag=!1,0==e.code&&e.data>0?(i.noteType,i.noteListInfo[t].dianzan_num=1==i.noteListInfo[t].is_dianzan?i.noteListInfo[t].dianzan_num-1:i.noteListInfo[t].dianzan_num+1,i.noteListInfo[t].is_dianzan=1==i.noteListInfo[t].is_dianzan?0:1):i.$util.showToast({title:e.message})}})}else this.$refs.login.open("/otherpages/store_notes/note_list/note_list")}}};t.default=o},"596e":function(e,t,i){"use strict";i.r(t);var n=i("6e21"),a=i("b4cb");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("2dab"),i("7bfb");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"ad5ece78",null,!1,n["a"],s);t["default"]=c.exports},"69c5":function(e,t,i){var n=i("0a02");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("df276efc",n,!0,{sourceMap:!1,shadowMode:!1})},"6e21":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var n={loadingCover:i("4c1d").default,nsEmpty:i("90af").default,nsLogin:i("2bc6").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{attrs:{"data-theme":e.themeStyle}},[i("v-uni-view",{staticClass:"notes-nav"},[i("v-uni-scroll-view",{staticClass:"notes-list",attrs:{"scroll-x":"true"}},e._l(e.groupInfo.groupList,(function(t,n){return i("v-uni-text",{key:n,staticClass:"notes-item",class:n==e.groupInfo.currIdent?"color-base-text active color-base-border":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.tabCut(t.group_id,n)}}},[e._v(e._s(t.group_name))])})),1)],1),0!=e.groupInfo.currId?i("mescroll-uni",{ref:"mescroll",attrs:{top:"94"},on:{getData:function(t){arguments[0]=t=e.$handleEvent(t),e.getNotesList.apply(void 0,arguments)}}},[i("template",{attrs:{slot:"list"},slot:"list"},[i("v-uni-view",{staticClass:"notes-content"},e._l(e.noteListInfo,(function(t,n){return i("v-uni-view",{key:n,staticClass:"note-item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.noteDetail(t.note_id)}}},[i("v-uni-text",{staticClass:"note-title"},[e._v(e._s(t.note_title))]),t.goods_highlights?i("v-uni-view",{staticClass:"notes-highlights-list"},e._l(t.label,(function(t,n){return i("v-uni-text",{key:n,staticClass:"color-base-bg"},[e._v(e._s(t))])})),1):e._e(),i("v-uni-view",{staticClass:"note-desc"},[i("v-uni-text",{staticClass:"color-base-text"},[e._v("#"+e._s("goods_item"==t.note_type?"单品介绍":"掌柜说")+"#")]),e._v(e._s(t.note_abstract))],1),i("v-uni-view",{staticClass:"notes-img-wrap",class:{"notes-img-wrap-list":1==t.cover_type}},[0==t.cover_type?i("v-uni-image",{staticClass:"notes-item-image",attrs:{src:e.$util.img(t.cover_img),mode:"aspectFill"}}):e._l(t.img,(function(t,n){return i("v-uni-image",{key:n,staticClass:"notes-item-image-li",attrs:{src:e.$util.img(t),mode:"aspectFit"}})}))],2),i("v-uni-view",{staticClass:"rest-info"},[1==t.is_show_release_time?i("v-uni-view",{staticClass:"time"},[e._v(e._s(e.$util.timeStampTurnTime(t.create_time,"time")))]):e._e(),i("v-uni-view",{staticClass:"read-info"},[1==t.is_show_read_num?i("v-uni-text",[e._v("阅读"),i("v-uni-text",[e._v(e._s(t.initial_read_num+t.read_num))])],1):e._e(),1==t.is_show_dianzan_num?i("v-uni-text",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.giveLike(t.note_id,n)}}},[1==t.is_dianzan?i("v-uni-text",{staticClass:"iconfont iconlikefill color-base-text"}):i("v-uni-text",{staticClass:"iconfont icongz"}),i("v-uni-text",[e._v(e._s(t.initial_dianzan_num+t.dianzan_num))])],1):e._e()],1)],1)],1)})),1)],1),i("loading-cover",{ref:"loadingCover"})],2):e._e(),e.showEmpty&&0==e.noteListInfo.length?i("v-uni-view",{staticClass:"empty-box"},[i("ns-empty",{attrs:{isIndex:!1,fixed:!1,text:"暂无店铺笔记"}})],1):e._e(),i("ns-login",{ref:"login"})],1)},o=[]},"7bfb":function(e,t,i){"use strict";var n=i("a011"),a=i.n(n);a.a},"8a0e":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"[data-v-ad5ece78] .reward-popup .uni-popup__wrapper-box{background:none!important;max-width:unset!important;max-height:unset!important}",""]),e.exports=t},a011:function(e,t,i){var n=i("8a0e");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("6aa48c8f",n,!0,{sourceMap:!1,shadowMode:!1})},b4cb:function(e,t,i){"use strict";i.r(t);var n=i("4a88"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a}}]);
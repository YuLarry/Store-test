(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-presale-order_list-order_list"],{"0d67":function(e,t,a){"use strict";a.r(t);var o=a("d6af"),i=a.n(o);for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},2097:function(e,t,a){"use strict";var o=a("c87c"),i=a.n(o);i.a},"274b":function(e,t,a){"use strict";a.r(t);var o=a("3b73"),i=a("633f");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("5838");var n,s=a("f0c5"),d=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"17ff8868",null,!1,o["a"],n);t["default"]=d.exports},"3b73":function(e,t,a){"use strict";var o;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-load-more"},["circle"===e.iconType||"auto"===e.iconType&&"android"===e.platform?a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===e.status&&e.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[a("v-uni-view",{staticClass:"loader-android",style:{borderColor:e.color}})],1):a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===e.status&&e.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[a("v-uni-view",{staticClass:"load1 load"},[a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}})],1),a("v-uni-view",{staticClass:"load2 load"},[a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}})],1),a("v-uni-view",{staticClass:"load3 load"},[a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}})],1)],1),a("v-uni-text",{staticClass:"uni-load-more__text",style:{color:e.color}},[e._v(e._s("more"===e.status?e.contentText.contentdown:"loading"===e.status?e.contentText.contentrefresh:e.contentText.contentnomore))])],1)},r=[]},5838:function(e,t,a){"use strict";var o=a("a5ba"),i=a.n(o);i.a},"633f":function(e,t,a){"use strict";a.r(t);var o=a("ebb7"),i=a.n(o);for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},"64b8":function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,"[data-v-43543a22] .uni-page{overflow:hidden}[data-v-43543a22] .mescroll-upwarp{padding-bottom:%?100?%}",""]),e.exports=t},"6b96":function(e,t,a){"use strict";a.r(t);var o=a("fc67"),i=a("0d67");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("2097"),a("d757");var n,s=a("f0c5"),d=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"43543a22",null,!1,o["a"],n);t["default"]=d.exports},"996d":function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.order-container[data-v-43543a22]{width:100vw;height:100vh}.align-right[data-v-43543a22]{text-align:right}.order-nav[data-v-43543a22]{width:100vw;height:%?90?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\r\n\r\n\r\nwhite-space:nowrap;\r\nbackground:#fff;display:-webkit-box;display:-webkit-flex;display:flex;\r\n\r\nposition:fixed;left:0;z-index:998}.order-nav .uni-tab-item[data-v-43543a22]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?16?%;padding-right:%?16?%}.order-nav .uni-tab-item-title[data-v-43543a22]{font-size:%?28?%;display:block;height:%?86?%;line-height:%?90?%;border-bottom:1px solid #fff;padding:0 %?10?%;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;\r\nwhite-space:nowrap;\r\ntext-align:center;font-size:%?30?%}.order-nav .uni-tab-item-title-active[data-v-43543a22]{display:block;height:%?86?%;border-bottom:2px solid #fff;padding:0 %?10?%}.order-nav[data-v-43543a22] ::-webkit-scrollbar{width:0;height:0;color:transparent}.order-item[data-v-43543a22]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;position:relative}.order-item .order-header[data-v-43543a22]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:%?20?% %?30?% %?26?% %?30?%}.order-item .order-header.waitpay[data-v-43543a22]{padding-left:%?70?%}.order-item .order-header.waitpay .iconyuan_checked[data-v-43543a22],\r\n.order-item .order-header.waitpay .iconyuan_checkbox[data-v-43543a22]{font-size:%?32?%;position:absolute;top:48%;left:%?20?%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.order-item .order-header.waitpay .iconyuan_checkbox[data-v-43543a22]{color:#909399}.order-item .order-header .icondianpu[data-v-43543a22]{display:inline-block;line-height:1;margin-right:%?12?%;font-size:%?28?%}.order-item .order-header .status-name[data-v-43543a22]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right;font-size:%?24?%}.order-item .order-body .goods-wrap[data-v-43543a22]{display:-webkit-box;display:-webkit-flex;display:flex;position:relative;padding:0 %?30?% %?30?% %?30?%}.order-item .order-body .goods-wrap[data-v-43543a22]:last-of-type{margin-bottom:0}.order-item .order-body .goods-wrap .goods-img[data-v-43543a22]{width:%?160?%;height:%?160?%;margin-right:%?20?%}.order-item .order-body .goods-wrap .goods-img uni-image[data-v-43543a22]{width:100%;height:100%;border-radius:%?10?%}.order-item .order-body .goods-wrap .goods-info[data-v-43543a22]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;max-width:calc(100% - %?180?%);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.order-item .order-body .goods-wrap .goods-info .pro-info[data-v-43543a22]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.order-item .order-body .goods-wrap .goods-info .goods-name[data-v-43543a22]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:1.5;font-size:%?28?%;color:#303133}.order-item .order-body .goods-wrap .goods-info .goods-sub-section[data-v-43543a22]{width:100%;line-height:1.3;display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?14?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-price[data-v-43543a22]{font-size:%?24?%;color:#303133;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-weight:700}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-num[data-v-43543a22]{font-size:%?24?%;color:#909399;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right;line-height:1}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-num .iconfont[data-v-43543a22]{font-size:%?24?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-type[data-v-43543a22]{font-size:%?24?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .unit[data-v-43543a22]{font-size:%?24?%;margin-right:%?2?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-43543a22]{-webkit-box-flex:1;-webkit-flex:1;flex:1;line-height:1.3;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.order-item .order-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-43543a22]:last-of-type{text-align:right}.order-item .order-body .goods-wrap .goods-info .goods-sub-section uni-view:last-of-type .iconfont[data-v-43543a22]{line-height:1;font-size:%?24?%}.order-item .order-body .goods-wrap .goods-info .goods-action[data-v-43543a22]{text-align:right}.order-item .order-body .goods-wrap .goods-info .goods-action .action-btn[data-v-43543a22]{line-height:1;padding:%?14?% %?20?%;color:#303133;display:inline-block;border-radius:%?28?%;background:#fff;border:.5px solid #999;font-size:%?24?%;margin-left:%?10?%}.order-item .order-footer .order-base-info .total[data-v-43543a22]{padding:%?20?%;font-size:%?24?%;background:hsla(0,0%,97.3%,.5);display:-webkit-box;display:-webkit-flex;display:flex}.order-item .order-footer .order-base-info .total > uni-text[data-v-43543a22]{-webkit-box-flex:1;-webkit-flex:1;flex:1;line-height:1;margin-left:%?10?%}.order-item .order-footer .order-base-info .order-type[data-v-43543a22]{padding-top:%?20?%;-webkit-box-flex:0.5;-webkit-flex:0.5;flex:0.5}.order-item .order-footer .order-base-info .order-type > uni-text[data-v-43543a22]{line-height:1}.order-item .order-footer .order-action[data-v-43543a22]{text-align:right;padding:%?30?%}.order-item .order-footer .order-action .order-box-btn[data-v-43543a22]{line-height:1;padding:%?20?% %?26?%;color:#333;display:inline-block;border-radius:%?32?%;background:#fff;border:.5px solid #999;font-size:%?24?%;margin-left:%?20?%}.order-item .order-footer .order-action .order-box-btn.disabled[data-v-43543a22]{background:#eee;border-color:#e5e5e5;color:#999}.order-batch-action[data-v-43543a22]{position:fixed;z-index:5;left:0;bottom:0;width:100vw;height:%?100?%;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.1);text-align:right}.order-batch-action.bottom-safe-area[data-v-43543a22]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.order-batch-action .action-btn[data-v-43543a22]{height:%?68?%;line-height:%?68?%;background:#fff;padding:0 %?40?%;display:inline-block;text-align:center;margin:%?16?% %?20?% %?16?% 0;border-radius:%?40?%;border:1px solid #fff}.order-batch-action .action-btn.white[data-v-43543a22]{height:%?68?%;line-height:%?68?%;color:#333;border:1px solid #999;background:#fff}.sku[data-v-43543a22]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:1;margin-top:%?10?%}.goods-spec[data-v-43543a22]{color:#909399;font-size:%?22?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-webkit-flex:1;flex:1}',""]),e.exports=t},a5ba:function(e,t,a){var o=a("d38d");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=a("4f06").default;i("4ea10aab",o,!0,{sourceMap:!1,shadowMode:!1})},c87c:function(e,t,a){var o=a("996d");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=a("4f06").default;i("3c067112",o,!0,{sourceMap:!1,shadowMode:!1})},d38d:function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,".uni-load-more[data-v-17ff8868]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-load-more__text[data-v-17ff8868]{font-size:%?28?%;color:#999}.uni-load-more__img[data-v-17ff8868]{position:relative;height:24px;width:24px;margin-right:10px}.uni-load-more__img > .load[data-v-17ff8868]{position:absolute}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-17ff8868 .96s ease infinite;animation:load-data-v-17ff8868 .96s ease infinite}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){top:11px;left:0}.uni-load-more__img > .loader-android[data-v-17ff8868]{position:absolute;left:0;top:0;right:0;bottom:0;box-sizing:border-box;border:solid 2px #777;border-radius:50%;border-bottom-color:transparent!important;-webkit-animation:loader-android-data-v-17ff8868 1s 0s linear infinite;animation:loader-android-data-v-17ff8868 1s 0s linear infinite}.load1[data-v-17ff8868],\r\n.load2[data-v-17ff8868],\r\n.load3[data-v-17ff8868]{height:24px;width:24px}.load2[data-v-17ff8868]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-17ff8868]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-animation-delay:80ms;animation-delay:80ms}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-animation-delay:.16s;animation-delay:.16s}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-animation-delay:.24s;animation-delay:.24s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-animation-delay:.32s;animation-delay:.32s}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-animation-delay:.4s;animation-delay:.4s}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-animation-delay:.48s;animation-delay:.48s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-animation-delay:.56s;animation-delay:.56s}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-animation-delay:.64s;animation-delay:.64s}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){-webkit-animation-delay:.72s;animation-delay:.72s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){-webkit-animation-delay:.8s;animation-delay:.8s}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){-webkit-animation-delay:.88s;animation-delay:.88s}@-webkit-keyframes load-data-v-17ff8868{0%{opacity:1}100%{opacity:.2}}@-webkit-keyframes loader-android-data-v-17ff8868{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),e.exports=t},d5cd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={methods:{orderClose:function(e,t){var a=this;uni.showModal({title:"提示",content:"您确定要关闭该订单吗？",success:function(o){o.confirm&&a.$api.sendRequest({url:"/presale/api/order/close",data:{order_id:e},success:function(e){0==e.code?"function"==typeof t&&t():a.$util.showToast({title:e.message,duration:2e3})}})}})},deleteOrder:function(e,t){var a=this;uni.showModal({title:"提示",content:"您确定要删除该订单吗？",success:function(o){o.confirm&&a.$api.sendRequest({url:"/presale/api/order/delete",data:{order_id:e},success:function(e){0==e.code?"function"==typeof t&&t():a.$util.showToast({title:e.message,duration:2e3})}})}})},refundDeposit:function(e,t){var a=this;uni.showModal({title:"提示",content:"您确定要退定金吗？",success:function(o){o.confirm&&a.$api.sendRequest({url:"/presale/api/refund/applyRefund",data:{order_id:e},success:function(e){0==e.code?"function"==typeof t&&t():a.$util.showToast({title:e.message,duration:2e3})}})}})},orderPayFinal:function(e,t){var a=this,o="/presale/api/order/pay",i={id:e.id};""==e.final_out_trade_no&&(o="/presale/api/ordercreate/finalCreate",i.is_balance=this.isBalance),this.$api.sendRequest({url:o,data:i,success:function(e){a.isSub=!1,e.code>=0?0==a.payMoney?a.$util.redirectTo("/otherpages/pay/result/result",{code:e.data},"redirectTo"):a.$refs.choosePaymentPopup.getPayInfo(e.data):a.$util.showToast({title:e.message}),a.isBalance=0},fail:function(e){a.isSub=!1}})},orderPayDeposit:function(e,t){var a=this;this.$api.sendRequest({url:"/presale/api/order/pay",data:{id:e.id},success:function(e){a.isSub=!1,e.code>=0?a.$refs.choosePaymentPopup.getPayInfo(e.data):a.$util.showToast({title:e.message})},fail:function(e){a.isSub=!1}})},openPaymentPopup:function(e,t){this.payType=t,"final_money"==t?""==e.final_out_trade_no&&(this.payMoney=e.order_money-e.presale_deposit_money):"presale_deposit_money"==t&&(this.payMoney=e.pay_deposit_money),uni.setStorageSync("paySource","presale"),this.$refs.choosePaymentPopup.open()}}};t.default=o},d6af:function(e,t,a){"use strict";var o=a("4ea4");a("99af"),a("b680"),a("acd8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a("274b")),r=o(a("d5cd")),n=o(a("b6ac")),s=o(a("fa8d")),d={data:function(){return{scrollInto:"",orderStatus:"",statusList:[],orderList:[],contentText:{},isIphoneX:!1,orderData:null,payMoney:0,payType:"",timestamp:0,memberBalance:0,isBalance:0,isSub:!1,token:null}},components:{uniLoadMore:i.default,nsPayment:s.default},mixins:[r.default,n.default],onLoad:function(e){e.status&&(this.orderStatus=e.status)},computed:{balanceDeduct:function(){if(this.orderData&&1==this.orderData.order_status&&""==this.orderData.final_out_trade_no&&this.memberBalance>0){var e=this.orderData.order_money-this.orderData.presale_deposit_money;return(this.memberBalance>e?e:this.memberBalance).toFixed(2)}return 0},storeToken:function(){return this.$store.state.token}},onShow:function(){var e=this;this.$langConfig.refresh(),this.isIphoneX=this.$util.uniappIsIPhoneX(),this.getOrderStatus(),uni.getStorageSync("token")?(this.token=uni.getStorageSync("token"),this.getMmemberBalance()):setTimeout((function(){e.$refs.login.open("/promotionpages/presale/order_list/order_list")}))},methods:{getMmemberBalance:function(){var e=this;this.$api.sendRequest({url:"/api/memberaccount/info",data:{account_type:"balance,balance_money"},success:function(t){t.data&&(e.memberBalance=parseFloat(t.data.balance)+parseFloat(t.data.balance_money))}})},ontabtap:function(e){var t=e.target.dataset.current||e.currentTarget.dataset.current;this.orderStatus=this.statusList[t].status,this.$refs.loadingCover.show(),this.$refs.mescroll.refresh()},getListData:function(e){var t=this;this.$api.sendRequest({url:"/presale/api/order/page",data:{page:e.num,page_size:e.size,order_status:this.orderStatus},success:function(a){t.timestamp=a.timestamp;var o=[],i=a.message;0==a.code&&a.data?o=a.data.list:t.$util.showToast({title:i}),e.endSuccess(o.length),1==e.num&&(t.orderList=[]),t.orderList=t.orderList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(a){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},getOrderStatus:function(){this.statusList=[{status:"",name:"全部",id:"status_0"},{status:0,name:"待付款",id:"status_0"},{status:1,name:"待付尾款",id:"status_1"},{status:2,name:"已完成",id:"status_2"},{status:-1,name:"已关闭",id:"status_3"}]},operation:function(e,t){var a=this;switch(e){case"deleteOrder":this.deleteOrder(t.id,(function(){a.$refs.mescroll.refresh()}));break;case"orderClose":this.orderClose(t.id,(function(){a.$refs.mescroll.refresh()}));break;case"orderPayDeposit":this.orderData=t,this.openPaymentPopup(t,"presale_deposit_money");break;case"refundDeposit":this.refundDeposit(t.id,(function(){a.$refs.mescroll.refresh()}));break;case"orderPayFinal":this.orderData=t,this.openPaymentPopup(t,"final_money");break}},orderDetail:function(e){this.$util.redirectTo("/promotionpages/presale/order_detail/order_detail",{order_id:e.id})},imageError:function(e){this.orderList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},pay:function(){var e=this;this.isSub||(this.isSub=!0,"final_money"==this.payType?this.orderPayFinal(this.orderData,(function(){e.$refs.mescroll.refresh()})):"presale_deposit_money"==this.payType&&this.orderPayDeposit(this.orderData,(function(){e.$refs.mescroll.refresh()})))},useBalance:function(){this.isBalance?(this.isBalance=0,this.payMoney+=parseFloat(this.balanceDeduct)):(this.isBalance=1,this.payMoney-=parseFloat(this.balanceDeduct))}},watch:{storeToken:function(e,t){e&&(this.token=e,this.getMmemberBalance(),this.$refs.mescroll.refresh())}}};t.default=d},d757:function(e,t,a){"use strict";var o=a("ff12"),i=a.n(o);i.a},ebb7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=uni.getSystemInfoSync().platform,i={name:"UniLoadMore",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{platform:o}},created:function(){}};t.default=i},fc67:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o}));var o={nsEmpty:a("90af").default,nsLogin:a("2bc6").default,loadingCover:a("4c1d").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"order-container",attrs:{"data-theme":e.themeStyle}},[e.token?a("v-uni-view",{staticClass:"order-nav"},e._l(e.statusList,(function(t,o){return a("v-uni-view",{key:o,staticClass:"uni-tab-item",attrs:{id:t.id,"data-current":o},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ontabtap.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"uni-tab-item-title",class:t.status===e.orderStatus?"uni-tab-item-title-active color-base-border  color-base-text":""},[e._v(e._s(t.name))])],1)})),1):e._e(),e.token?a("mescroll-uni",{ref:"mescroll",attrs:{top:"100rpx"},on:{getData:function(t){arguments[0]=t=e.$handleEvent(t),e.getListData.apply(void 0,arguments)}}},[a("template",{attrs:{slot:"list"},slot:"list"},[e.orderList.length>0?a("v-uni-view",{staticClass:"order-list"},e._l(e.orderList,(function(t,o){return a("v-uni-view",{key:o,staticClass:"order-item"},[a("v-uni-view",{staticClass:"order-header"},[a("v-uni-text",{staticClass:"font-size-base"},[e._v("订单号："+e._s(t.order_no))]),a("v-uni-text",{staticClass:"status-name color-base-text"},[e._v(e._s(t.order_status_name))])],1),a("v-uni-view",{staticClass:"order-body",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.orderDetail(t)}}},[a("v-uni-view",{staticClass:"goods-wrap"},[a("v-uni-view",{staticClass:"goods-img"},[a("v-uni-image",{attrs:{src:e.$util.img(t.sku_image,{size:"mid"}),mode:"aspectFill","lazy-load":!0},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.imageError(o)}}})],1),a("v-uni-view",{staticClass:"goods-info"},[a("v-uni-view",{staticClass:"pro-info"},[a("v-uni-view",{staticClass:"goods-name"},[e._v(e._s(t.sku_name))])],1),a("v-uni-view",{staticClass:"goods-sub-section"},[a("v-uni-text",{staticClass:"goods-price"},[a("v-uni-text",{staticClass:"unit color-base-text font-size-activity-tag"},[e._v(e._s(e.$lang("common.currencySymbol")))]),a("v-uni-text",{staticClass:"color-base-text"},[e._v(e._s(t.price))])],1),a("v-uni-text",{staticClass:"goods-num"},[a("v-uni-text",{staticClass:"iconfont iconclose"}),e._v(e._s(t.num))],1)],1),a("v-uni-view",{staticClass:"goods-action"})],1)],1)],1),a("v-uni-view",{staticClass:"order-footer"},[a("v-uni-view",{staticClass:"order-base-info"},[a("v-uni-view",{staticClass:"total"},[a("v-uni-text",{staticClass:"font-size-sub"},[e._v("共"+e._s(t.num)+"件商品")]),0===t.order_status?a("v-uni-text",{staticClass:"align-right font-size-base"},[e._v("待付定金："),a("v-uni-text",{staticClass:"ns-font-size-lg ns-text-color"},[e._v(e._s(e.$lang("common.currencySymbol"))+e._s(t.pay_deposit_money))])],1):1===t.order_status?a("v-uni-text",{staticClass:"align-right font-size-base"},[e._v("待付尾款："),a("v-uni-text",{staticClass:"ns-font-size-lg ns-text-color"},[e._v(e._s(e.$lang("common.currencySymbol"))+e._s(t.final_money))])],1):2===t.order_status?a("v-uni-text",{staticClass:"align-right font-size-base"},[e._v("合计："),a("v-uni-text",{staticClass:"ns-font-size-lg ns-text-color"},[e._v(e._s(e.$lang("common.currencySymbol"))+"0.00")])],1):-1===t.order_status?a("v-uni-text",{staticClass:"align-right font-size-base"},[e._v("合计："),a("v-uni-text",{staticClass:"ns-font-size-lg ns-text-color"},[e._v(e._s(e.$lang("common.currencySymbol"))+e._s(t.order_money))])],1):e._e()],1)],1),t.action.length>0?a("v-uni-view",{staticClass:"order-action"},[e._l(t.action,(function(o,i){return["orderPayFinal"==o.action?[0!=t.refund_status&&-1!=t.refund_status||-1==t.order_status?a("v-uni-view",{staticClass:"order-box-btn disabled"},[e._v(e._s(o.title))]):[t.pay_start_time<e.timestamp&&t.pay_end_time>e.timestamp?a("v-uni-view",{staticClass:"order-box-btn color-base-border color-base-text",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.operation(o.action,t)}}},[e._v(e._s(o.title))]):a("v-uni-view",{staticClass:"order-box-btn disabled"},[e._v(e._s(o.title))])]]:"refundDeposit"==o.action?[0==t.refund_status&&0==t.is_deposit_back||-1==t.refund_status&&0==t.is_deposit_back?a("v-uni-view",{staticClass:"order-box-btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.operation(o.action,t)}}},[e._v(e._s(o.title))]):e._e()]:a("v-uni-view",{staticClass:"order-box-btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.operation(o.action,t)}}},[e._v(e._s(o.title))])]}))],2):a("v-uni-view",{staticClass:"order-action"},[a("v-uni-view",{staticClass:"order-box-btn color-base-border color-base-text",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.orderDetail(t)}}},[e._v("查看详情")])],1)],1)],1)})),1):a("v-uni-view",[a("ns-empty",{attrs:{isIndex:!1,text:e.$lang("emptyTips")}})],1)],1)],2):e._e(),a("ns-payment",{ref:"choosePaymentPopup",attrs:{payMoney:e.payMoney,balanceDeduct:e.balanceDeduct,isBalance:e.isBalance},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.pay.apply(void 0,arguments)},useBalance:function(t){arguments[0]=t=e.$handleEvent(t),e.useBalance.apply(void 0,arguments)}}}),a("ns-login",{ref:"login"}),a("loading-cover",{ref:"loadingCover"})],1)},r=[]},ff12:function(e,t,a){var o=a("64b8");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=a("4f06").default;i("4a3eb6ee",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
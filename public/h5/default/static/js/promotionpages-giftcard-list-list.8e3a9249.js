(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-giftcard-list-list"],{"08ee7":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={nsAdv:i("6c5b").default,nsEmpty:i("90af").default,loadingCover:i("4c1d").default,nsLogin:i("2bc6").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{"data-theme":t.themeStyle}},[i("mescroll-uni",{ref:"mescroll",attrs:{size:10},on:{getData:function(e){arguments[0]=e=t.$handleEvent(e),t.getData.apply(void 0,arguments)}}},[i("template",{attrs:{slot:"list"},slot:"list"},[t.cardList.length?[i("v-uni-view",{staticClass:"ns-adv"},[i("ns-adv",{attrs:{keyword:"NS_GIFTCARD"}}),i("v-uni-view",{staticClass:"sort-wrap"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOrder(1)}}},[i("v-uni-text",{class:1==t.order?"color-base-text active color-base-border-bottom":""},[t._v("综合排序")])],1),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOrder(2)}}},[i("v-uni-text",{class:2==t.order?"color-base-text active color-base-border-bottom":""},[t._v("价格从高到低")])],1),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOrder(3)}}},[i("v-uni-text",{class:3==t.order?"color-base-text active color-base-border-bottom":""},[t._v("价格从低到高")])],1)],1)],1),i("v-uni-view",{staticClass:"card-list single-column"},t._l(t.cardList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"card-item",style:{background:e.card_cover?"url("+t.$util.img(e.card_cover)+") no-repeat 0 0/100% 100%":"url(https://cs.b2c.niuteam.cn/upload/uniapp/giftcard/detail/gitcard_default3.png) no-repeat 0 0/100% 100%"}},[i("v-uni-view",{staticClass:"card-content"},[i("v-uni-view",{staticClass:"card-name"},[t._v(t._s(e.card_name))]),i("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column","margin-top":"20rpx"}},[i("v-uni-view",{staticClass:"card-use"},[t._v("礼品卡权益")]),e.balance>0&&e.point>0&&e.goods_num>0?i("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance)+"+"+t._s(e.point)+"积分+商品*"+t._s(e.goods_num))]):e.balance>0&&0==e.point&&0==e.goods_num?i("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance))]):0==e.balance&&e.point>0&&0==e.goods_num?i("v-uni-view",{staticClass:"card-num"},[t._v(t._s(e.point)+" 积分")]):0==e.balance&&0==e.point&&e.goods_num>0?i("v-uni-view",{staticClass:"card-num"},[t._v("商品*"+t._s(e.goods_num))]):e.balance>0&&e.point>0&&0==e.goods_num?i("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance)+"+"+t._s(e.point)+"积分")]):e.balance>0&&0==e.point&&e.goods_num>0?i("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance)+"+商品*"+t._s(e.goods_num))]):0==e.balance&&e.point>0&&e.goods_num>0?i("v-uni-view",{staticClass:"card-num"},[t._v(t._s(e.point)+"积分+商品*"+t._s(e.goods_num))]):t._e()],1),i("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column"}},[i("v-uni-view",{staticClass:"card-money"},[t._v("￥"+t._s(e.selling_price))]),i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goBuy(e)}}},[t._v("立即购买")])],1)],1)],1)],1)})),1)]:i("ns-empty",{attrs:{isIndex:!1,text:"还没有礼品卡哦"}})],2)],2),i("loading-cover",{ref:"loadingCover"}),i("ns-login",{ref:"login"})],1)},r=[]},"0d24":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"ns-advert",props:{keyword:{type:String}},data:function(){return{advList:[]}},created:function(){this.getAdvList()},methods:{getAdvList:function(){var t=this;this.$api.sendRequest({url:"/api/adv/detail",data:{keyword:this.keyword},success:function(e){if(0==e.code){var i=e.data.adv_list;for(var a in i)i[a].adv_url&&(i[a].adv_url=JSON.parse(i[a].adv_url));t.advList=e.data.adv_list}}})},jumppage:function(t){this.$util.diyRedirectTo(t)}}};e.default=a},5153:function(t,e,i){"use strict";i.r(e);var a=i("5a79"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"5a79":function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("4160"),i("c975"),i("fb6a"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("6c5b")),r=a(i("b6ac")),o={components:{nsAdv:n.default},data:function(){return{order:1,cardList:[],memberId:0,mpShareData:null}},onLoad:function(t){var e=this;if(this.$util.getMemberId().then((function(t){e.memberId=t})).catch((function(t){})),t.source_member&&uni.setStorageSync("source_member",t.source_member),t.scene){var i=decodeURIComponent(t.scene);i=i.split("&"),i.length&&i.forEach((function(t){-1!=t.indexOf("sku_id")&&(e.skuId=t.split("-")[1]),-1!=t.indexOf("m")&&uni.setStorageSync("source_member",t.split("-")[1]),-1!=t.indexOf("is_test")&&uni.setStorageSync("is_test",1)}))}},onShow:function(){uni.getStorageSync("token")&&uni.getStorageSync("source_member")&&this.$util.onSourceMember(uni.getStorageSync("source_member")),this.$langConfig.refresh()},onShareAppMessage:function(){return this.mpShareData.appMessage},onShareTimeline:function(){return this.mpShareData.timeLine},mixins:[r.default],methods:{changeOrder:function(t){this.list=[],this.order=t,this.$refs.mescroll.refresh()},getData:function(t){var e=this;this.$api.sendRequest({url:"/giftcard/api/giftcard/giftCardList",data:{page_size:t.size,page:t.num,order:this.order},success:function(i){var a=[];0==i.code&&i.data&&(a=i.data.list),t.endSuccess(a.length),1==t.num&&(e.cardList=[]),e.cardList=e.cardList.concat(a),e.cardList.forEach((function(t){t.start_time=e.$util.timeStampTurnTime(t.start_time).slice(0,10),t.end_time=e.$util.timeStampTurnTime(t.end_time).slice(0,10)})),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(i){t.endErr(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},goBuy:function(t){if(uni.getStorageSync("token"))this.$util.redirectTo("/promotionpages/giftcard/my_giftcard/detail",{id:t.id});else{var e="/promotionpages/giftcard/list/list";this.$refs.login.open(e)}}}};e.default=o},"5b27":function(t,e,i){var a=i("f1c1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("1718d6c4",a,!0,{sourceMap:!1,shadowMode:!1})},"6c5b":function(t,e,i){"use strict";i.r(e);var a=i("e4e2"),n=i("ee3a");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("788b");var o,c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"276fc724",null,!1,a["a"],o);e["default"]=s.exports},"788b":function(t,e,i){"use strict";var a=i("f441"),n=i.n(a);n.a},a7e7:function(t,e,i){"use strict";i.r(e);var a=i("08ee7"),n=i("5153");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("d322");var o,c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"b6a5677e",null,!1,a["a"],o);e["default"]=s.exports},d322:function(t,e,i){"use strict";var a=i("5b27"),n=i.n(a);n.a},e28b:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".bg[data-v-276fc724]{width:100%;height:%?158?%;background-color:#fff;position:fixed;left:0;\r\ntop:%?88?%;\n}.ns-adv[data-v-276fc724]{background:#fff;height:%?300?%;border-radius:%?10?%\r\n\t/* padding: 8rpx 24rpx 24rpx; */}.ns-adv .image-box[data-v-276fc724]{width:100%;height:100%;border-radius:%?10?%}.ns-adv uni-image[data-v-276fc724]{width:100%;height:100%;border-radius:%?10?%}",""]),t.exports=e},e4e2:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.advList.length?i("v-uni-view",[t.advList.length?i("v-uni-swiper",{staticClass:"ns-adv",attrs:{"indicator-dots":t.advList.length>1,"indicator-active-color":"#ffffff",autoplay:!0,interval:3e3,duration:1e3}},t._l(t.advList,(function(e,a){return i("v-uni-swiper-item",{key:a,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumppage(e.adv_url)}}},[i("v-uni-view",{staticClass:"image-box",style:{"background-color":e.background}},[i("v-uni-image",{attrs:{src:t.$util.img(e.adv_image)}})],1)],1)})),1):t._e()],1):t._e()},r=[]},ee3a:function(t,e,i){"use strict";i.r(e);var a=i("0d24"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},f1c1:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.ns-adv[data-v-b6a5677e]{padding:%?20?% %?30?% %?10?%;border-radius:%?10?%;overflow:hidden;line-height:1;background:#fff}.ns-adv uni-image[data-v-b6a5677e]{width:100%}[data-v-b6a5677e] .fixed{position:relative;top:0}[data-v-b6a5677e] .empty{margin-top:0!important}.topic-pic[data-v-b6a5677e]{height:%?300?%}.topic-pic uni-image[data-v-b6a5677e]{height:%?300?%}.topic-list[data-v-b6a5677e]{margin:0 %?24?% %?24?%;border-radius:%?10?%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-bottom:%?16?%;background-color:#fff}.topic-list .list-img[data-v-b6a5677e]{width:100%;overflow:hidden}.topic-list .list-img uni-image[data-v-b6a5677e]{width:100%;height:100%}.sort-wrap[data-v-b6a5677e]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?20?% 0 %?5?%;background:#fff}.sort-wrap > uni-view[data-v-b6a5677e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?28?%;height:%?60?%;line-height:%?60?%}.sort-wrap .comprehensive-wrap[data-v-b6a5677e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.sort-wrap .comprehensive-wrap .iconfont-wrap[data-v-b6a5677e]{display:inline-block;margin-left:%?10?%;width:%?40?%}.sort-wrap .comprehensive-wrap .iconfont-wrap .iconfont[data-v-b6a5677e]{font-size:%?32?%;line-height:1;margin-bottom:%?5?%}.sort-wrap .price-wrap[data-v-b6a5677e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.sort-wrap .price-wrap .iconfont-wrap[data-v-b6a5677e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:%?40?%}.sort-wrap .price-wrap .iconfont-wrap .iconfont[data-v-b6a5677e]{float:left;font-size:%?24?%;line-height:1;height:%?20?%;color:#909399}.sort-wrap .screen-wrap[data-v-b6a5677e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.sort-wrap .screen-wrap .iconfont-wrap[data-v-b6a5677e]{display:inline-block;margin-left:%?10?%;width:%?40?%}.sort-wrap .screen-wrap .iconfont-wrap .iconfont[data-v-b6a5677e]{font-size:%?32?%;line-height:1}.card-list[data-v-b6a5677e]{padding:%?30?%}.card-list .card-item[data-v-b6a5677e]{background:#ff9696;border-radius:%?20?%;padding:%?20?%;margin:%?25?% %?5?%}.card-list .card-item .card-content[data-v-b6a5677e]{padding:%?20?% %?50?%}.card-list .card-item .card-content .card-name[data-v-b6a5677e]{font-size:%?48?%;margin-bottom:%?10?%;color:#fff;max-height:%?160?%;overflow:hidden}.card-list .card-item .card-content .card-use[data-v-b6a5677e]{color:#fff}.card-list .card-item .card-content .card-num[data-v-b6a5677e]{color:#fff}.card-list .card-item .card-content .card-money[data-v-b6a5677e]{font-size:%?40?%;color:#fff}.card-list .card-item .card-content uni-button[data-v-b6a5677e]{color:#ff4c4b;background:#fff}.card-list .card-item .card-pay[data-v-b6a5677e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?10?% %?20?% 0 %?10?%}',""]),t.exports=e},f441:function(t,e,i){var a=i("e28b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6755313c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-giftcard-detail-detail"],{"10c0":function(a,i,t){var n=t("8b80");"string"===typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);var o=t("4f06").default;o("03e31e60",n,!0,{sourceMap:!1,shadowMode:!1})},"124f":function(a,i,t){"use strict";t.r(i);var n=t("ac77"),o=t.n(n);for(var c in n)"default"!==c&&function(a){t.d(i,a,(function(){return n[a]}))}(c);i["default"]=o.a},"8b80":function(a,i,t){var n=t("24fb");i=n(!1),i.push([a.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.hasuse-card-content[data-v-725c9bd7]{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.card-box[data-v-725c9bd7]{position:relative;border-radius:%?20?%}.card-box1[data-v-725c9bd7]{height:%?296?%}.card-box2[data-v-725c9bd7]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#efefef;opacity:.8;border-radius:%?20?%;z-index:200}.card-box3[data-v-725c9bd7]{position:absolute;width:85%;top:0;color:grey!important;z-index:300}.card-item[data-v-725c9bd7]{padding:%?54?% %?30?% %?34?% %?30?%;background:url(https://cs.b2c.niuteam.cn/upload/uniapp/giftcard/detail/index.png) no-repeat 0 0/100% 50%}.card-item .card-content[data-v-725c9bd7]{padding:%?30?% %?50?%;border-radius:%?20?%;-moz-background-size:100% 100%}.card-item .card-content .content-head[data-v-725c9bd7]{display:flex;justify-content:space-between;margin-bottom:%?30?%}.card-item .card-content .content-head .card-name[data-v-725c9bd7]{font-size:%?48?%;color:#fff;overflow:hidden;max-height:%?160?%;width:85%}.card-item .card-content .content-head .use-orno[data-v-725c9bd7]{color:#fff}.card-item .card-content .card-use[data-v-725c9bd7]{color:#fff}.card-item .card-content .card-num[data-v-725c9bd7]{margin-top:%?20?%;line-height:%?20?%;color:#fff}.card-item .card-content .card-id[data-v-725c9bd7]{margin-top:%?40?%;color:#fff}.card-info[data-v-725c9bd7]{padding:%?15?% %?30?%;margin:%?10?% %?30?%;background:#fff;border-radius:%?10?%}.card-info .info[data-v-725c9bd7]{padding:%?20?% 0;border-bottom:%?1?% solid #f5f5f5}.card-info .aaa span[data-v-725c9bd7]{margin-left:%?30?%}.card-info .bbb span[data-v-725c9bd7]{margin-left:%?82?%}.card-info .ccc span[data-v-725c9bd7]{margin-left:%?52?%}.card-info2[data-v-725c9bd7]{padding:%?15?% %?30?%;margin:%?20?% %?30?%;background:#fff;border-radius:%?10?%}.card-info2 .info[data-v-725c9bd7]{padding:%?20?% 0;border-bottom:%?1?% solid #f5f5f5}.card-info2 .info3 span[data-v-725c9bd7]{margin-left:%?80?%}.card-info2 span[data-v-725c9bd7]{margin-left:%?52?%}.bottom[data-v-725c9bd7]{position:fixed;bottom:%?0?%;width:%?800?%;height:%?130?%;display:flex;background:#fff;padding:0 %?20?% 0 %?300?%}.bottom .bottom-left[data-v-725c9bd7]{margin:%?30?% %?20?% %?30?% 0}.bottom .bottom-left uni-button[data-v-725c9bd7]{background:#fff;color:#000;border:%?1?% solid #d9d9d9;border-radius:%?50?%;width:%?200?%;height:%?70?%;line-height:%?70?%}.bottom .bottom-right[data-v-725c9bd7]{margin:%?30?% 0}.bottom .bottom-right uni-button[data-v-725c9bd7]{width:%?200?%;height:%?70?%;line-height:%?70?%}.giftcard-goods[data-v-725c9bd7]{margin:%?20?% %?30?%}.giftcard-goods .giftcard-goods-list[data-v-725c9bd7]{padding-bottom:%?120?%}.giftcard-goods .giftcard-goods-item[data-v-725c9bd7]{display:flex;margin:%?20?% 0;background-color:#fff;padding:%?26?%;border-radius:%?10?%}.giftcard-goods .giftcard-goods-item uni-image[data-v-725c9bd7]{height:%?200?%;width:%?200?%;margin-right:%?20?%}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap[data-v-725c9bd7]{display:flex;flex-direction:column;justify-content:space-between}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .info-title[data-v-725c9bd7]{word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\r\n  /* 这里是超出几行省略 */overflow:hidden}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .info-stock[data-v-725c9bd7]{font-size:%?24?%}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .price[data-v-725c9bd7], .giftcard-goods .giftcard-goods-item .giftcard-info-wrap .unit[data-v-725c9bd7]{display:inline-block}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .price[data-v-725c9bd7]{font-size:%?32?%;font-weight:700}',""]),a.exports=i},ac77:function(a,i,t){"use strict";var n=t("4ea4");t("4160"),t("d3b7"),t("ac1f"),t("1276"),t("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(t("2d2c")),c={components:{uniPopup:o.default},data:function(){return{cardinfo:{},id:"",stort_type:!1}},onLoad:function(a){var i=a.id;this.getData(i),this.id=a.id},onShow:function(){this.$langConfig.refresh()},methods:{goodsImg:function(a){var i=a.split(",");return i[0]?this.$util.img(i[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},getData:function(a){var i=this;this.$api.sendRequest({url:"/giftcard/api/giftcard/giftcardinfo",data:{id:a},success:function(a){0==a.code&&a.data?(i.cardinfo=a.data,i.cardinfo.goods_list.length>0&&i.cardinfo.goods_list.forEach((function(a){0==a.stock&&(i.stort_type=!0)})),i.$refs.loadingCover&&i.$refs.loadingCover.hide()):i.$refs.loadingCover&&i.$refs.loadingCover.hide()},fail:function(a){}})},gotopresent:function(a){this.$util.redirectTo("/promotionpages/giftcard/present/present",{id:a})},openusepopup:function(a,i,t){var n=this;if(this.stort_type)return this.$util.showToast({title:"有商品暂无库存"}),!1;var o=this;if(this.cardinfo.goods_list.length>0){var c=[];t.goods_list.forEach((function(a){c.push(a.sku_id)})),uni.setStorage({key:"orderCreateData",data:{sku_id:c.toString(),num:1},success:function(){n.$util.redirectTo("/promotionpages/giftcard/payment/payment",{giftcard_id:a,id:i})}})}else uni.showModal({title:"提示",content:"确定要使用该礼品卡吗",success:function(t){t.confirm&&n.$api.sendRequest({url:"/giftcard/api/giftcard/use",data:{id:i,giftcard_id:a},success:function(a){o.$util.showToast({title:a.message}),n.$router.go(0)}})}})}}};i.default=c},afba:function(a,i,t){"use strict";t.d(i,"b",(function(){return o})),t.d(i,"c",(function(){return c})),t.d(i,"a",(function(){return n}));var n={loadingCover:t("b1ae").default},o=function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("v-uni-view",[t("v-uni-view",{staticClass:"card-item margin-bottom"},[0==a.cardinfo.elect_status?t("v-uni-view",{},[t("v-uni-view",{staticClass:"card-content",style:{background:a.cardinfo.card_cover?"url("+a.$util.img(a.cardinfo.card_cover)+") no-repeat 0 0/100% 100%":"url(https://cs.b2c.niuteam.cn/upload/uniapp/giftcard/detail/gitcard_default3.png) no-repeat 0 0/100% 100%"}},[t("v-uni-view",{staticClass:"content-head"},[t("v-uni-view",{staticClass:"card-name"},[a._v(a._s(a.cardinfo.card_name))]),0==a.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[a._v("待使用")]):1==a.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[a._v("已使用")]):2==a.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[a._v("已过期")]):a._e()],1),t("v-uni-view",{staticClass:"card-use"},[a._v("礼品卡权益")]),a.cardinfo.balance>0&&a.cardinfo.point>0?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance)+"+"+a._s(a.cardinfo.point)+"积分+商品*"+a._s(a.cardinfo.goods_num))]):a.cardinfo.balance>0&&0==a.cardinfo.point?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance))]):0==a.cardinfo.balance&&a.cardinfo.point>0?t("v-uni-view",{staticClass:"card-num"},[a._v(a._s(a.cardinfo.point)+" 积分")]):0==a.cardinfo.balance&&0==a.cardinfo.point&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[a._v("商品*"+a._s(a.cardinfo.goods_num))]):a.cardinfo.balance>0&&a.cardinfo.point>0&&0==a.cardinfo.goods_num?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance)+"+"+a._s(a.cardinfo.point)+"积分")]):a.cardinfo.balance>0&&0==a.cardinfo.point&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance)+"+商品*"+a._s(a.cardinfo.goods_num))]):0==a.cardinfo.balance&&a.cardinfo.point>0&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[a._v(a._s(a.cardinfo.point)+"积分+商品*"+a._s(a.cardinfo.goods_num))]):a._e(),t("v-uni-view",{staticClass:"card-id"},[a._v("NO."+a._s(a.cardinfo.number))])],1)],1):t("v-uni-view",{staticClass:"card-box"},[t("v-uni-view",{staticClass:"card-content hasuse-card-content card-box1",style:{background:a.cardinfo.card_cover?"url("+a.$util.img(a.cardinfo.card_cover)+") no-repeat 0 0/100% 100%":"url(https://cs.b2c.niuteam.cn/upload/uniapp/giftcard/detail/gitcard_default3.png) no-repeat 0 0/100% 100%"}}),t("v-uni-view",{staticClass:"card-box2"}),t("v-uni-view",{staticClass:"card-content card-box3"},[t("v-uni-view",{staticClass:"content-head"},[t("v-uni-view",{staticClass:"card-name"},[a._v(a._s(a.cardinfo.card_name))]),0==a.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[a._v("待使用")]):1==a.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[a._v("已使用")]):2==a.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[a._v("已过期")]):a._e()],1),t("v-uni-view",{staticClass:"card-use"},[a._v("礼品卡权益")]),a.cardinfo.balance>0&&a.cardinfo.point>0&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance)+"+"+a._s(a.cardinfo.point)+"积分+商品*"+a._s(a.cardinfo.goods_num))]):a.cardinfo.balance>0&&0==a.cardinfo.point?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance))]):0==a.cardinfo.balance&&a.cardinfo.point>0?t("v-uni-view",{staticClass:"card-num"},[a._v(a._s(a.cardinfo.point)+" 积分")]):0==a.cardinfo.balance&&0==a.cardinfo.point&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[a._v("商品*"+a._s(a.cardinfo.goods_num))]):a.cardinfo.balance>0&&a.cardinfo.point>0&&0==a.cardinfo.goods_num?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance)+"+"+a._s(a.cardinfo.point)+"积分")]):a.cardinfo.balance>0&&0==a.cardinfo.point&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[a._v("￥"+a._s(a.cardinfo.balance)+"+商品*"+a._s(a.cardinfo.goods_num))]):0==a.cardinfo.balance&&a.cardinfo.point>0&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[a._v(a._s(a.cardinfo.point)+"积分+商品*"+a._s(a.cardinfo.goods_num))]):a._e(),t("v-uni-view",{staticClass:"card-id"},[a._v("NO."+a._s(a.cardinfo.number))])],1)],1)],1),t("v-uni-view",{staticClass:"card-info"},[t("v-uni-view",{staticClass:"info aaa"},[a._v("礼品卡编号："),t("span",[a._v(a._s(a.cardinfo.number))])]),t("v-uni-view",{staticClass:"info info1 aaa"},[a._v("礼品卡来源："),1==a.cardinfo.source_from?t("span",[a._v("购买电子卡")]):t("span",[a._v("他人赠送")])]),t("v-uni-view",{staticClass:"info bbb"},[a._v("持有人："),t("span",[a._v(a._s(a.cardinfo.member_name))])]),a.cardinfo.balance>0&&a.cardinfo.point>0&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[a._v("兑换权益："),t("span",[a._v("￥"+a._s(a.cardinfo.balance)+"+"+a._s(a.cardinfo.point)+"积分+商品*"+a._s(a.cardinfo.goods_num))])]):a.cardinfo.balance>0&&0==a.cardinfo.point?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[a._v("兑换权益："),t("span",[a._v("￥"+a._s(a.cardinfo.balance))])]):0==a.cardinfo.balance&&a.cardinfo.point>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[a._v("兑换权益："),t("span",[a._v(a._s(a.cardinfo.point)+" 积分")])]):0==a.cardinfo.balance&&0==a.cardinfo.point&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[a._v("兑换权益："),t("span",[a._v("商品*"+a._s(a.cardinfo.goods_num))])]):a.cardinfo.balance>0&&a.cardinfo.point>0&&0==a.cardinfo.goods_num?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[a._v("兑换权益："),t("span",[a._v("￥"+a._s(a.cardinfo.balance)+"+"+a._s(a.cardinfo.point)+"积分")])]):a.cardinfo.balance>0&&0==a.cardinfo.point&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[a._v("兑换权益："),t("span",[a._v("￥"+a._s(a.cardinfo.balance)+"+商品*"+a._s(a.cardinfo.goods_num))])]):0==a.cardinfo.balance&&a.cardinfo.point>0&&a.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[a._v("兑换权益："),t("span",[a._v(a._s(a.cardinfo.point)+"积分+商品*"+a._s(a.cardinfo.goods_num))])]):a._e()],1),t("v-uni-view",{staticClass:"card-info2"},[t("v-uni-view",{staticClass:"info info2"},[a._v("获取时间："),t("span",[a._v(a._s(a.$util.timeStampTurnTime(a.cardinfo.create_time)))])]),t("v-uni-view",{staticClass:"info"},[a._v("使用时间："),0==a.cardinfo.use_time?t("span",[a._v("未使用")]):t("span",[a._v("已使用")])]),1==a.cardinfo.time_type?t("v-uni-view",{staticClass:"info",staticStyle:{border:"none"}},[a._v("过期时间："),t("span",[a._v("永久有效")])]):2==a.cardinfo.time_type?t("v-uni-view",{staticClass:"info",staticStyle:{border:"none"}},[a._v("过期时间："),t("span",[a._v("有效期至 "+a._s(this.$util.timeStampTurnTime(a.cardinfo.youxiao_time)))])]):t("v-uni-view",{staticClass:"info",staticStyle:{border:"none"}},[a._v("过期时间："),t("span",[a._v("有效期至 "+a._s(this.$util.timeStampTurnTime(a.cardinfo.create_time+24*a.cardinfo.youxiao_day*60*60)))])])],1),a.cardinfo.goods_list?t("v-uni-view",{staticClass:"giftcard-goods"},[t("v-uni-view",{staticClass:"giftcard-goods-list"},a._l(a.cardinfo.goods_list,(function(i,n){return t("v-uni-view",{key:n,staticClass:"giftcard-goods-item"},[t("v-uni-view",{staticClass:"giftcart-goods-img"},[t("v-uni-image",{attrs:{src:a.goodsImg(i.sku_image)}})],1),t("v-uni-view",{staticClass:"giftcard-info-wrap"},[t("v-uni-view",{staticClass:"info-title"},[a._v(a._s(i.sku_name))]),t("v-uni-view",{staticClass:"info-stock"},[a._v("库存:"+a._s(i.stock))]),t("v-uni-view",{staticClass:"info-price"},[t("v-uni-view",{staticClass:"unit color-base-text"},[a._v("￥")]),t("v-uni-view",{staticClass:"price color-base-text"},[a._v(a._s(i.price))])],1)],1)],1)})),1)],1):a._e(),0==a.cardinfo.elect_status?t("v-uni-view",{staticClass:"bottom"},[t("v-uni-view",{staticClass:"bottom-left"},[t("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=a.$handleEvent(i),a.gotopresent(a.id)}}},[a._v("转赠他人")])],1),t("v-uni-view",{staticClass:"bottom-right"},[t("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=a.$handleEvent(i),a.openusepopup(a.cardinfo.giftcard_id,a.id,a.cardinfo)}}},[a._v("立即使用")])],1)],1):a._e(),t("loading-cover",{ref:"loadingCover"})],1)},c=[]},dea3:function(a,i,t){"use strict";t.r(i);var n=t("afba"),o=t("124f");for(var c in o)"default"!==c&&function(a){t.d(i,a,(function(){return o[a]}))}(c);t("f6b6");var d,s=t("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"725c9bd7",null,!1,n["a"],d);i["default"]=r.exports},f6b6:function(a,i,t){"use strict";var n=t("10c0"),o=t.n(n);o.a}}]);
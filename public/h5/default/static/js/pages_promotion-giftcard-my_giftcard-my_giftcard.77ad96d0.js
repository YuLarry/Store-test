(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_promotion-giftcard-my_giftcard-my_giftcard"],{"013c":function(t,a,e){"use strict";e("c975"),e("a9e3"),e("acd8"),e("ac1f"),e("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},i={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,a=getCurrentPages()[0];this.$pageVm=a.$vm||a,uni.onWindowResize((function(a){t.$emit("resize",a)})),this.$pageVm.$on("hook:onPageScroll",(function(a){t.$emit("scroll",a)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta()})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle(),this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,a){t.setStyle({pullToRefresh:{support:a,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,a=String(this.scrollTop);if(-1!==a.indexOf("rpx")&&(a=uni.upx2px(a.replace("rpx",""))),a=parseFloat(a),!isNaN(a)){var e=function e(i){i.scrollTop===a&&(t.$pageVm.$off("hook:onPageScroll",e),t.$emit("scrolldone",n))};uni.pageScrollTo({scrollTop:a,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",e)}})}}}};a.default=i},"063e":function(t,a,e){var n=e("8b6d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("66703aa6",n,!0,{sourceMap:!1,shadowMode:!1})},"37c3":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}));var n={pageMeta:e("6d42").default,loadingCover:e("790a").default},i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("page-meta",{attrs:{"page-style":t.themeColor}}),e("v-uni-view",[e("mescroll-uni",{ref:"mescroll",attrs:{size:10},on:{getData:function(a){arguments[0]=a=t.$handleEvent(a),t.getData.apply(void 0,arguments)}}},[e("template",{attrs:{slot:"list"},slot:"list"},[e("v-uni-view",{staticClass:"header-box",style:{background:"url("+t.$util.img("public/uniapp/giftcard/detail/index.png")+") no-repeat 0 0/100% 50%"}},[e("v-uni-view",{staticClass:"header"},[e("v-uni-view",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toExchange()}}},[e("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx","margin-left":"6rpx"},attrs:{src:t.$util.img("public/uniapp/giftcard/detail/mine_exchange.png")}}),e("v-uni-view",[t._v("我要兑换")])],1),e("v-uni-view",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toPresent()}}},[e("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx","margin-left":"6rpx"},attrs:{src:t.$util.img("public/uniapp/giftcard/detail/purchase_orders.png")}}),e("v-uni-view",[t._v("转赠记录")])],1),e("v-uni-view",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toOrder()}}},[e("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx","margin-left":"6rpx"},attrs:{src:t.$util.img("public/uniapp/giftcard/detail/turn_add_records.png")}}),e("v-uni-view",[t._v("购卡订单")])],1)],1)],1),t.cardlist.length>0?e("v-uni-view",{},t._l(t.cardlist,(function(a,n){return e("v-uni-view",{key:n},[0==a.elect_status?e("v-uni-view",{staticClass:"card-item margin-bottom"},[e("v-uni-view",{staticClass:"card-content",style:{background:t.$util.img(t.cardlist[n].card_cover)?"url("+t.$util.img(t.cardlist[n].card_cover)+") no-repeat 0 0/100% 100%":"url("+t.$util.img("public/uniapp/giftcard/detail/gitcard_default3.png")+") no-repeat 0 0/100% 100%"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoDetail(a.id)}}},[e("v-uni-view",{staticClass:"content-head"},[e("v-uni-view",{staticClass:"card-name"},[t._v(t._s(a.card_name))]),e("v-uni-view",{staticClass:"use-orno"},[t._v("待使用")])],1),e("v-uni-view",{staticClass:"card-use"},[t._v("礼品卡权益")]),a.balance>0&&a.point>0&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+" + "+t._s(a.point)+"积分+商品*"+t._s(a.goods_num))]):a.balance>0&&0==a.point?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance))]):0==a.balance&&a.point>0?e("v-uni-view",{staticClass:"card-num"},[t._v(t._s(a.point)+" 积分")]):0==a.balance&&0==a.point&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("商品*"+t._s(a.goods_num))]):a.balance>0&&a.point>0&&0==a.goods_num?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+"+"+t._s(a.point)+"积分")]):a.balance>0&&0==a.point&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+"+商品*"+t._s(a.goods_num))]):0==a.balance&&a.point>0&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v(t._s(a.point)+"积分+商品*"+t._s(a.goods_num))]):t._e(),e("v-uni-view",{staticClass:"card-id"},[t._v("NO."+t._s(a.number))])],1)],1):1==a.elect_status?e("v-uni-view",{staticClass:"card-item2 margin-bottom"},[e("v-uni-view",{staticClass:"card-content hasuse-card-content card-box1",style:{background:t.cardlist[n].card_cover?"url("+t.$util.img(t.cardlist[n].card_cover)+") no-repeat 0 0/100% 100%":"url("+t.$util.img("public/uniapp/giftcard/detail/gitcard_default3.png")+") no-repeat 0 0/100% 100%"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoDetail(a.id)}}}),e("v-uni-view",{staticClass:"card-box2"}),e("v-uni-view",{staticClass:"card-content card-box3",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoDetail(a.id)}}},[e("v-uni-view",{staticClass:"content-head"},[e("v-uni-view",{staticClass:"card-name"},[t._v(t._s(a.card_name))]),e("v-uni-view",{staticClass:"use-orno"},[t._v("已使用")])],1),e("v-uni-view",{staticClass:"card-use"},[t._v("礼品卡权益")]),a.balance>0&&a.point>0&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+" + "+t._s(a.point)+"积分+商品*"+t._s(a.goods_num))]):a.balance>0&&0==a.point?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance))]):0==a.balance&&a.point>0?e("v-uni-view",{staticClass:"card-num"},[t._v(t._s(a.point)+" 积分")]):0==a.balance&&0==a.point&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("商品*"+t._s(a.goods_num))]):a.balance>0&&a.point>0&&0==a.goods_num?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+"+"+t._s(a.point)+"积分")]):a.balance>0&&0==a.point&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+"+商品*"+t._s(a.goods_num))]):0==a.balance&&a.point>0&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v(t._s(a.point)+"积分+商品*"+t._s(a.goods_num))]):t._e(),e("v-uni-view",{staticClass:"card-id"},[t._v("NO."+t._s(a.number))])],1)],1):2==a.elect_status||4==a.elect_status?e("v-uni-view",{staticClass:"card-item2 margin-bottom"},[e("v-uni-view",{staticClass:"card-content hasuse-card-content card-box1",style:{background:t.cardlist[n].card_cover?"url("+t.$util.img(t.cardlist[n].card_cover)+") no-repeat 0 0/100% 100%":"url("+t.$util.img("public/uniapp/giftcard/detail/gitcard_default3.png")+") no-repeat 0 0/100% 100%"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoDetail(a.id)}}}),e("v-uni-view",{staticClass:"card-box2"}),e("v-uni-view",{staticClass:"card-content card-box3",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoDetail(a.id)}}},[e("v-uni-view",{staticClass:"content-head"},[e("v-uni-view",{staticClass:"card-name"},[t._v(t._s(a.card_name))]),e("v-uni-view",{staticClass:"use-orno"},[t._v("已过期")])],1),e("v-uni-view",{staticClass:"card-use"},[t._v("礼品卡权益")]),a.balance>0&&a.point>0&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+" + "+t._s(a.point)+"积分+商品*"+t._s(a.goods_num))]):a.balance>0&&0==a.point?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance))]):0==a.balance&&a.point>0?e("v-uni-view",{staticClass:"card-num"},[t._v(t._s(a.point)+" 积分")]):0==a.balance&&0==a.point&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("商品*"+t._s(a.goods_num))]):a.balance>0&&a.point>0&&0==a.goods_num?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+"+"+t._s(a.point)+"积分")]):a.balance>0&&0==a.point&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(a.balance)+"+商品*"+t._s(a.goods_num))]):0==a.balance&&a.point>0&&a.goods_num>0?e("v-uni-view",{staticClass:"card-num"},[t._v(t._s(a.point)+"积分+商品*"+t._s(a.goods_num))]):t._e(),e("v-uni-view",{staticClass:"card-id"},[t._v("NO."+t._s(a.number))])],1)],1):t._e()],1)})),1):e("v-uni-view",{staticClass:"card-no-data"},[e("v-uni-view",{staticClass:"card-image"},[e("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/giftcard/detail/no_giving.png"),mode:"aspectFill"}})],1),e("v-uni-view",{},[t._v("暂无数据")])],1)],1)],2),e("loading-cover",{ref:"loadingCover"})],1)],1)},o=[]},4020:function(t,a,e){"use strict";var n;e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticStyle:{display:"none"}},[t._t("default")],2)},o=[]},"5c05":function(t,a,e){"use strict";e("99af"),e("4160"),e("fb6a"),e("159b"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{cardlist:[],giftcardDetail:[]}},methods:{toExchange:function(){this.$util.redirectTo("/pages_promotion/giftcard/my_exchange/my_exchange")},toOrder:function(){this.$util.redirectTo("/pages_promotion/giftcard/order/order")},toPresent:function(){this.$util.redirectTo("/pages_promotion/giftcard/present/list")},gotoDetail:function(t){this.$util.redirectTo("/pages_promotion/giftcard/detail/detail",{id:t})},getData:function(t){var a=this;this.$api.sendRequest({url:"/giftcard/api/giftcard/mygiftcardlist",data:{page_size:t.size,page:t.num},success:function(e){var n=[];0==e.code&&e.data&&(n=e.data.list),t.endSuccess(n.length),1==t.num&&(a.cardlist=[]),a.cardlist=a.cardlist.concat(n),a.cardlist.forEach((function(t){t.start_time=a.$util.timeStampTurnTime(t.start_time).slice(0,10),t.end_time=a.$util.timeStampTurnTime(t.end_time).slice(0,10)})),a.$refs.loadingCover&&a.$refs.loadingCover.hide()},fail:function(e){t.endErr&&t.endErr(),a.$refs.loadingCover&&a.$refs.loadingCover.hide()}})}}};a.default=n},"6d42":function(t,a,e){"use strict";e.r(a);var n=e("4020"),i=e("8f28");for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);var c,r=e("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);a["default"]=s.exports},"8ac3":function(t,a,e){"use strict";e.r(a);var n=e("5c05"),i=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a},"8b6d":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.header-box[data-v-2d17bf4f]{padding:%?54?% %?30?% 0 %?30?%}.header-box .header[data-v-2d17bf4f]{display:flex;justify-content:space-between;padding:%?30?% %?50?%;border-radius:%?15?%;margin:%?20?% %?10?%;background:#fff;height:%?180?%}.card-item2[data-v-2d17bf4f]{margin:0 %?30?%;border-radius:%?20?%;position:relative}.card-item2 .card-content[data-v-2d17bf4f]{padding:%?30?% %?50?%;border-radius:%?15?%}.card-item2 .card-content .content-head[data-v-2d17bf4f]{display:flex;justify-content:space-between;margin-bottom:%?30?%}.card-item2 .card-content .content-head .card-name[data-v-2d17bf4f]{font-size:%?40?%;color:#909399;max-height:%?160?%;width:85%;overflow:hidden}.card-item2 .card-content .content-head .use-orno[data-v-2d17bf4f]{color:#909399}.card-item2 .card-content .card-use[data-v-2d17bf4f]{color:#909399}.card-item2 .card-content .card-num[data-v-2d17bf4f]{margin-top:%?20?%;line-height:%?20?%;color:#909399}.card-item2 .card-content .card-id[data-v-2d17bf4f]{margin-top:%?40?%;color:#909399}.card-item[data-v-2d17bf4f]{padding:0 %?20?%;margin:0 %?10?%;border-radius:%?20?%}.card-item .card-content[data-v-2d17bf4f]{padding:%?30?% %?50?%;border-radius:%?15?%}.card-item .card-content .content-head[data-v-2d17bf4f]{display:flex;justify-content:space-between;margin-bottom:%?30?%}.card-item .card-content .content-head .card-name[data-v-2d17bf4f]{font-size:%?48?%;color:#fff;max-height:%?160?%;width:85%;overflow:hidden}.card-item .card-content .content-head .use-orno[data-v-2d17bf4f]{color:#fff}.card-item .card-content .card-use[data-v-2d17bf4f]{color:#fff}.card-item .card-content .card-num[data-v-2d17bf4f]{margin-top:%?20?%;line-height:%?20?%;color:#fff}.card-item .card-content .card-id[data-v-2d17bf4f]{margin-top:%?40?%;color:#fff}.hasuse-card-content[data-v-2d17bf4f]{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.card-box1[data-v-2d17bf4f]{height:%?296?%}.card-box2[data-v-2d17bf4f]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#efefef;opacity:.8;border-radius:%?16?%;z-index:200}.card-box3[data-v-2d17bf4f]{position:absolute;width:%?590?%;top:0;color:grey!important;z-index:300}.card-no-data[data-v-2d17bf4f]{width:100%;text-align:center}.card-no-data .card-image[data-v-2d17bf4f]{margin-top:%?150?%;display:flex}.card-no-data .card-image uni-image[data-v-2d17bf4f]{margin:auto auto}',""]),t.exports=a},"8f28":function(t,a,e){"use strict";e.r(a);var n=e("013c"),i=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a},a2b7:function(t,a,e){"use strict";e.r(a);var n=e("37c3"),i=e("8ac3");for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);e("a786");var c,r=e("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"2d17bf4f",null,!1,n["a"],c);a["default"]=s.exports},a786:function(t,a,e){"use strict";var n=e("063e"),i=e.n(n);i.a}}]);
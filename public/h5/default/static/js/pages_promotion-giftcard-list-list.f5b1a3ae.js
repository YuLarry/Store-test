(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_promotion-giftcard-list-list"],{"013c":function(t,e,n){"use strict";n("c975"),n("a9e3"),n("acd8"),n("ac1f"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},i={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,e=getCurrentPages()[0];this.$pageVm=e.$vm||e,uni.onWindowResize((function(e){t.$emit("resize",e)})),this.$pageVm.$on("hook:onPageScroll",(function(e){t.$emit("scroll",e)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta()})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle(),this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,e){t.setStyle({pullToRefresh:{support:e,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,e=String(this.scrollTop);if(-1!==e.indexOf("rpx")&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)){var n=function n(i){i.scrollTop===e&&(t.$pageVm.$off("hook:onPageScroll",n),t.$emit("scrolldone",a))};uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",n)}})}}}};e.default=i},"02c9":function(t,e,n){"use strict";n.r(e);var a=n("8ffc"),i=n("053a");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("8be8");var o,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"c1b5d864",null,!1,a["a"],o);e["default"]=s.exports},"038f":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".bg[data-v-33f194be]{width:100%;height:%?158?%;background-color:#fff;position:fixed;left:0;\r\ntop:%?88?%;\n}.ns-adv[data-v-33f194be]{background:#fff;height:%?300?%;border-radius:%?10?%\r\n\t/* padding: 8rpx 24rpx 24rpx; */}.ns-adv .image-box[data-v-33f194be]{width:100%;height:100%;border-radius:%?10?%}.ns-adv uni-image[data-v-33f194be]{width:100%;height:100%;border-radius:%?10?%}",""]),t.exports=e},"053a":function(t,e,n){"use strict";n.r(e);var a=n("52df"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"0599":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.ns-adv[data-v-c1b5d864]{padding:%?20?% %?30?% %?10?%;border-radius:%?10?%;overflow:hidden;line-height:1;background:#fff}.ns-adv uni-image[data-v-c1b5d864]{width:100%}[data-v-c1b5d864] .fixed{position:relative;top:0}[data-v-c1b5d864] .empty{margin-top:0!important}.topic-pic[data-v-c1b5d864]{height:%?300?%}.topic-pic uni-image[data-v-c1b5d864]{height:%?300?%}.topic-list[data-v-c1b5d864]{margin:0 %?24?% %?24?%;border-radius:%?10?%;overflow:hidden;display:flex;flex-direction:column;margin-bottom:%?16?%;background-color:#fff}.topic-list .list-img[data-v-c1b5d864]{width:100%;overflow:hidden}.topic-list .list-img uni-image[data-v-c1b5d864]{width:100%;height:100%}.sort-wrap[data-v-c1b5d864]{display:flex;padding:%?20?% 0 %?5?%;background:#fff}.sort-wrap > uni-view[data-v-c1b5d864]{flex:1;text-align:center;font-size:%?28?%;height:%?60?%;line-height:%?60?%}.sort-wrap .comprehensive-wrap[data-v-c1b5d864]{display:flex;justify-content:center;align-items:center}.sort-wrap .comprehensive-wrap .iconfont-wrap[data-v-c1b5d864]{display:inline-block;margin-left:%?10?%;width:%?40?%}.sort-wrap .comprehensive-wrap .iconfont-wrap .iconfont[data-v-c1b5d864]{font-size:%?32?%;line-height:1;margin-bottom:%?5?%}.sort-wrap .price-wrap[data-v-c1b5d864]{display:flex;justify-content:center;align-items:center}.sort-wrap .price-wrap .iconfont-wrap[data-v-c1b5d864]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:%?40?%}.sort-wrap .price-wrap .iconfont-wrap .iconfont[data-v-c1b5d864]{float:left;font-size:%?24?%;line-height:1;height:%?20?%;color:#909399}.sort-wrap .screen-wrap[data-v-c1b5d864]{display:flex;justify-content:center;align-items:center}.sort-wrap .screen-wrap .iconfont-wrap[data-v-c1b5d864]{display:inline-block;margin-left:%?10?%;width:%?40?%}.sort-wrap .screen-wrap .iconfont-wrap .iconfont[data-v-c1b5d864]{font-size:%?32?%;line-height:1}.card-list[data-v-c1b5d864]{padding:%?30?%}.card-list .card-item[data-v-c1b5d864]{background:#ff9696;border-radius:%?20?%;padding:%?20?%;margin:%?25?% %?5?%}.card-list .card-item .card-content[data-v-c1b5d864]{padding:%?20?% %?50?%}.card-list .card-item .card-content .card-name[data-v-c1b5d864]{font-size:%?48?%;margin-bottom:%?10?%;color:#fff;max-height:%?160?%;overflow:hidden}.card-list .card-item .card-content .card-use[data-v-c1b5d864]{color:#fff}.card-list .card-item .card-content .card-num[data-v-c1b5d864]{color:#fff}.card-list .card-item .card-content .card-money[data-v-c1b5d864]{font-size:%?40?%;color:#fff}.card-list .card-item .card-content uni-button[data-v-c1b5d864]{color:#ff4c4b;background:#fff}.card-list .card-item .card-pay[data-v-c1b5d864]{display:flex;justify-content:space-between;padding:%?10?% %?20?% 0 %?10?%}',""]),t.exports=e},"3b11":function(t,e,n){var a=n("038f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("0db75226",a,!0,{sourceMap:!1,shadowMode:!1})},"3d2c":function(t,e,n){"use strict";n.r(e);var a=n("745a"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},4020:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{display:"none"}},[t._t("default")],2)},r=[]},"52df":function(t,e,n){"use strict";var a=n("4ea4");n("99af"),n("4160"),n("c975"),n("fb6a"),n("ac1f"),n("1276"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("c267")),r={components:{nsAdv:i.default},data:function(){return{order:1,cardList:[],memberId:0,mpShareData:null}},onLoad:function(t){var e=this;if(this.$util.getMemberId().then((function(t){e.memberId=t})).catch((function(t){})),t.source_member&&uni.setStorageSync("source_member",t.source_member),t.scene){var n=decodeURIComponent(t.scene);n=n.split("&"),n.length&&n.forEach((function(t){-1!=t.indexOf("sku_id")&&(e.skuId=t.split("-")[1]),-1!=t.indexOf("m")&&uni.setStorageSync("source_member",t.split("-")[1]),-1!=t.indexOf("is_test")&&uni.setStorageSync("is_test",1)}))}},onShow:function(){uni.getStorageSync("token")&&uni.getStorageSync("source_member")&&this.$util.onSourceMember(uni.getStorageSync("source_member"))},onShareAppMessage:function(){return this.mpShareData.appMessage},onShareTimeline:function(){return this.mpShareData.timeLine},methods:{changeOrder:function(t){this.list=[],this.order=t,this.$refs.mescroll.refresh()},getData:function(t){var e=this;this.$api.sendRequest({url:"/giftcard/api/giftcard/giftCardList",data:{page_size:t.size,page:t.num,order:this.order},success:function(n){var a=[];0==n.code&&n.data&&(a=n.data.list),t.endSuccess(a.length),1==t.num&&(e.cardList=[]),e.cardList=e.cardList.concat(a),e.cardList.forEach((function(t){t.start_time=e.$util.timeStampTurnTime(t.start_time).slice(0,10),t.end_time=e.$util.timeStampTurnTime(t.end_time).slice(0,10)})),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(n){t.endErr(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},goBuy:function(t){if(uni.getStorageSync("token"))this.$util.redirectTo("/pages_promotion/giftcard/my_giftcard/detail",{id:t.id});else{var e="/pages_promotion/giftcard/list/list";this.$refs.login.open(e)}}}};e.default=r},"5c53":function(t,e,n){var a=n("0599");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("10f025de",a,!0,{sourceMap:!1,shadowMode:!1})},"6d42":function(t,e,n){"use strict";n.r(e);var a=n("4020"),i=n("8f28");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var o,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=s.exports},"745a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"ns-advert",props:{keyword:{type:String}},data:function(){return{advList:[]}},created:function(){this.getAdvList()},methods:{getAdvList:function(){var t=this;this.$api.sendRequest({url:"/api/adv/detail",data:{keyword:this.keyword},success:function(e){if(0==e.code){var n=e.data.adv_list;for(var a in n)n[a].adv_url&&(n[a].adv_url=JSON.parse(n[a].adv_url));t.advList=e.data.adv_list}}})},jumppage:function(t){this.$util.diyRedirectTo(t)}}};e.default=a},"8be8":function(t,e,n){"use strict";var a=n("5c53"),i=n.n(a);i.a},"8f28":function(t,e,n){"use strict";n.r(e);var a=n("013c"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"8ffc":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={pageMeta:n("6d42").default,nsAdv:n("c267").default,nsEmpty:n("2c4c").default,loadingCover:n("790a").default,nsLogin:n("2893").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("page-meta",{attrs:{"page-style":t.themeColor}}),n("v-uni-view",[n("mescroll-uni",{ref:"mescroll",attrs:{size:10},on:{getData:function(e){arguments[0]=e=t.$handleEvent(e),t.getData.apply(void 0,arguments)}}},[n("template",{attrs:{slot:"list"},slot:"list"},[t.cardList.length?[n("v-uni-view",{staticClass:"ns-adv"},[n("ns-adv",{attrs:{keyword:"NS_GIFTCARD"}}),n("v-uni-view",{staticClass:"sort-wrap"},[n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOrder(1)}}},[n("v-uni-text",{class:1==t.order?"color-base-text active color-base-border-bottom":""},[t._v("综合排序")])],1),n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOrder(2)}}},[n("v-uni-text",{class:2==t.order?"color-base-text active color-base-border-bottom":""},[t._v("价格从高到低")])],1),n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOrder(3)}}},[n("v-uni-text",{class:3==t.order?"color-base-text active color-base-border-bottom":""},[t._v("价格从低到高")])],1)],1)],1),n("v-uni-view",{staticClass:"card-list single-column"},t._l(t.cardList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"card-item",style:{background:e.card_cover?"url("+t.$util.img(e.card_cover)+") no-repeat 0 0/100% 100%":"url("+t.$util.img("public/uniapp/giftcard/detail/gitcard_default3.png")+") no-repeat 0 0/100% 100%"}},[n("v-uni-view",{staticClass:"card-content"},[n("v-uni-view",{staticClass:"card-name"},[t._v(t._s(e.card_name))]),n("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column","margin-top":"20rpx"}},[n("v-uni-view",{staticClass:"card-use"},[t._v("礼品卡权益")]),e.balance>0&&e.point>0&&e.goods_num>0?n("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance)+"+"+t._s(e.point)+"积分+商品*"+t._s(e.goods_num))]):e.balance>0&&0==e.point&&0==e.goods_num?n("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance))]):0==e.balance&&e.point>0&&0==e.goods_num?n("v-uni-view",{staticClass:"card-num"},[t._v(t._s(e.point)+" 积分")]):0==e.balance&&0==e.point&&e.goods_num>0?n("v-uni-view",{staticClass:"card-num"},[t._v("商品*"+t._s(e.goods_num))]):e.balance>0&&e.point>0&&0==e.goods_num?n("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance)+"+"+t._s(e.point)+"积分")]):e.balance>0&&0==e.point&&e.goods_num>0?n("v-uni-view",{staticClass:"card-num"},[t._v("￥"+t._s(e.balance)+"+商品*"+t._s(e.goods_num))]):0==e.balance&&e.point>0&&e.goods_num>0?n("v-uni-view",{staticClass:"card-num"},[t._v(t._s(e.point)+"积分+商品*"+t._s(e.goods_num))]):t._e()],1),n("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column"}},[n("v-uni-view",{staticClass:"card-money"},[t._v("￥"+t._s(e.selling_price))]),n("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goBuy(e)}}},[t._v("立即购买")])],1)],1)],1)],1)})),1)]:n("ns-empty",{attrs:{isIndex:!1,text:"还没有礼品卡哦"}})],2)],2),n("loading-cover",{ref:"loadingCover"}),n("ns-login",{ref:"login"})],1)],1)},r=[]},a449:function(t,e,n){"use strict";var a=n("3b11"),i=n.n(a);i.a},b27e:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.advList.length?n("v-uni-view",[t.advList.length?n("v-uni-swiper",{staticClass:"ns-adv",attrs:{"indicator-dots":t.advList.length>1,"indicator-active-color":"#ffffff",autoplay:!0,interval:3e3,duration:1e3}},t._l(t.advList,(function(e,a){return n("v-uni-swiper-item",{key:a,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.jumppage(e.adv_url)}}},[n("v-uni-view",{staticClass:"image-box",style:{"background-color":e.background}},[n("v-uni-image",{attrs:{src:t.$util.img(e.adv_image)}})],1)],1)})),1):t._e()],1):t._e()},r=[]},c267:function(t,e,n){"use strict";n.r(e);var a=n("b27e"),i=n("3d2c");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("a449");var o,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"33f194be",null,!1,a["a"],o);e["default"]=s.exports}}]);
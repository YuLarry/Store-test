(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-giftcard-payment-payment"],{"0275":function(e,t,i){var o=i("bd86");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("4f06").default;a("fcc11f14",o,!0,{sourceMap:!1,shadowMode:!1})},"0363":function(e,t,i){"use strict";i.r(t);var o=i("f9512"),a=i.n(o);for(var r in o)"default"!==r&&function(e){i.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},"0914":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return o}));var o={nsForm:i("5b77").default,uniPopup:i("d7b6").default,loadingCover:i("4c1d").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"order-container",class:{"safe-area":e.isIphoneX},attrs:{"data-theme":e.themeStyle}},[0==e.orderPaymentData.is_virtual?["store"!=e.orderPaymentData.delivery.delivery_type?i("v-uni-view",{staticClass:"address-box"},[e.orderPaymentData.member_address?i("v-uni-view",{staticClass:"info-wrap",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"icon-wrap"},[i("v-uni-text",{staticClass:"iconfont icondizhi"})],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"name font-size-base"},[e._v(e._s(e.orderPaymentData.member_address.name?e.orderPaymentData.member_address.name:""))]),i("v-uni-text",{staticClass:"font-size-base"},[e._v(e._s(e.orderPaymentData.member_address.mobile?e.orderPaymentData.member_address.mobile:""))]),i("v-uni-text",{staticClass:"cell-more iconfont iconright"}),i("v-uni-view",{staticClass:"desc-wrap"},[e._v(e._s(e.orderPaymentData.member_address.full_address?e.orderPaymentData.member_address.full_address:"")+"\n\t\t\t\t\t\t\t"+e._s(e.orderPaymentData.member_address.address?e.orderPaymentData.member_address.address:""))])],1)],1):i("v-uni-view",{staticClass:"empty-wrap",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"icon-wrap"},[i("v-uni-view",{staticClass:"iconfont icondizhi empty"})],1),i("v-uni-view",{staticClass:"info"},[e._v("请设置收货地址")]),i("v-uni-view",{staticClass:"cell-more"},[i("v-uni-view",{staticClass:"iconfont iconright"})],1)],1),"local"==e.orderPaymentData.delivery.delivery_type?i("v-uni-view",{staticClass:"local-box"},[i("v-uni-view",{staticClass:"order-cell"},[i("v-uni-text",{staticClass:"tit"},[e._v("配送时间")]),i("v-uni-view",{staticClass:"box"},[e.timeInfo.showTime?i("v-uni-text",[e._v(e._s(e.timeInfo.start_time+"-"+e.timeInfo.end_time))]):e._e(),e.deliveryWeek?i("v-uni-text",[e.timeInfo.showTime?[e._v("（")]:e._e(),e._v(e._s(e.deliveryWeek)),e.timeInfo.showTime?[e._v("）")]:e._e()],2):e._e(),e.canLocalDelicery?e._e():i("v-uni-text",[e._v("（休息中）")])],1)],1),e.timeInfo.showTimeBar&&e.orderPaymentData.member_address&&e.canLocalDelicery?i("v-uni-picker",{attrs:{value:e.orderCreateData.buyer_ask_delivery_time,mode:"time"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTimeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"pick-block"},[i("v-uni-view",{staticClass:"font-size-base"},[e._v("送达时间")]),i("v-uni-view",{staticClass:"time-picker"},[i("v-uni-text",[e._v(e._s(e.orderCreateData.buyer_ask_delivery_time))]),i("v-uni-text",{staticClass:"iconfont iconright cell-more"})],1)],1)],1):e._e()],1):e._e()],1):e._e(),"store"==e.orderPaymentData.delivery.delivery_type&&e.storeInfo.currStore?i("v-uni-view",{staticClass:"mobile-wrap"},[i("v-uni-view",{staticClass:"form-group"},[i("v-uni-text",{staticClass:"iconfont icondianhua2"}),i("v-uni-text",{staticClass:"text"},[e._v("预留手机")]),i("v-uni-input",{staticClass:"input",attrs:{type:"number",maxlength:"11",placeholder:"请输入您的手机号码","placeholder-class":"color-tip placeholder"},model:{value:e.member_address.mobile,callback:function(t){e.$set(e.member_address,"mobile",t)},expression:"member_address.mobile"}})],1)],1):e._e(),e.orderPaymentData.shop_goods_list.express_type.length>1?i("v-uni-view",{staticClass:"delivery-mode"},[i("v-uni-view",{staticClass:"head"},[i("v-uni-text",{staticClass:"iconfont iconwuliu"}),i("v-uni-text",[e._v("配送方式")])],1),i("v-uni-view",{staticClass:"action"},e._l(e.orderPaymentData.shop_goods_list.express_type,(function(t,o){return i("v-uni-button",{key:o,attrs:{type:t.name==e.orderPaymentData.delivery.delivery_type?"primary":"default",size:"mini"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectDeliveryType(t)}}},[e._v(e._s(t.title))])})),1)],1):e._e(),"store"==e.orderPaymentData.delivery.delivery_type?i("v-uni-view",{staticClass:"store-box"},[e.storeInfo.currStore?i("v-uni-view",{staticClass:"store-info",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openSiteDelivery.apply(void 0,arguments)}}},[e.storeInfo.currStore.store_image?i("v-uni-view",{staticClass:"icon img"},[i("v-uni-image",{attrs:{src:e.$util.img(e.storeInfo.currStore.store_image),mode:"aspectFill"}})],1):i("v-uni-view",{staticClass:"icon"},[i("v-uni-view",{staticClass:"iconfont iconmendian"})],1),i("v-uni-view",{staticClass:"info-wrap"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",[e._v(e._s(e.storeInfo.currStore.store_name))]),i("v-uni-view",{staticClass:"cell-more iconfont iconright"})],1),i("v-uni-view",{staticClass:"store-detail"},[e.storeInfo.currStore.open_date?i("v-uni-view",[e._v("营业时间："+e._s(e.storeInfo.currStore.open_date))]):e._e(),i("v-uni-view",[e._v("地址："+e._s(e.storeInfo.currStore.full_address)+" "+e._s(e.storeInfo.currStore.address))])],1)],1)],1):i("v-uni-view",{staticClass:"empty"},[e._v("当前无自提门店，请选择其它配送方式")])],1):e._e()]:e._e(),1==e.orderPaymentData.is_virtual&&e.orderCreateData.member_address?i("v-uni-view",{staticClass:"mobile-wrap"},[i("v-uni-view",{staticClass:"tips color-base-text"},[e._v("购买虚拟类商品需填写手机号，方便商家与您联系")]),i("v-uni-view",{staticClass:"form-group"},[i("v-uni-text",{staticClass:"iconfont icondianhua2"}),i("v-uni-text",{staticClass:"text"},[e._v("手机号码")]),i("v-uni-input",{staticClass:"input",attrs:{type:"number",maxlength:"11",placeholder:"请输入您的手机号码","placeholder-class":"color-tip placeholder"},model:{value:e.orderCreateData.member_address.mobile,callback:function(t){e.$set(e.orderCreateData.member_address,"mobile",t)},expression:"orderCreateData.member_address.mobile"}})],1)],1):e._e(),i("v-uni-view",{staticClass:"site-wrap"},[i("v-uni-view",{staticClass:"site-body"},e._l(e.orderPaymentData.shop_goods_list.goods_list,(function(t,o){return i("v-uni-view",{key:o,staticClass:"goods-wrap"},[i("v-uni-view",{staticClass:"goods-img",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.navigateTo(t.sku_id)}}},[i("v-uni-image",{attrs:{src:e.$util.img(t.sku_image,{size:"mid"}),mode:"aspectFill"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.imageError(o)}}})],1),i("v-uni-view",{staticClass:"goods-info"},[i("v-uni-view",{staticClass:"goods-name",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.navigateTo(t.sku_id)}}},[e._v(e._s(t.sku_name))]),i("v-uni-view",{staticClass:"introduction"},[e._v(e._s(t.introduction))]),i("v-uni-view",{staticClass:"sku"},[t.sku_spec_format.length>0?i("v-uni-view",{staticClass:"goods-spec"},[e._l(t.sku_spec_format,(function(i,o){return[e._v(e._s(i.spec_value_name)+" "+e._s(o<t.sku_spec_format.length-1?"; ":""))]}))],2):e._e(),i("v-uni-view",[i("v-uni-text",{staticClass:"font-size-tag"},[e._v("x")]),i("v-uni-text",{staticClass:"font-size-base"},[e._v(e._s(t.num))])],1)],1),i("v-uni-view",{staticClass:"goods-sub-section"})],1)],1)})),1)],1),e.orderPaymentData.system_form?i("v-uni-view",{staticClass:"system-form-wrap"},[i("ns-form",{ref:"form",attrs:{data:e.orderPaymentData.system_form.json_data}})],1):e._e(),i("v-uni-view",{staticClass:"order-submit",class:{"bottom-safe-area":e.isIphoneX}},[i("v-uni-view",{staticClass:"order-settlement-info"}),i("v-uni-view",{staticClass:"submit-btn"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openChoosePayment(e.giftcard_id,e.id)}}},[e._v("提交")])],1)],1),i("uni-popup",{ref:"deliveryPopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"delivery-popup popup"},[i("v-uni-view",{staticClass:"popup-header"},[i("v-uni-text",{staticClass:"tit"},[e._v("已为您甄选出附近所有相关门店")]),i("v-uni-text",{staticClass:"iconfont iconclose",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closePopup("deliveryPopup")}}})],1),i("v-uni-view",{staticClass:"popup-body store-popup",class:{"safe-area":e.isIphoneX}},[i("v-uni-view",{staticClass:"delivery-content"},[e._l(e.storeInfo.storeList,(function(t,o){return i("v-uni-view",{key:o,staticClass:"item-wrap",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectPickupPoint(t)}}},[i("v-uni-view",{staticClass:"detail"},[i("v-uni-view",{staticClass:"name",class:t.store_id==e.orderPaymentData.delivery.store_id?"color-base-text":""},[i("v-uni-text",[e._v(e._s(t.store_name))]),t.distance?i("v-uni-text",[e._v("("+e._s(t.distance)+"km)")]):e._e()],1),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"font-size-goods-tag",class:t.store_id==e.orderPaymentData.delivery.store_id?"color-base-text":""},[e._v("营业时间："+e._s(t.open_date))]),i("v-uni-view",{staticClass:"font-size-goods-tag",class:t.store_id==e.orderPaymentData.delivery.store_id?"color-base-text":""},[e._v("地址："+e._s(t.full_address)+e._s(t.address))])],1)],1),t.store_id==e.orderPaymentData.delivery.store_id?i("v-uni-view",{staticClass:"icon"},[i("v-uni-text",{staticClass:"iconfont iconyuan_checked color-base-text"})],1):e._e()],1)})),e.storeInfo.storeList?e._e():i("v-uni-view",{staticClass:"empty"},[e._v("所选择收货地址附近没有可以自提的门店")])],2)],1)],1)],1),i("loading-cover",{ref:"loadingCover"})],2)},r=[]},"0d4e":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */uni-input[data-v-03875c7c],\r\nuni-view[data-v-03875c7c]{font-size:%?24?%}.font-bold[data-v-03875c7c]{font-weight:700}.order-container[data-v-03875c7c]{padding-bottom:%?160?%}.order-container.safe-area[data-v-03875c7c]{padding-bottom:%?188?%}.mobile-wrap[data-v-03875c7c]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.mobile-wrap .tips[data-v-03875c7c]{font-size:%?22?%;margin-bottom:%?10?%}.mobile-wrap .form-group[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%}.mobile-wrap .form-group .iconfont[data-v-03875c7c]{margin-right:%?26?%;font-size:%?32?%}.mobile-wrap .form-group .text[data-v-03875c7c]{display:inline-block;line-height:%?50?%;padding-right:%?10?%;font-size:%?28?%}.mobile-wrap .form-group .placeholder[data-v-03875c7c]{line-height:%?50?%}.mobile-wrap .form-group .input[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?50?%;line-height:%?50?%;text-align:right}.order-cell[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;margin:0 0 %?30?% 0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;line-height:%?40?%;position:relative}.order-cell.clear-flex[data-v-03875c7c]{display:block}.order-cell uni-text[data-v-03875c7c]{font-size:%?24?%}.order-cell .tit[data-v-03875c7c]{text-align:left;font-size:%?28?%;min-width:%?160?%}.order-cell .tit uni-text[data-v-03875c7c]{font-size:%?28?%}.order-cell .tit .tit-content[data-v-03875c7c]{max-width:%?540?%;font-size:12px;line-height:%?35?%;margin-bottom:%?10?%}.order-cell .box[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:0 %?10?%;line-height:inherit;text-align:right}.order-cell .box.text-overflow[data-v-03875c7c]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.order-cell .box.text-overflow .money[data-v-03875c7c]{overflow:hidden;max-width:40%;display:inline-block;text-overflow:ellipsis;vertical-align:top}.order-cell .box .iconright[data-v-03875c7c]{color:#303133;margin-left:%?20?%}.order-cell .box .operator[data-v-03875c7c]{font-size:%?24?%;margin-right:%?6?%;font-weight:700}.order-cell .iconfont[data-v-03875c7c]{color:#909399;line-height:normal;font-size:%?24?%}.order-cell .unit[data-v-03875c7c]{margin-right:%?4?%;font-weight:700;font-size:%?24?%!important}.order-cell .money[data-v-03875c7c]{font-size:%?32?%!important;font-weight:700}.site-wrap[data-v-03875c7c]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%;padding:%?40?% 0}.site-wrap .site-body[data-v-03875c7c]{margin:0 %?30?%}.site-wrap .site-body .goods-wrap[data-v-03875c7c]{margin-bottom:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;position:relative}.site-wrap .site-body .goods-wrap[data-v-03875c7c]:last-of-type{padding-bottom:%?20?%;border-bottom:%?2?% solid #eee}.site-wrap .site-body .goods-wrap .goods-img[data-v-03875c7c]{width:%?180?%;height:%?180?%;margin-right:%?20?%;border-radius:%?10?%;overflow:hidden}.site-wrap .site-body .goods-wrap .goods-img uni-image[data-v-03875c7c]{width:100%;height:100%;border-radius:%?10?%}.site-wrap .site-body .goods-wrap .goods-info[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;width:calc(100% - %?220?%);margin-top:%?-4?%}.site-wrap .site-body .goods-wrap .goods-info .goods-name[data-v-03875c7c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:1.5;font-size:%?28?%}.site-wrap .site-body .goods-wrap .goods-info .sku[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:1;margin-top:%?8?%}.site-wrap .site-body .goods-wrap .goods-info .sku .goods-spec[data-v-03875c7c]{color:#909399;font-size:%?22?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-webkit-flex:1;flex:1}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section[data-v-03875c7c]{position:absolute;left:0;bottom:0;width:100%}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section .unit[data-v-03875c7c]{font-size:%?24?%;margin-right:%?4?%;font-weight:700}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section .goods-price[data-v-03875c7c]{font-weight:700;font-size:%?32?%}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-03875c7c]:first-of-type{width:80%;overflow:hidden;text-overflow:ellipsis}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-03875c7c]:last-of-type{text-align:right;position:absolute;right:0;bottom:0}.site-wrap .site-footer[data-v-03875c7c]{margin:0 %?30?%}.site-wrap .site-footer .order-cell[data-v-03875c7c]:last-of-type{margin-bottom:0}.order-money[data-v-03875c7c]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.order-money .order-cell[data-v-03875c7c]:last-child{margin-bottom:0}.error-message[data-v-03875c7c]{position:fixed;z-index:5;left:0;bottom:%?100?%;width:100vw;background:#f6f6cb;text-align:left;padding:%?10?% %?20?%;color:red}.order-submit[data-v-03875c7c]{position:fixed;z-index:5;left:0;bottom:0;width:100vw;height:%?100?%;background:#fff;text-align:right;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-submit.bottom-safe-area[data-v-03875c7c]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.order-submit .order-settlement-info[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?100?%;line-height:%?100?%}.order-submit .order-settlement-info .unit[data-v-03875c7c]{font-weight:700;font-size:%?24?%;margin-right:%?4?%}.order-submit .order-settlement-info .money[data-v-03875c7c]{font-weight:700;font-size:%?32?%}.order-submit .submit-btn[data-v-03875c7c]{height:%?80?%;margin:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-submit .submit-btn uni-button[data-v-03875c7c]{line-height:%?70?%;width:%?180?%;height:%?70?%;padding:0;font-size:%?28?%}.order-submit .submit-btn .no-submit[data-v-03875c7c]{width:unset;background-color:#ccc;color:#fff;padding:0 %?20?%;font-size:%?28?%}.popup[data-v-03875c7c]{width:100vw;background:#fff;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%}.popup .popup-header[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;border-bottom:%?2?% solid #eee;position:relative;padding:%?40?%}.popup .popup-header .tit[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?32?%;line-height:1;text-align:center}.popup .popup-header .iconfont[data-v-03875c7c]{line-height:1;position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#909399;font-size:%?32?%}.popup .popup-body[data-v-03875c7c]{height:calc(100% - %?250?%)}.popup .popup-body.store-popup[data-v-03875c7c]{height:calc(100% - %?120?%)}.popup .popup-body.safe-area[data-v-03875c7c]{height:calc(100% - %?270?%)}.popup .popup-body.store-popup.safe-area[data-v-03875c7c]{height:calc(100% - %?140?%)}.popup .popup-footer[data-v-03875c7c]{height:%?120?%}.popup .popup-footer .confirm-btn[data-v-03875c7c]{height:%?80?%;line-height:%?80?%;color:#fff;text-align:center;margin:%?20?% %?40?% %?40?%;border-radius:%?40?%;font-size:%?28?%}.popup .popup-footer.bottom-safe-area[data-v-03875c7c]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.invoice-popup[data-v-03875c7c]{height:83vh;padding:%?18?% 0;box-sizing:border-box;position:relative}.invoice-popup .invoice-close[data-v-03875c7c]{position:absolute;line-height:1;top:%?48?%;right:%?48?%;font-size:%?32?%;z-index:9}.invoice-popup .popup-body .invoice-cell[data-v-03875c7c]{padding:%?30?% 0;border-top:1px solid #eee;margin:0 %?48?%}.invoice-popup .popup-body .invoice-cell[data-v-03875c7c]:first-of-type{border-top:none}.invoice-popup .popup-body .invoice-cell .tit[data-v-03875c7c]{font-size:%?28?%}.invoice-popup .popup-body .invoice-cell .option-grpup[data-v-03875c7c]{padding-top:%?20?%}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item[data-v-03875c7c]{height:%?54?%;line-height:%?54?%;display:inline-block;font-size:%?22?%;padding:0 %?36?%;background:#f8f8f8;border:1px solid #eee;border-radius:50px;margin-right:%?30?%}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item.active[data-v-03875c7c]{color:#fff}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item.content[data-v-03875c7c]{margin-bottom:%?20?%}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item.content[data-v-03875c7c]:last-child{margin-bottom:0}.invoice-popup .popup-body .invoice-cell .invoice-form-group uni-input[data-v-03875c7c]{background:#f8f8f8;border-radius:%?10?%;height:%?66?%;margin-top:%?22?%;padding:0 %?32?%;font-size:%?24?%}.invoice-popup .popup-body .invoice-tops[data-v-03875c7c]{font-size:%?20?%;margin:0 %?48?%;color:#909399}.coupon-popup[data-v-03875c7c]{height:65vh}.coupon-popup .popup-body[data-v-03875c7c]{background:#fff}.coupon-popup .coupon-item[data-v-03875c7c]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%;padding:0;position:relative;background-color:#fff2f0}.coupon-popup .coupon-item[data-v-03875c7c]:before, .coupon-popup .coupon-item[data-v-03875c7c]:after{position:absolute;content:"";background-color:#fff;top:50%;width:%?30?%;height:%?30?%;border-radius:50%;z-index:5}.coupon-popup .coupon-item[data-v-03875c7c]:before{left:0;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.coupon-popup .coupon-item[data-v-03875c7c]:after{right:0;-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.coupon-popup .coupon-item .coupon-info[data-v-03875c7c]{height:%?190?%;display:-webkit-box;display:-webkit-flex;display:flex;width:100%;position:relative}.coupon-popup .coupon-item .coupon-info .info-wrap[data-v-03875c7c]{width:%?190?%;height:%?190?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:%?20?%;background-repeat:no-repeat;background-size:100% 100%}.coupon-popup .coupon-item .coupon-info .info-wrap .coupon-money[data-v-03875c7c]{color:#fff;text-align:center;line-height:1}.coupon-popup .coupon-item .coupon-info .info-wrap .coupon-money .unit[data-v-03875c7c]{font-size:%?30?%}.coupon-popup .coupon-item .coupon-info .info-wrap .coupon-money .money[data-v-03875c7c]{font-size:%?60?%}.coupon-popup .coupon-item .coupon-info .info-wrap .at-least[data-v-03875c7c]{font-size:%?24?%;color:#fff;text-align:center;margin-top:%?20?%}.coupon-popup .coupon-item .coupon-info .desc-wrap[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;max-width:calc(100% - %?360?%)}.coupon-popup .coupon-item .coupon-info .desc-wrap uni-view[data-v-03875c7c]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.coupon-popup .coupon-item .coupon-info .desc-wrap .coupon-name[data-v-03875c7c]{margin-top:%?10?%;margin-bottom:%?4?%;font-size:%?28?%}.coupon-popup .coupon-item .coupon-info .desc-wrap .limit[data-v-03875c7c]{font-size:%?20?%}.coupon-popup .coupon-item .coupon-info .desc-wrap .time[data-v-03875c7c]{border-top:%?2?% dashed #ccc;position:absolute;bottom:%?30?%;color:#909399;padding-top:%?10?%;line-height:1.5;font-size:%?20?%}.coupon-popup .coupon-item .coupon-info .iconfont[data-v-03875c7c]{font-size:%?44?%;position:absolute;top:50%;right:%?20?%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.coupon-popup .coupon-item .coupon-info .iconyuan_checkbox[data-v-03875c7c]{color:#909399}.promotion-popup[data-v-03875c7c]{height:40vh}.promotion-popup .order-cell[data-v-03875c7c]{margin:%?30?% %?30?%}.promotion-popup .order-cell .promotion-mark[data-v-03875c7c]{padding:%?4?% %?10?%;line-height:1;border-radius:%?32?%;color:#fff;font-size:%?24?%;margin-right:%?10?%}.delivery-popup[data-v-03875c7c]{height:80vh;box-sizing:border-box}.delivery-popup .delivery-content[data-v-03875c7c]{height:100%;overflow-y:scroll;padding:%?30?% 0;box-sizing:border-box}.delivery-popup .delivery-content .item-wrap[data-v-03875c7c]{padding:%?20?% 0;box-sizing:border-box;border-top:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 %?48?%}.delivery-popup .delivery-content .item-wrap .detail[data-v-03875c7c]{width:90%}.delivery-popup .delivery-content .item-wrap .detail .name[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex}.delivery-popup .delivery-content .item-wrap .detail .name uni-text[data-v-03875c7c]{font-size:%?28?%}.delivery-popup .delivery-content .item-wrap .detail .info[data-v-03875c7c]{line-height:1.2}.delivery-popup .delivery-content .item-wrap .detail .info uni-view[data-v-03875c7c]{font-size:%?24?%}.delivery-popup .delivery-content .item-wrap .icon[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right}.delivery-popup .delivery-content .item-wrap .icon .iconfont[data-v-03875c7c]{line-height:1;font-size:%?44?%}.delivery-popup .delivery-content .item-wrap[data-v-03875c7c]:first-of-type{padding-top:0;border-top:none}.delivery-popup .delivery-content .empty[data-v-03875c7c]{text-align:center;font-size:%?24?%}.balance-switch[data-v-03875c7c]{-webkit-transform:scale(.8);transform:scale(.8)}.address-box[data-v-03875c7c]{border-radius:%?10?%;margin:%?20?% %?30?%;background-color:#fff}.address-box .info-wrap[data-v-03875c7c]{padding:%?20?% %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.address-box .info-wrap .content[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.address-box .info-wrap .content .name[data-v-03875c7c]{margin-right:%?10?%}.address-box .info-wrap .desc-wrap[data-v-03875c7c]{word-break:break-word;font-size:%?28?%}.address-box .icon-wrap[data-v-03875c7c]{width:%?24?%;height:%?42?%;position:relative;margin-right:%?26?%;-webkit-align-self:flex-start;align-self:flex-start}.address-box .icon-wrap .iconfont[data-v-03875c7c]{font-size:%?32?%;display:inline-block;vertical-align:middle}.address-box .empty-wrap[data-v-03875c7c]{height:%?100?%;line-height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 %?30?%}.address-box .empty-wrap .icon-wrap[data-v-03875c7c]{line-height:%?100?%}.address-box .empty-wrap .info[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%}.address-box .cell-more[data-v-03875c7c]{margin-left:%?50?%;float:right;color:#909399}.local-box[data-v-03875c7c]{margin:0 %?30?%;padding-bottom:%?20?%;border-radius:%?10?%;border-top:%?2?% solid #eee}.local-box .order-cell[data-v-03875c7c]{padding-top:%?20?%}.local-box .order-cell .box[data-v-03875c7c]{padding:0}.local-box .pick-block[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.local-box .pick-block > uni-view[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.local-box .pick-block .time-picker[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.local-box .pick-block .time-picker .cell-more[data-v-03875c7c]{float:right;margin-left:%?10?%;color:#909399;font-size:%?24?%}.delivery-mode[data-v-03875c7c]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.delivery-mode .head .iconfont[data-v-03875c7c]{margin-right:%?26?%;font-size:%?32?%}.delivery-mode .head uni-text[data-v-03875c7c]{font-size:%?28?%}.delivery-mode .action[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?20?% 0}.delivery-mode .action uni-button[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-right:%?40?%!important;height:%?60?%;line-height:%?60?%;border-width:0}.delivery-mode .action uni-button[data-v-03875c7c]:last-child{margin-right:0!important}.delivery-mode .action uni-button[type="default"][data-v-03875c7c]{background-color:#f8f8f8}.store-box[data-v-03875c7c]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.store-box .store-info[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.store-box .store-info .icon[data-v-03875c7c]{position:relative;margin-right:%?26?%;-webkit-align-self:flex-start;align-self:flex-start;margin-top:%?-2?%}.store-box .store-info .icon.img[data-v-03875c7c]{background-color:unset;margin-right:%?12?%;width:%?60?%;height:%?60?%;border-radius:50%;margin-top:%?12?%}.store-box .store-info .icon.img uni-image[data-v-03875c7c]{width:100%;height:100%}.store-box .store-info .icon .iconfont[data-v-03875c7c]{font-size:%?32?%}.store-box .store-info .info-wrap[data-v-03875c7c]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.store-box .store-info .info-wrap .title[data-v-03875c7c]{margin-bottom:%?10?%;font-size:%?28?%}.store-box .store-info .info-wrap .title .cell-more[data-v-03875c7c]{float:right;margin-left:%?50?%;color:#909399;font-size:%?24?%}.store-box .store-info .info-wrap .store-detail uni-view[data-v-03875c7c]{word-break:break-word;font-size:%?24?%;color:#606266}.store-box .empty[data-v-03875c7c]{text-align:center}.store-box .store-time[data-v-03875c7c]{border-top:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?20?% 0 0;box-sizing:border-box;margin-top:%?10?%}.store-box .store-time uni-view[data-v-03875c7c]{font-size:%?24?%}.store-box .store-time .right[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:1}.store-box .store-time .right .iconfont[data-v-03875c7c]{font-size:%?26?%;margin-left:%?14?%;color:#909399}.member-card-wrap[data-v-03875c7c]{box-sizing:border-box;width:100%;margin-top:%?20?%;background-color:#f5f5f5;border-radius:%?10?%;padding:0 %?20?%!important}.member-card-wrap .head[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?80?%}.member-card-wrap .iconyuan_checked[data-v-03875c7c], .member-card-wrap .iconyuan_checkbox[data-v-03875c7c]{font-size:%?32?%}.member-card-wrap .iconhuiyuan[data-v-03875c7c]{margin-right:%?10?%;line-height:1;font-size:%?32?%;background-image:-webkit-linear-gradient(top,#e3b66b,#f7daa5);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.member-card-wrap .info[data-v-03875c7c]{text-align:left;-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#e5ce75;font-size:%?24?%;color:#333}.member-card-wrap .body[data-v-03875c7c]{display:-webkit-box;display:-webkit-flex;display:flex;overflow-x:scroll;padding:%?10?% 0 %?20?% 0}.member-card-wrap .body .item[data-v-03875c7c]{padding:%?20?% 0 %?30?% 0;width:calc((100% - %?60?%) / 4);text-align:center;background:#fff;margin-right:%?20?%;border:2px solid #fff;border-radius:%?10?%;position:relative;overflow:hidden}.member-card-wrap .body .item .iconicon[data-v-03875c7c]{position:absolute;right:0;bottom:0;font-size:%?32?%;display:none}.member-card-wrap .body .item[data-v-03875c7c]:last-child{margin-right:0}.member-card-wrap .body .item .title[data-v-03875c7c]{margin-top:%?20?%;font-weight:700}.member-card-wrap .body .item .price[data-v-03875c7c]{margin-top:%?10?%}.member-card-wrap .body .active .iconicon[data-v-03875c7c]{display:block}.system-form-wrap[data-v-03875c7c]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}',""]),e.exports=t},"3d62":function(e,t,i){"use strict";var o=i("c9cf"),a=i.n(o);a.a},"9a19":function(e,t,i){"use strict";var o=i("0275"),a=i.n(o);a.a},a396:function(e,t,i){"use strict";(function(e){i("4160"),i("c975"),i("a15b"),i("b680"),i("b64b"),i("d3b7"),i("acd8"),i("e25e"),i("ac1f"),i("25f0"),i("1276"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,is_point:1,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:"",member_address:{mobile:""},is_open_card:0,member_card_unit:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},member_address:{mobile:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,manjian:[],storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTime:!1,showTimeBar:!1},post_free:{},canLocalDelicery:!0,deliveryWeek:"",out_trade_no:null}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){var e={back:"/promotionpages/giftcard/payment/payment?giftcard_i="+this.giftcard_id+"&id="+this.id,local:0,type:1};"local"==this.orderPaymentData.delivery.delivery_type&&(e.local=1,e.type=2),this.$util.redirectTo("/otherpages/member/address/address",e)},getOrderPaymentData:function(){var e=this;if(!this.out_trade_no){this.orderCreateData=uni.getStorageSync("orderCreateData");var t=uni.getStorageSync("pay_flag");if(this.orderCreateData){var i=this.$util.getLocation();i&&(this.orderCreateData=Object.assign(this.orderCreateData,i));var o=uni.getStorageSync("store");o&&(this.orderCreateData.default_store_id=o.store_id),this.orderCreateData.cart_ids&&this.orderCreateData.jielong_id?this.$api.sendRequest({url:"/jielong/api/cart/goodsLists",data:{jielong_id:this.orderCreateData.jielong_id},success:function(t){if(0==t.data.length)return e.$util.redirectTo("/pages/index/index/index",{},"reLaunch"),!1;e.dingdna()}}):this.dingdna()}else 1==t?uni.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))}},handlePaymentData:function(){var e=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.is_point=1,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderPaymentData.shop_goods_list.invoice&&(this.orderPaymentData.shop_goods_list.invoice.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type.split(","),this.orderCreateData.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type[0]);var t=this.orderPaymentData;if(t.recommend_member_card&&(this.orderCreateData.member_card_unit=Object.keys(t.recommend_member_card.charge_rule)[0]),void 0!=t.shop_goods_list.express_type&&void 0!=t.shop_goods_list.express_type[0]){var i=t.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var o=uni.getStorageSync("delivery");if(o){var a=o.name,r=o.title;"store"==a&&(t.shop_goods_list.express_type.forEach((function(t){"store"==t.name&&e.storeSelected(t)})),this.member_address={mobile:""!=t.member_account.mobile?t.member_account.mobile:""})}else{a=i[0].name;"store"==a&&(this.member_address={mobile:""!=t.member_account.mobile?t.member_account.mobile:""});r=i[0].title}this.orderCreateData.delivery.delivery_type=a,this.orderCreateData.delivery.delivery_type_name=r,"store"==i[0].name&&this.storeSelected(i[0])}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""!=t.member_account.mobile?t.member_account.mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var n=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;n.length&&(this.orderCreateData.invoice_content=n[0])}if(0==this.orderPaymentData.is_virtual)if(this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,0==this.orderPaymentData.shop_goods_list.local_config.info.time_type)this.deliveryWeek="全天";else if(this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0){this.timeInfo.showTime=!0;for(var s=this.orderPaymentData.shop_goods_list.local_config.info.time_week,d=!1,c=0;c<s.length;c++)if(c+1<s.length){var l=s[c+1]-s[c];if(l>1){d=!0;break}}var p=["周日","周一","周二","周三","周四","周五","周六"];if(d){var f=[];for(c=0;c<s.length;c++)f.push(p[s[c]]);this.deliveryWeek=f.join("、")}else this.deliveryWeek=p[s[0]]+"至"+p[s[s.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var u=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==u.length&&(u="0"+u),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=u+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var b=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(b);var g=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),h=g.getHours(),y=g.getMinutes(),_=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),x=parseInt(this.timeInfo.end_time.split(":")[0]),k=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(_==x&&w==k||((h<_||h==_&&y<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==_.toString().length?"0"+_:_)+":"+(1==w.toString().length?"0"+w:w)),(h>x||h==x&&y>k)&&(this.canLocalDelicery=!1)))}else this.deliveryWeek="店铺未开启配送时间";t.system_form&&(this.orderPaymentData.system_form=t.system_form),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]}))},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},dingdna:function(){var e=this;this.orderCreateData.giftcard_id=this.giftcard_id,this.$api.sendRequest({url:"/giftcard/api/giftcard/payment",data:this.orderCreateData,success:function(t){t.code>=0?(e.post_free=t.data.shop_goods_list.promotion,e.orderPaymentData=t.data,e.orderPaymentData.timestamp=t.timestamp,e.handlePaymentData(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()):(e.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if("店铺未开启配送时间"==this.deliveryWeek)return this.$util.showToast({title:"店铺未设置配送时间"}),!1;if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=r||a!=n){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),a=parseInt(this.timeInfo.start_time.split(":")[1]),r=parseInt(this.timeInfo.end_time.split(":")[0]),n=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<a)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<r||t==o&&i>a||t==o&&i>=a&&t<r))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var s=!0;for(var d in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[d])){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[d].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[d].delivery_type&&0==this.orderCreateData.delivery[d].store_id){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[d].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!s)return!1}if(this.orderPaymentData.system_form){var c=this.$refs.form.verify();if(!c)return!1}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){uni.setStorageSync("delivery",{title:e.title,name:e.name}),this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,"store"==e.name&&(this.storeSelected(e),this.member_address.mobile||(this.member_address.mobile=""!=this.orderPaymentData.member_account.mobile?this.orderPaymentData.member_account.mobile:"")),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},storeSelected:function(e){if(this.storeInfo.storeList=e.store_list,!(this.orderCreateData.delivery.store_id>0)){var t=uni.getStorageSync("store");t&&e.store_id==t.store_id?(this.storeInfo.currStore=t,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=e.store_list[0]?(this.storeInfo.currStore=e.store_list[0],this.orderCreateData.delivery.store_id=e.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},popupConfirm:function(e){this.$forceUpdate(),this.tempData=null,this.$refs[e].close()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(e,t){var i=this;this.orderCreateData.giftcard_id=e,this.orderCreateData.id=t,this.orderCreateData.delivery=JSON.stringify(this.orderCreateData.delivery),this.verify()&&uni.showModal({title:"提示",content:"确定要使用该礼品卡吗",success:function(e){e.confirm&&i.$api.sendRequest({url:"/giftcard/api/giftcard/use",data:i.orderCreateData,success:function(e){i.$util.showToast({title:e.message}),setTimeout((function(){i.$util.redirectTo("/promotionpages/giftcard/my_giftcard/my_giftcard")}),1e3)}})}})},subscribeMessage:function(){var t="ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY";this.orderCreateData.delivery&&"store"==this.orderCreateData.delivery.delivery_type&&(t="ORDER_PAY,ORDER_TAKE_DELIVERY"),this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:t},success:function(t){t.data.length&&uni.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(t){e.log("fail",t)}})}})}},onShow:function(){this.$langConfig.refresh(),uni.getStorageSync("addressBack")&&uni.removeStorageSync("addressBack"),uni.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/otherpages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=o}).call(this,i("5a52")["default"])},bd86:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */[data-v-03875c7c] .uni-popup__wrapper.uni-custom .uni-popup__wrapper-box{background:none;max-height:unset!important;overflow-y:hidden!important}[data-v-03875c7c] .uni-popup__wrapper{border-radius:%?20?% %?20?% 0 0}[data-v-03875c7c] .uni-popup{z-index:8}.order-container .promotion-text[data-v-03875c7c]{padding:%?8?% %?12?%;min-width:%?76?%;line-height:%?22?%;font-size:10px}.order-container .order-cell .promotion-content[data-v-03875c7c]{margin-left:%?10?%;max-width:%?540?%;font-size:10px;line-height:%?35?%;margin-bottom:%?10?%}.order-container .order-cell .promotion-content .tit[data-v-03875c7c]{font-size:12px}.goods-info .introduction[data-v-03875c7c]{color:grey;word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;\r\n  /* 这里是超出几行省略 */overflow:hidden}.goods-info .goods-sub-section > uni-view[data-v-03875c7c]{text-align:left!important}',""]),e.exports=t},c597:function(e,t,i){"use strict";i.r(t);var o=i("0914"),a=i("0363");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("3d62"),i("9a19");var n,s=i("f0c5"),d=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"03875c7c",null,!1,o["a"],n);t["default"]=d.exports},c9cf:function(e,t,i){var o=i("0d4e");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("4f06").default;a("5c377875",o,!0,{sourceMap:!1,shadowMode:!1})},f9512:function(e,t,i){"use strict";var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(i("a396")),r=o(i("d7b6")),n=o(i("b6ac")),s=o(i("f3d6")),d=o(i("fa8d")),c=o(i("5b77")),l={data:function(){return{id:"",giftcard_id:""}},components:{uniPopup:r.default,nsSwitch:s.default,nsPayment:d.default,nsForm:c.default},mixins:[a.default,n.default],onLoad:function(e){this.id=e.id,this.giftcard_id=e.giftcard_id}};t.default=l}}]);
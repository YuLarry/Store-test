(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-giftcard-detail-detail"],{"16ee":function(i,a,t){"use strict";t.r(a);var n=t("ccb2"),o=t("2785");for(var c in o)"default"!==c&&function(i){t.d(a,i,(function(){return o[i]}))}(c);t("7a21");var d,e=t("f0c5"),s=Object(e["a"])(o["default"],n["b"],n["c"],!1,null,"725c9bd7",null,!1,n["a"],d);a["default"]=s.exports},2785:function(i,a,t){"use strict";t.r(a);var n=t("6e47"),o=t.n(n);for(var c in n)"default"!==c&&function(i){t.d(a,i,(function(){return n[i]}))}(c);a["default"]=o.a},"3ea1":function(i,a,t){var n=t("24fb");a=n(!1),a.push([i.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.hasuse-card-content[data-v-725c9bd7]{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.card-box[data-v-725c9bd7]{position:relative;border-radius:%?20?%}.card-box1[data-v-725c9bd7]{height:%?296?%}.card-box2[data-v-725c9bd7]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#efefef;opacity:.8;border-radius:%?20?%;z-index:200}.card-box3[data-v-725c9bd7]{position:absolute;width:85%;top:0;color:grey!important;z-index:300}.card-item[data-v-725c9bd7]{padding:%?54?% %?30?% %?34?% %?30?%;background:url(https://cs.b2c.niuteam.cn/upload/uniapp/giftcard/detail/index.png) no-repeat 0 0/100% 50%}.card-item .card-content[data-v-725c9bd7]{padding:%?30?% %?50?%;border-radius:%?20?%;-moz-background-size:100% 100%}.card-item .card-content .content-head[data-v-725c9bd7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?30?%}.card-item .card-content .content-head .card-name[data-v-725c9bd7]{font-size:%?48?%;color:#fff;overflow:hidden;max-height:%?160?%;width:85%}.card-item .card-content .content-head .use-orno[data-v-725c9bd7]{color:#fff}.card-item .card-content .card-use[data-v-725c9bd7]{color:#fff}.card-item .card-content .card-num[data-v-725c9bd7]{margin-top:%?20?%;line-height:%?20?%;color:#fff}.card-item .card-content .card-id[data-v-725c9bd7]{margin-top:%?40?%;color:#fff}.card-info[data-v-725c9bd7]{padding:%?15?% %?30?%;margin:%?10?% %?30?%;background:#fff;border-radius:%?10?%}.card-info .info[data-v-725c9bd7]{padding:%?20?% 0;border-bottom:%?1?% solid #f5f5f5}.card-info .aaa span[data-v-725c9bd7]{margin-left:%?30?%}.card-info .bbb span[data-v-725c9bd7]{margin-left:%?82?%}.card-info .ccc span[data-v-725c9bd7]{margin-left:%?52?%}.card-info2[data-v-725c9bd7]{padding:%?15?% %?30?%;margin:%?20?% %?30?%;background:#fff;border-radius:%?10?%}.card-info2 .info[data-v-725c9bd7]{padding:%?20?% 0;border-bottom:%?1?% solid #f5f5f5}.card-info2 .info3 span[data-v-725c9bd7]{margin-left:%?80?%}.card-info2 span[data-v-725c9bd7]{margin-left:%?52?%}.bottom[data-v-725c9bd7]{position:fixed;bottom:%?0?%;width:%?800?%;height:%?130?%;display:-webkit-box;display:-webkit-flex;display:flex;background:#fff;padding:0 %?20?% 0 %?300?%}.bottom .bottom-left[data-v-725c9bd7]{margin:%?30?% %?20?% %?30?% 0}.bottom .bottom-left uni-button[data-v-725c9bd7]{background:#fff;color:#000;border:%?1?% solid #d9d9d9;border-radius:%?50?%;width:%?200?%;height:%?70?%;line-height:%?70?%}.bottom .bottom-right[data-v-725c9bd7]{margin:%?30?% 0}.bottom .bottom-right uni-button[data-v-725c9bd7]{width:%?200?%;height:%?70?%;line-height:%?70?%}.giftcard-goods[data-v-725c9bd7]{margin:%?20?% %?30?%}.giftcard-goods .giftcard-goods-list[data-v-725c9bd7]{padding-bottom:%?120?%}.giftcard-goods .giftcard-goods-item[data-v-725c9bd7]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?20?% 0;background-color:#fff;padding:%?26?%;border-radius:%?10?%}.giftcard-goods .giftcard-goods-item uni-image[data-v-725c9bd7]{height:%?200?%;width:%?200?%;margin-right:%?20?%}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap[data-v-725c9bd7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .info-title[data-v-725c9bd7]{word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\r\n  /* 这里是超出几行省略 */overflow:hidden}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .info-stock[data-v-725c9bd7]{font-size:%?24?%}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .price[data-v-725c9bd7], .giftcard-goods .giftcard-goods-item .giftcard-info-wrap .unit[data-v-725c9bd7]{display:inline-block}.giftcard-goods .giftcard-goods-item .giftcard-info-wrap .price[data-v-725c9bd7]{font-size:%?32?%;font-weight:700}',""]),i.exports=a},"6e47":function(i,a,t){"use strict";var n=t("4ea4");t("4160"),t("d3b7"),t("ac1f"),t("1276"),t("159b"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(t("d7b6")),c={components:{uniPopup:o.default},data:function(){return{cardinfo:{},id:"",stort_type:!1}},onLoad:function(i){var a=i.id;this.getData(a),this.id=i.id},onShow:function(){this.$langConfig.refresh()},methods:{goodsImg:function(i){var a=i.split(",");return a[0]?this.$util.img(a[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},getData:function(i){var a=this;this.$api.sendRequest({url:"/giftcard/api/giftcard/giftcardinfo",data:{id:i},success:function(i){0==i.code&&i.data?(a.cardinfo=i.data,a.cardinfo.goods_list.length>0&&a.cardinfo.goods_list.forEach((function(i){0==i.stock&&(a.stort_type=!0)})),a.$refs.loadingCover&&a.$refs.loadingCover.hide()):a.$refs.loadingCover&&a.$refs.loadingCover.hide()},fail:function(i){}})},gotopresent:function(i){this.$util.redirectTo("/promotionpages/giftcard/present/present",{id:i})},openusepopup:function(i,a,t){var n=this;if(this.stort_type)return this.$util.showToast({title:"有商品暂无库存"}),!1;var o=this;if(this.cardinfo.goods_list.length>0){var c=[];t.goods_list.forEach((function(i){c.push(i.sku_id)})),uni.setStorage({key:"orderCreateData",data:{sku_id:c.toString(),num:1},success:function(){n.$util.redirectTo("/promotionpages/giftcard/payment/payment",{giftcard_id:i,id:a})}})}else uni.showModal({title:"提示",content:"确定要使用该礼品卡吗",success:function(t){t.confirm&&n.$api.sendRequest({url:"/giftcard/api/giftcard/use",data:{id:a,giftcard_id:i},success:function(i){o.$util.showToast({title:i.message}),n.$router.go(0)}})}})}}};a.default=c},"7a21":function(i,a,t){"use strict";var n=t("cfc4"),o=t.n(n);o.a},ccb2:function(i,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return n}));var n={loadingCover:t("4c1d").default},o=function(){var i=this,a=i.$createElement,t=i._self._c||a;return t("v-uni-view",[t("v-uni-view",{staticClass:"card-item margin-bottom"},[0==i.cardinfo.elect_status?t("v-uni-view",{},[t("v-uni-view",{staticClass:"card-content",style:{background:i.cardinfo.card_cover?"url("+i.$util.img(i.cardinfo.card_cover)+") no-repeat 0 0/100% 100%":"url(https://cs.b2c.niuteam.cn/upload/uniapp/giftcard/detail/gitcard_default3.png) no-repeat 0 0/100% 100%"}},[t("v-uni-view",{staticClass:"content-head"},[t("v-uni-view",{staticClass:"card-name"},[i._v(i._s(i.cardinfo.card_name))]),0==i.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[i._v("待使用")]):1==i.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[i._v("已使用")]):2==i.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[i._v("已过期")]):i._e()],1),t("v-uni-view",{staticClass:"card-use"},[i._v("礼品卡权益")]),i.cardinfo.balance>0&&i.cardinfo.point>0?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance)+"+"+i._s(i.cardinfo.point)+"积分+商品*"+i._s(i.cardinfo.goods_num))]):i.cardinfo.balance>0&&0==i.cardinfo.point?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance))]):0==i.cardinfo.balance&&i.cardinfo.point>0?t("v-uni-view",{staticClass:"card-num"},[i._v(i._s(i.cardinfo.point)+" 积分")]):0==i.cardinfo.balance&&0==i.cardinfo.point&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[i._v("商品*"+i._s(i.cardinfo.goods_num))]):i.cardinfo.balance>0&&i.cardinfo.point>0&&0==i.cardinfo.goods_num?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance)+"+"+i._s(i.cardinfo.point)+"积分")]):i.cardinfo.balance>0&&0==i.cardinfo.point&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance)+"+商品*"+i._s(i.cardinfo.goods_num))]):0==i.cardinfo.balance&&i.cardinfo.point>0&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[i._v(i._s(i.cardinfo.point)+"积分+商品*"+i._s(i.cardinfo.goods_num))]):i._e(),t("v-uni-view",{staticClass:"card-id"},[i._v("NO."+i._s(i.cardinfo.number))])],1)],1):t("v-uni-view",{staticClass:"card-box"},[t("v-uni-view",{staticClass:"card-content hasuse-card-content card-box1",style:{background:i.cardinfo.card_cover?"url("+i.$util.img(i.cardinfo.card_cover)+") no-repeat 0 0/100% 100%":"url(https://cs.b2c.niuteam.cn/upload/uniapp/giftcard/detail/gitcard_default3.png) no-repeat 0 0/100% 100%"}}),t("v-uni-view",{staticClass:"card-box2"}),t("v-uni-view",{staticClass:"card-content card-box3"},[t("v-uni-view",{staticClass:"content-head"},[t("v-uni-view",{staticClass:"card-name"},[i._v(i._s(i.cardinfo.card_name))]),0==i.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[i._v("待使用")]):1==i.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[i._v("已使用")]):2==i.cardinfo.elect_status?t("v-uni-view",{staticClass:"use-orno"},[i._v("已过期")]):i._e()],1),t("v-uni-view",{staticClass:"card-use"},[i._v("礼品卡权益")]),i.cardinfo.balance>0&&i.cardinfo.point>0&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance)+"+"+i._s(i.cardinfo.point)+"积分+商品*"+i._s(i.cardinfo.goods_num))]):i.cardinfo.balance>0&&0==i.cardinfo.point?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance))]):0==i.cardinfo.balance&&i.cardinfo.point>0?t("v-uni-view",{staticClass:"card-num"},[i._v(i._s(i.cardinfo.point)+" 积分")]):0==i.cardinfo.balance&&0==i.cardinfo.point&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[i._v("商品*"+i._s(i.cardinfo.goods_num))]):i.cardinfo.balance>0&&i.cardinfo.point>0&&0==i.cardinfo.goods_num?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance)+"+"+i._s(i.cardinfo.point)+"积分")]):i.cardinfo.balance>0&&0==i.cardinfo.point&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[i._v("￥"+i._s(i.cardinfo.balance)+"+商品*"+i._s(i.cardinfo.goods_num))]):0==i.cardinfo.balance&&i.cardinfo.point>0&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"card-num"},[i._v(i._s(i.cardinfo.point)+"积分+商品*"+i._s(i.cardinfo.goods_num))]):i._e(),t("v-uni-view",{staticClass:"card-id"},[i._v("NO."+i._s(i.cardinfo.number))])],1)],1)],1),t("v-uni-view",{staticClass:"card-info"},[t("v-uni-view",{staticClass:"info aaa"},[i._v("礼品卡编号："),t("span",[i._v(i._s(i.cardinfo.number))])]),t("v-uni-view",{staticClass:"info info1 aaa"},[i._v("礼品卡来源："),1==i.cardinfo.source_from?t("span",[i._v("购买电子卡")]):t("span",[i._v("他人赠送")])]),t("v-uni-view",{staticClass:"info bbb"},[i._v("持有人："),t("span",[i._v(i._s(i.cardinfo.member_name))])]),i.cardinfo.balance>0&&i.cardinfo.point>0&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[i._v("兑换权益："),t("span",[i._v("￥"+i._s(i.cardinfo.balance)+"+"+i._s(i.cardinfo.point)+"积分+商品*"+i._s(i.cardinfo.goods_num))])]):i.cardinfo.balance>0&&0==i.cardinfo.point?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[i._v("兑换权益："),t("span",[i._v("￥"+i._s(i.cardinfo.balance))])]):0==i.cardinfo.balance&&i.cardinfo.point>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[i._v("兑换权益："),t("span",[i._v(i._s(i.cardinfo.point)+" 积分")])]):0==i.cardinfo.balance&&0==i.cardinfo.point&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[i._v("兑换权益："),t("span",[i._v("商品*"+i._s(i.cardinfo.goods_num))])]):i.cardinfo.balance>0&&i.cardinfo.point>0&&0==i.cardinfo.goods_num?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[i._v("兑换权益："),t("span",[i._v("￥"+i._s(i.cardinfo.balance)+"+"+i._s(i.cardinfo.point)+"积分")])]):i.cardinfo.balance>0&&0==i.cardinfo.point&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[i._v("兑换权益："),t("span",[i._v("￥"+i._s(i.cardinfo.balance)+"+商品*"+i._s(i.cardinfo.goods_num))])]):0==i.cardinfo.balance&&i.cardinfo.point>0&&i.cardinfo.goods_num>0?t("v-uni-view",{staticClass:"info ccc",staticStyle:{border:"none"}},[i._v("兑换权益："),t("span",[i._v(i._s(i.cardinfo.point)+"积分+商品*"+i._s(i.cardinfo.goods_num))])]):i._e()],1),t("v-uni-view",{staticClass:"card-info2"},[t("v-uni-view",{staticClass:"info info2"},[i._v("获取时间："),t("span",[i._v(i._s(i.$util.timeStampTurnTime(i.cardinfo.create_time)))])]),t("v-uni-view",{staticClass:"info"},[i._v("使用时间："),0==i.cardinfo.use_time?t("span",[i._v("未使用")]):t("span",[i._v("已使用")])]),1==i.cardinfo.time_type?t("v-uni-view",{staticClass:"info",staticStyle:{border:"none"}},[i._v("过期时间："),t("span",[i._v("永久有效")])]):2==i.cardinfo.time_type?t("v-uni-view",{staticClass:"info",staticStyle:{border:"none"}},[i._v("过期时间："),t("span",[i._v("有效期至 "+i._s(this.$util.timeStampTurnTime(i.cardinfo.youxiao_time)))])]):t("v-uni-view",{staticClass:"info",staticStyle:{border:"none"}},[i._v("过期时间："),t("span",[i._v("有效期至 "+i._s(this.$util.timeStampTurnTime(i.cardinfo.create_time+24*i.cardinfo.youxiao_day*60*60)))])])],1),i.cardinfo.goods_list?t("v-uni-view",{staticClass:"giftcard-goods"},[t("v-uni-view",{staticClass:"giftcard-goods-list"},i._l(i.cardinfo.goods_list,(function(a,n){return t("v-uni-view",{key:n,staticClass:"giftcard-goods-item"},[t("v-uni-view",{staticClass:"giftcart-goods-img"},[t("v-uni-image",{attrs:{src:i.goodsImg(a.sku_image)}})],1),t("v-uni-view",{staticClass:"giftcard-info-wrap"},[t("v-uni-view",{staticClass:"info-title"},[i._v(i._s(a.sku_name))]),t("v-uni-view",{staticClass:"info-stock"},[i._v("库存:"+i._s(a.stock))]),t("v-uni-view",{staticClass:"info-price"},[t("v-uni-view",{staticClass:"unit color-base-text"},[i._v("￥")]),t("v-uni-view",{staticClass:"price color-base-text"},[i._v(i._s(a.price))])],1)],1)],1)})),1)],1):i._e(),0==i.cardinfo.elect_status?t("v-uni-view",{staticClass:"bottom"},[t("v-uni-view",{staticClass:"bottom-left"},[t("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){arguments[0]=a=i.$handleEvent(a),i.gotopresent(i.id)}}},[i._v("转赠他人")])],1),t("v-uni-view",{staticClass:"bottom-right"},[t("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){arguments[0]=a=i.$handleEvent(a),i.openusepopup(i.cardinfo.giftcard_id,i.id,i.cardinfo)}}},[i._v("立即使用")])],1)],1):i._e(),t("loading-cover",{ref:"loadingCover"})],1)},c=[]},cfc4:function(i,a,t){var n=t("3ea1");"string"===typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);var o=t("4f06").default;o("2ab1ae02",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_tool-member-level_growth_rules"],{"373b":function(e,t,i){"use strict";i.r(t);var a=i("9a15"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"84b0":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */uni-page-body[data-v-6e0937fa]{background-color:#fff}.grow-explain[data-v-6e0937fa]{padding:%?30?%;margin-top:%?30?%}.grow-explain .explain-title[data-v-6e0937fa]{display:flex;align-items:center;justify-content:center;line-height:1;margin-bottom:%?40?%}.grow-explain .explain-title uni-image[data-v-6e0937fa]{margin:0 %?20?%;width:%?54?%;height:%?18?%}.grow-explain .explain-tr[data-v-6e0937fa]{display:flex}.grow-explain .explain-th[data-v-6e0937fa]{padding:%?10?% %?30?%;flex:1;background-color:#f6f1e4}.grow-explain .explain-th ~ .explain-th[data-v-6e0937fa]{border-left:%?4?% solid #fff}.grow-explain .explain-td[data-v-6e0937fa]{padding:%?10?% %?30?%;height:%?60?%;line-height:%?60?%;flex:1;background-color:#fcfbf7}.grow-explain .explain-td ~ .explain-td[data-v-6e0937fa]{border-left:%?4?% solid #fff}.grow-value[data-v-6e0937fa],\r\n.acquisition-grow[data-v-6e0937fa]{padding:0 %?30?% %?30?%}.grow-value .title[data-v-6e0937fa],\r\n.acquisition-grow .title[data-v-6e0937fa]{display:flex;align-items:center}.grow-value .title uni-image[data-v-6e0937fa],\r\n.acquisition-grow .title uni-image[data-v-6e0937fa]{width:%?30?%;height:%?30?%;margin-right:%?10?%}.grow-value .content[data-v-6e0937fa],\r\n.acquisition-grow .content[data-v-6e0937fa]{font-size:%?24?%;margin-left:%?40?%}.grow-value .content uni-text[data-v-6e0937fa],\r\n.acquisition-grow .content uni-text[data-v-6e0937fa]{display:block}body.?%PAGE?%[data-v-6e0937fa]{background-color:#fff}',""]),e.exports=t},"9a15":function(e,t,i){"use strict";var a=i("4ea4");i("4160"),i("a9e3"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("2ace")),o=a(i("1aeb")),r=a(i("f385")),l={components:{nsProgress:n.default,toTop:o.default},mixins:[r.default],data:function(){return{curIndex:0,descIndex:0,isDescAnimating:!1,scaleX:(634/540).toFixed(4),scaleY:(378/330).toFixed(4),swiperConfig:{indicatorDots:!1,indicatorColor:"rgba(255, 255, 255, .4)",indicatorActiveColor:"rgba(255, 255, 255, 1)",interval:3e3,duration:300,circular:!1,previousMargin:"58rpx",nextMargin:"58rpx"},levelList:[{needGrowth:0,growth:0}],levelId:0,growth:0,nowIndex:0,userInfo:{},rule:[]}},computed:{listLen:function(){return this.levelList.length}},onLoad:function(){this.getLevelList(),this.getLevelRule()},onShow:function(){},filters:{rate:function(e,t,i){var a=Number(i),n=Number(t[e].growth);if(e==t.length-1)return a>n?100:0;var o=Number(t[e+1].growth),r=a-n,l=o-n,s=Math.floor(r/l*100);return s>100?100:s}},methods:{swiperChange:function(e){var t=this;this.curIndex=e.detail.current,this.isDescAnimating=!0;var i=setTimeout((function(){t.descIndex=e.detail.current,clearTimeout(i)}),150)},animationfinish:function(e){this.isDescAnimating=!1},getBannerDetail:function(e){uni.showLoading({title:"将前往详情页面",duration:2e3,mask:!0})},getLevelList:function(){var e=this;this.$api.sendRequest({url:"/api/memberlevel/lists",success:function(t){t.data&&0==t.code?(e.levelList=t.data,e.getMemberInfo()):(e.$util.showToast({title:t.message}),e.$refs.loadingCover&&e.$refs.loadingCover.hide())}})},getLevelRule:function(){var e=this;this.$api.sendRequest({url:"/api/member/accountrule",success:function(t){0==t.code&&t.data&&t.data.growth&&(e.rule=t.data.growth)}})},getMemberInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){t.data&&0==t.code?(e.levelId=t.data.member_level,e.growth=t.data.growth,e.userInfo=t.data,e.levelList.forEach((function(i,a){if(i.level_id==t.data.member_level)return e.curIndex=a,e.descIndex=a,void(e.nowIndex=a)})),e.levelList.forEach((function(t,i){var a=0;i!=e.levelList.length-1?(t.needGrowth=Number(e.levelList[i+1].growth)-Number(e.growth),a=t.needGrowth<=0?100:100*(e.growth/e.levelList[i+1].growth).toFixed(2)):(t.needGrowth=Number(e.levelList[i].growth)-Number(e.growth),a=t.needGrowth<=0?100:100*(e.growth/e.levelList[i].growth).toFixed(2)),t.rate=a})),e.levelList.forEach((function(e){e.consume_discount&&(e.consume_discount=(e.consume_discount/10).toFixed(2))}))):e.$util.showToast({title:t.message}),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})}}};t.default=l},a8b5:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={pageMeta:i("6d42").default,loadingCover:i("790a").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"page-style":e.themeColor}}),i("v-uni-view",{staticClass:"member-level"},[i("v-uni-view",{staticClass:"grow-explain"},[i("v-uni-view",{staticClass:"explain-title"},[i("v-uni-image",{attrs:{src:e.$util.img("public/uniapp/level/growth_that_left.png"),mode:"aspectFit"}}),e._v("成长值说明"),i("v-uni-image",{attrs:{src:e.$util.img("public/uniapp/level/growth_that_right.png"),mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"explain-table"},[i("v-uni-view",{staticClass:"explain-tr"},[i("v-uni-text",{staticClass:"explain-th"},[e._v("等级")]),i("v-uni-text",{staticClass:"explain-th"},[e._v("成长值")])],1),e._l(e.levelList,(function(t,a){return i("v-uni-view",{key:a,staticClass:"explain-tr"},[i("v-uni-text",{staticClass:"explain-td"},[e._v(e._s(t.level_name))]),i("v-uni-text",{staticClass:"explain-td"},[e._v(e._s(t.growth))])],1)}))],2)],1),i("v-uni-view",{staticClass:"grow-value"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-image",{attrs:{src:e.$util.img("public/uniapp/level/explain.png"),mode:"aspectFit"}}),i("v-uni-text",[e._v("什么是成长值")])],1),i("v-uni-view",{staticClass:"content color-tip"},[e._v("成长值是消费者在店铺成为会员后，通过消费计算出来的值。成长值决定会员等级，会员等级越高，所享受的会员权益和会员礼包就越多。")])],1),i("v-uni-view",{staticClass:"acquisition-grow"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-image",{attrs:{src:e.$util.img("public/uniapp/level/explain.png"),mode:"aspectFit"}}),i("v-uni-text",[e._v("如何获得成长值")])],1),i("v-uni-view",{staticClass:"content color-tip"},[i("v-uni-text",[e._v("1、注册会员送x成长值。")]),i("v-uni-text",[e._v("2、会员充值到余额送x成长值。")]),i("v-uni-text",[e._v("3、会员签到送x成长值。")]),i("v-uni-text",[e._v("4、会员消费x元，交易完成即可获得x个成长值。")])],1)],1),e.showTop?i("to-top",{on:{toTop:function(t){arguments[0]=t=e.$handleEvent(t),e.scrollToTopNative()}}}):e._e(),i("loading-cover",{ref:"loadingCover"})],1)],1)},o=[]},d4da:function(e,t,i){var a=i("84b0");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("2728d25c",a,!0,{sourceMap:!1,shadowMode:!1})},df25:function(e,t,i){"use strict";i.r(t);var a=i("a8b5"),n=i("373b");for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("f6ff");var r,l=i("f0c5"),s=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"6e0937fa",null,!1,a["a"],r);t["default"]=s.exports},f6ff:function(e,t,i){"use strict";var a=i("d4da"),n=i.n(a);n.a}}]);
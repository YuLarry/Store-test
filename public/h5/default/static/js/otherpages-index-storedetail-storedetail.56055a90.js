(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-index-storedetail-storedetail"],{"2c59":function(t,e,i){"use strict";var o=i("e697"),a=i.n(o);a.a},"3a34":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".wap-floating[data-v-b072f702] .uni-popup__wrapper.uni-custom .uni-popup__wrapper-box{background:none!important}[data-v-b072f702] .placeholder{height:0}",""]),t.exports=e},"6c33":function(t,e,i){"use strict";var o=i("4ea4");i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("b3c1")),n=o(i("d7b6")),r=o(i("4f50")),d=o(i("b6ac")),l=o(i("c6b4")),s=o(i("b5d2")),u=(i("319c"),{components:{uniPopup:n.default,diyBottomNav:r.default,diyIndexPage:l.default,diyGroup:s.default,nsNavbar:a.default},data:function(){return{diyData:{global:{title:"",popWindow:{imageUrl:"",count:-1,link:{}}}},navTitle:"",siteInfo:null,memberId:0,name:"",storeId:0,latitude:null,longitude:null,storeList:[],showStore:!0,pageHeight:"0",headerHeight:"0",bottomHeight:"0",topIndexValue:null}},computed:{bgColor:function(){var t="";return this.diyData&&this.diyData.global&&(t=this.diyData.global.bgColor),t},bgUrl:function(){var t="";return this.diyData&&this.diyData.global&&(t=this.diyData.global.bgUrl),t},openBottomNav:function(){var t=!1;return this.diyData&&this.diyData.global&&(t=this.diyData.global.openBottomNav),t},scrollHeight:function(){return void 0!=this.pageHeight&&void 0!=this.headerHeight&&void 0!=this.bottomHeight?"calc("+this.pageHeight+" - "+this.headerHeight+" - "+this.bottomHeight+")":"100vh"},minHeight:function(){return void 0!=this.pageHeight&&void 0!=this.headerHeight&&void 0!=this.bottomHeight?"calc(100vh - "+this.headerHeight+" - "+this.bottomHeight+" - 80rpx)":"100vh"},scrollTopHeight:function(){return void 0!=this.pageHeight&&void 0!=this.headerHeight&&void 0!=this.bottomHeight?"calc("+this.pageHeight+" - "+this.headerHeight+" - "+this.bottomHeight+" - 80rpx)":"100vh"}},onLoad:function(t){if(t.store_id){this.storeId=t.store_id;var e=this.$util.getLocation();e&&(this.latitude=e.latitude,this.longitude=e.longitude),this.name="DIY_STORE_"+this.storeId,this.getHeight(),this.refresh()}else this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},onShow:function(){this.$langConfig.refresh(),uni.getStorageSync("token")&&this.getMemberId()},mixins:[d.default],methods:{getHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.pageHeight=e.windowHeight+"px"}}),this.$nextTick((function(){var e=uni.createSelectorQuery().in(t);e.select(".page-header").boundingClientRect((function(e){t.headerHeight=e.height+"px"})).exec()})),this.$nextTick((function(){var e=uni.createSelectorQuery().in(t);e.select(".page-bottom").boundingClientRect((function(e){t.bottomHeight="56px"})).exec()}))},getDiyInfo:function(){var t=this;this.$api.sendRequest({url:"/api/diyview/info",data:{name:this.name},success:function(e){if(0==e.code&&e.data){var i=e.data;if(i.value){t.diyData=JSON.parse(i.value),t.navTitle=t.diyData.global.title,t.diyData.global.popWindow&&-1!=t.diyData.global.popWindow.count&&t.diyData.global.popWindow.imageUrl&&setTimeout((function(){if(1==t.diyData.global.popWindow.count){var e=uni.getStorageSync("store_popwindow_count");""!=e&&1!=e||(t.$refs.uniPopupWindow.open(),uni.setStorageSync("store_popwindow_count",1))}else 0==t.diyData.global.popWindow.count&&(t.$refs.uniPopupWindow.open(),uni.setStorageSync("store_popwindow_count",0))}),500);for(var o=0;o<t.diyData.value.length;o++)"TopCategory"==t.diyData.value[o].controller&&(t.topIndexValue=t.diyData.value[o])}uni.stopPullDownRefresh(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}else t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},closePopupWindow:function(){this.$refs.uniPopupWindow.close(),uni.setStorageSync("store_popwindow_count",-1)},refresh:function(){this.getDiyInfo()},redirectTo:function(t){this.$util.diyRedirectTo(t)},getMemberId:function(){var t=this;this.$api.sendRequest({url:"/api/member/id",success:function(e){e.code>=0&&(t.memberId=e.data)}})}}});e.default=u},"8a85":function(t,e,i){"use strict";i.r(e);var o=i("f35f"),a=i("c8d0");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("2c59"),i("e3c7");var r,d=i("f0c5"),l=Object(d["a"])(a["default"],o["b"],o["c"],!1,null,"b072f702",null,!1,o["a"],r);e["default"]=l.exports},a1ea:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.diy-wrap[data-v-b072f702]{height:calc(100vh - 56px)}.bg-index[data-v-b072f702]{width:100%;height:100%;padding:0 %?30?%;box-sizing:border-box}.uni-popup__wrapper-box[data-v-b072f702]{text-align:center;overflow:initial!important;background:none!important;vertical-align:middle;background:none}.wap-floating .image-wrap[data-v-b072f702]{width:%?480?%}.wap-floating .image-wrap uni-image[data-v-b072f702]{width:100%;border-radius:%?40?%}.wap-floating uni-text[data-v-b072f702]{display:block;font-size:%?60?%;color:#fff;text-align:center}[data-v-b072f702]::-webkit-scrollbar{width:0;height:0;color:transparent}',""]),t.exports=e},ab52:function(t,e,i){var o=i("3a34");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("250bb24b",o,!0,{sourceMap:!1,shadowMode:!1})},c8d0:function(t,e,i){"use strict";i.r(e);var o=i("6c33"),a=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},e3c7:function(t,e,i){"use strict";var o=i("ab52"),a=i.n(o);a.a},e697:function(t,e,i){var o=i("a1ea");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("a2787bc0",o,!0,{sourceMap:!1,shadowMode:!1})},f35f:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));var o={diyIndexPage:i("c6b4").default,diyGroup:i("b5d2").default,uniPopup:i("d7b6").default,loadingCover:i("4c1d").default,diyBottomNav:i("4f50").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-scroll-view",{staticClass:"diy-wrap",style:{background:t.bgColor},attrs:{"scroll-y":!0,"data-theme":t.themeStyle}},[t.topIndexValue?i("diy-index-page",{attrs:{value:t.topIndexValue,minHeight:t.minHeight,scrollHeight:t.scrollHeight,scrollTopHeight:t.scrollTopHeight,bgUrl:t.bgUrl}},[i("diy-group",{attrs:{diyData:t.diyData,storeId:t.storeId,height:t.scrollTopHeight}})],1):i("v-uni-scroll-view",{style:{height:"calc(100vh - headerHeight - 55px)"},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"bg-index",style:"background:url("+t.$util.img(t.bgUrl)+") no-repeat 0 0/100%"},[i("diy-group",{attrs:{diyData:t.diyData,storeId:t.storeId}})],1)],1),t.diyData.global.popWindow&&-1!=t.diyData.global.popWindow.count&&t.diyData.global.popWindow.imageUrl?[i("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"uniPopupWindow",staticClass:"wap-floating",attrs:{type:"center",maskClick:!1}},[i("v-uni-view",{staticClass:"image-wrap"},[i("v-uni-image",{attrs:{src:t.$util.img(t.diyData.global.popWindow.imageUrl),mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.redirectTo(t.diyData.global.popWindow.link)}}})],1),i("v-uni-text",{staticClass:"iconfont iconroundclose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopupWindow.apply(void 0,arguments)}}})],1)],1)]:t._e(),i("loading-cover",{ref:"loadingCover"}),t.openBottomNav?i("v-uni-view",{staticClass:"page-bottom"},[i("diy-bottom-nav")],1):t._e()],2)},n=[]}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-blindBox-fillAddress-fillAddress"],{"1f95":function(e,t,i){"use strict";var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(i("245b")),r=o(i("8d9a")),n={mixins:[r.default,a.default],data:function(){return{check:!1,allcheck:!1,blindbox_goods_id:"",outTradeNo:"",goodsInfo:{},isSub:!1}},onLoad:function(e){this.outTradeNo=e.out_trade_no,this.blindbox_goods_id=e.blindbox_goods_id,this.getgoods()},methods:{getgoods:function(){var e=this;this.$api.sendRequest({url:"/blindbox/api/order/boxDetail",data:{out_trade_no:this.outTradeNo},success:function(t){t.code>=0?e.goodsInfo=t.data:e.$util.showToast({title:t.message})}})},get:function(){var e=this;if(this.verify()){if(this.isSub)return;this.isSub=!0;var t=this.$util.deepClone(this.orderCreateData);if(t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.orderPaymentData.system_form){var i={form_id:this.orderPaymentData.system_form.id,form_data:this.$util.deepClone(this.$refs.form.verify())};t.form_data=JSON.stringify(i)}t.blindbox_goods_id=this.blindbox_goods_id,t.out_trade_no=this.outTradeNo,t.sku_id=this.sku_id,this.$api.sendRequest({url:"/blindbox/api/order/create",data:t,success:function(t){t.code>=0?(e.$util.showToast({title:"提交成功"}),setTimeout((function(){e.$util.redirectTo("/pages/order/list/list",{order_id:t.data})}),2e3),e.isSub=!1):(e.isSub=!1,e.$util.showToast({title:t.message}))},fail:function(t){e.isSub=!1,e.$util.showToast({title:"request:fail"})}})}},checked:function(e){this.check=!this.check},checkBlind:function(){this.$refs.checkpopup.open()},closePopup:function(){this.$refs.checkpopup.close()}}};t.default=n},"43a6":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return o}));var o={uniPopup:i("2d2c").default,loadingCover:i("b1ae").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"fill-box",attrs:{"data-theme":e.themeStyle}},[i("v-uni-view",{staticClass:"blind-good"},[i("v-uni-view",{staticClass:"goods-img"},[""!=e.goodsInfo.sku_image?i("v-uni-image",{attrs:{src:e.$util.img(e.goodsInfo.sku_image),mode:"aspectFit"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.boxImg()}}}):i("v-uni-image",{attrs:{src:e.$util.img("upload/uniapp/blindBox/default.png")}})],1),i("v-uni-view",{staticClass:"goods-right"},[i("v-uni-view",{staticClass:"goods-title font-size-base"},[e._v(e._s(e.goodsInfo.sku_name))]),i("v-uni-view",{staticClass:"color-tip font-size-tag good-time"},[e._v(e._s(e.$util.timeStampTurnTime(e.goodsInfo.end_time)))])],1)],1),e.orderPaymentData.shop_goods_list.express_type.length>1&&0==e.goodsInfo.is_virtual?i("v-uni-view",{staticClass:"send-mode"},[i("v-uni-view",{staticClass:"mode"},[i("v-uni-text",[e._v("配送方式")])],1),i("v-uni-view",{staticClass:"mode-btn"},e._l(e.orderPaymentData.shop_goods_list.express_type,(function(t,o){return i("v-uni-button",{key:o,attrs:{type:t.name==e.orderPaymentData.delivery.delivery_type?"primary":"default",size:"mini"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectDeliveryType(t)}}},[e._v(e._s(t.title))])})),1)],1):e._e(),"store"!=e.orderPaymentData.delivery.delivery_type&&0==e.goodsInfo.is_virtual?i("v-uni-view",{staticClass:"address-box"},[e.orderPaymentData.member_address?i("v-uni-view",{staticClass:"info-wrap",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"icon-wrap"},[i("v-uni-text",{staticClass:"iconfont icondizhi"})],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"name font-size-base"},[e._v(e._s(e.orderPaymentData.member_address.name?e.orderPaymentData.member_address.name:""))]),i("v-uni-text",{staticClass:"font-size-base"},[e._v(e._s(e.orderPaymentData.member_address.mobile?e.orderPaymentData.member_address.mobile:""))]),i("v-uni-text",{staticClass:"cell-more iconfont iconright"}),i("v-uni-view",{staticClass:"desc-wrap"},[e._v(e._s(e.orderPaymentData.member_address.full_address?e.orderPaymentData.member_address.full_address:"")+"\n\t\t\t\t\t"+e._s(e.orderPaymentData.member_address.address?e.orderPaymentData.member_address.address:""))])],1)],1):i("v-uni-view",{staticClass:"empty-wrap",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"icon-wrap"},[i("v-uni-view",{staticClass:"iconfont icondizhi empty"})],1),i("v-uni-view",{staticClass:"info"},[e._v("请设置收货地址")]),i("v-uni-view",{staticClass:"cell-more"},[i("v-uni-view",{staticClass:"iconfont iconright"})],1)],1),"local"==e.orderPaymentData.delivery.delivery_type?i("v-uni-view",{staticClass:"local-box"},[i("v-uni-view",{staticClass:"order-cell"},[i("v-uni-text",{staticClass:"tit"},[e._v("配送时间")]),i("v-uni-view",{staticClass:"box"},[e.timeInfo.showTime?i("v-uni-text",[e._v(e._s(e.timeInfo.start_time+"-"+e.timeInfo.end_time))]):e._e(),e.deliveryWeek?i("v-uni-text",[e.timeInfo.showTime?[e._v("（")]:e._e(),e._v(e._s(e.deliveryWeek)),e.timeInfo.showTime?[e._v("）")]:e._e()],2):e._e(),e.canLocalDelicery?e._e():i("v-uni-text",[e._v("（休息中）")])],1)],1),e.timeInfo.showTimeBar&&e.orderPaymentData.member_address&&e.canLocalDelicery?i("v-uni-picker",{attrs:{value:e.orderCreateData.buyer_ask_delivery_time,mode:"time"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTimeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"pick-block"},[i("v-uni-view",{staticClass:"font-size-base"},[e._v("送达时间")]),i("v-uni-view",{staticClass:"time-picker"},[i("v-uni-text",[e._v(e._s(e.orderCreateData.buyer_ask_delivery_time))]),i("v-uni-text",{staticClass:"iconfont iconright cell-more"})],1)],1)],1):e._e()],1):e._e()],1):e._e(),"store"==e.orderPaymentData.delivery.delivery_type&&0==e.goodsInfo.is_virtual?i("v-uni-view",{staticClass:"store-box"},[e.storeInfo.currStore?i("v-uni-view",{staticClass:"store-info",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openSiteDelivery.apply(void 0,arguments)}}},[e.storeInfo.currStore.store_image?i("v-uni-view",{staticClass:"icon img"},[e.storeInfo.currStore.store_image?i("v-uni-image",{attrs:{src:e.$util.img(e.storeInfo.currStore.store_image),mode:"aspectFill"}}):e._e()],1):i("v-uni-view",{staticClass:"icon"},[i("v-uni-view",{staticClass:"iconfont iconmendian"})],1),i("v-uni-view",{staticClass:"info-wrap"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",[e._v(e._s(e.storeInfo.currStore.store_name))]),i("v-uni-view",{staticClass:"cell-more iconfont iconright"})],1),i("v-uni-view",{staticClass:"store-detail"},[e.storeInfo.currStore.open_date?i("v-uni-view",[e._v("营业时间："+e._s(e.storeInfo.currStore.open_date))]):e._e(),i("v-uni-view",[e._v("地址："+e._s(e.storeInfo.currStore.full_address)+" "+e._s(e.storeInfo.currStore.address))])],1)],1)],1):i("v-uni-view",{staticClass:"empty"},[e._v("当前无自提门店，请选择其它配送方式")])],1):e._e(),"store"==e.orderPaymentData.delivery.delivery_type&&e.storeInfo.currStore&&0==e.goodsInfo.is_virtual?i("v-uni-view",{staticClass:"mobile-wrap"},[i("v-uni-view",{staticClass:"form-group"},[i("v-uni-text",{staticClass:"require"},[e._v("*")]),i("v-uni-text",{staticClass:"text"},[e._v("预留手机")]),i("v-uni-input",{staticClass:"input font-size-base",attrs:{type:"number",maxlength:"11",placeholder:"请输入您的手机号码","placeholder-class":"color-tip placeholder"},model:{value:e.member_address.mobile,callback:function(t){e.$set(e.member_address,"mobile",t)},expression:"member_address.mobile"}})],1)],1):e._e(),1==e.goodsInfo.is_virtual?i("v-uni-view",{staticClass:"mobile-wrap"},[i("v-uni-view",{staticClass:"tips color-base-text"},[e._v("购买虚拟类商品需填写手机号，方便商家与您联系")]),i("v-uni-view",{staticClass:"form-group"},[i("v-uni-text",{staticClass:"iconfont icondianhua2"}),i("v-uni-text",{staticClass:"text"},[e._v("手机号码")]),i("v-uni-input",{staticClass:"input",attrs:{type:"number",maxlength:"11",placeholder:"请输入您的手机号码","placeholder-class":"color-tip placeholder"},model:{value:e.member_address.mobile,callback:function(t){e.$set(e.member_address,"mobile",t)},expression:"member_address.mobile"}})],1)],1):e._e(),i("v-uni-view",{staticClass:"primary"},[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.get()}}},[e._v("确定")])],1),i("uni-popup",{ref:"deliveryPopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"delivery-popup popup"},[i("v-uni-view",{staticClass:"popup-header"},[i("v-uni-text",{staticClass:"tit"},[e._v("已为您甄选出附近所有相关门店")]),i("v-uni-text",{staticClass:"iconfont iconclose",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closePopup("deliveryPopup")}}})],1),i("v-uni-view",{staticClass:"popup-body store-popup",class:{"safe-area":e.isIphoneX}},[i("v-uni-view",{staticClass:"delivery-content"},[e._l(e.storeInfo.storeList,(function(t,o){return i("v-uni-view",{key:o,staticClass:"item-wrap",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectPickupPoint(t)}}},[i("v-uni-view",{staticClass:"detail"},[i("v-uni-view",{staticClass:"name",class:t.store_id==e.orderPaymentData.delivery.store_id?"color-base-text":""},[i("v-uni-text",[e._v(e._s(t.store_name))]),t.distance?i("v-uni-text",[e._v("("+e._s(t.distance)+"km)")]):e._e()],1),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"font-size-goods-tag",class:t.store_id==e.orderPaymentData.delivery.store_id?"color-base-text":""},[e._v("营业时间："+e._s(t.open_date))]),i("v-uni-view",{staticClass:"font-size-goods-tag",class:t.store_id==e.orderPaymentData.delivery.store_id?"color-base-text":""},[e._v("地址："+e._s(t.full_address)+e._s(t.address))])],1)],1),t.store_id==e.orderPaymentData.delivery.store_id?i("v-uni-view",{staticClass:"icon"},[i("v-uni-text",{staticClass:"iconfont iconyuan_checked color-base-text"})],1):e._e()],1)})),e.storeInfo.storeList?e._e():i("v-uni-view",{staticClass:"empty"},[e._v("所选择收货地址附近没有可以自提的门店")])],2)],1)],1)],1),i("loading-cover",{ref:"loadingCover"})],1)},r=[]},"4ad7":function(e,t,i){"use strict";i.r(t);var o=i("43a6"),a=i("706f");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("7817"),i("6ac0");var n,s=i("f0c5"),d=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"008499c6",null,!1,o["a"],n);t["default"]=d.exports},"6ac0":function(e,t,i){"use strict";var o=i("cf64"),a=i.n(o);a.a},"706f":function(e,t,i){"use strict";i.r(t);var o=i("1f95"),a=i.n(o);for(var r in o)"default"!==r&&function(e){i.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},7817:function(e,t,i){"use strict";var o=i("cb79"),a=i.n(o);a.a},"83fc":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,"[data-v-008499c6] .uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box{overflow:unset}[data-v-008499c6] .check-popup .uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box{border-radius:%?20?%!important;max-width:84%!important}",""]),e.exports=t},"8d9a":function(e,t,i){"use strict";i("4160"),i("c975"),i("b64b"),i("d3b7"),i("acd8"),i("e25e"),i("ac1f"),i("25f0"),i("1276"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,is_point:1,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:"",member_address:{mobile:""},is_open_card:0,member_card_unit:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},member_address:{mobile:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,manjian:[],storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTime:!1,showTimeBar:!1},post_free:{},canLocalDelicery:!0,deliveryWeek:"",out_trade_no:null}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){var e={back:"/otherpages/blindBox/fillAddress/fillAddress",local:0,type:1};"local"==this.orderPaymentData.delivery.delivery_type&&(e.local=1,e.type=2),this.$util.redirectTo("/otherpages/member/address/address",e)},getOrderPaymentData:function(){var e=this;if(!this.out_trade_no){this.orderCreateData=uni.getStorageSync("blindOrderCreateData");var t=uni.getStorageSync("pay_flag");if(this.orderCreateData){var i=this.$util.getLocation();i&&(this.orderCreateData=Object.assign(this.orderCreateData,i));var o=uni.getStorageSync("store");o&&(this.orderCreateData.default_store_id=o.store_id),this.$api.sendRequest({url:"/api/ordercreate/payment",data:this.orderCreateData,success:function(t){t.code>=0?(e.orderPaymentData=t.data,e.orderPaymentData.timestamp=t.timestamp,e.handlePaymentData(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()):(e.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})}else 1==t?uni.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))}},handlePaymentData:function(){var e=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.is_point=1,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderPaymentData.shop_goods_list.invoice&&(this.orderPaymentData.shop_goods_list.invoice.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type.split(","),this.orderCreateData.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type[0]);var t=this.orderPaymentData;if(t.recommend_member_card&&(this.orderCreateData.member_card_unit=Object.keys(t.recommend_member_card.charge_rule)[0]),void 0!=t.shop_goods_list.express_type&&void 0!=t.shop_goods_list.express_type[0]){var i=t.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var o=uni.getStorageSync("delivery");if(o){var a=o.name,r=o.title;"store"==a&&(t.shop_goods_list.express_type.forEach((function(t){"store"==t.name&&e.storeSelected(t)})),this.member_address={mobile:""!=t.member_account.mobile?t.member_account.mobile:""})}else{a=i[0].name;"store"==a&&(this.member_address={mobile:""!=t.member_account.mobile?t.member_account.mobile:""});r=i[0].title}this.orderCreateData.delivery.delivery_type=a,this.orderCreateData.delivery.delivery_type_name=r,"store"==i[0].name&&this.storeSelected(i[0])}if(void 0!=t.shop_goods_list.coupon_list&&void 0!=t.shop_goods_list.coupon_list[0]){var n=t.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=n[0].coupon_id,this.orderCreateData.coupon.coupon_money=n[0].money}if(t.shop_goods_list.promotion.manjian.manjian_info.rule){var s=t.shop_goods_list.promotion.manjian.manjian_info;this.manjian=s;var d=0==s.type?"元":"件";Object.keys(s.rule).forEach((function(t){var i=s.rule[t];if(i.dataList)for(var o=0;o<i.coupon_data.length;o++)i.coupon_data[o].coupon_num=i.coupon_num[o];if(i.limit=0==s.type?parseFloat(i.limit).toFixed(2):parseInt(i.limit),void 0!=i.discount_money&&(void 0==e.manjian.manjian?e.manjian.manjian="购买可享受满"+i.limit+d+"减"+i.discount_money+"元":e.manjian.manjian+="；满"+i.limit+d+"减"+i.discount_money+"元"),void 0!=i.point||void 0!=i.coupon){var a="",r="";void 0!=i.point&&(r="可得"+i.point+"积分"),void 0!=i.coupon&&void 0!=i.coupon_data&&i.coupon_data.forEach((function(e,t){"discount"==e.type?""==a?a="送"+i.coupon_num[t]+"张"+parseFloat(e.discount)+"折优惠券":a+="、送"+i.coupon_num[t]+"张"+parseFloat(e.discount)+"折优惠券":""==a?a="送"+i.coupon_num[t]+"张"+parseFloat(e.money)+"元优惠券":a+="、送"+i.coupon_num[t]+"张"+parseFloat(e.money)+"元优惠券"})),void 0==e.manjian.point_text?e.manjian.point_text="购物满"+i.limit+d+r:e.manjian.point_text+="；满"+i.limit+d+r,void 0==e.manjian.mansong?e.manjian.mansong="购物满"+i.limit+d+a:e.manjian.mansong+="；满"+i.limit+d+a}void 0!=i.free_shipping&&void 0==e.manjian.free_shipping&&(e.manjian.free_shipping="购物满"+i.limit+d+"包邮")}))}if(this.goodsInfo.is_virtual&&(this.member_address={mobile:""!=t.member_account.mobile?t.member_account.mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual)if(this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,0==this.orderPaymentData.shop_goods_list.local_config.info.time_type)this.deliveryWeek="全天";else if(this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{this.timeInfo.showTime=!0;for(var l=this.orderPaymentData.shop_goods_list.local_config.info.time_week,p=!1,m=0;m<l.length;m++)if(m+1<l.length){var u=l[m+1]-l[m];if(u>1){p=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(p){var h=[];for(m=0;m<l.length;m++)h.push(f[l[m]]);this.deliveryWeek=h.join("、")}else this.deliveryWeek=f[l[0]]+"至"+f[l[l.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var v=(new Date).getHours().toString(),g=(new Date).getMinutes().toString();1==v.length&&(v="0"+v),1==g.length&&(g="0"+g),this.orderCreateData.buyer_ask_delivery_time=v+":"+g;var _=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(_);var b=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(b);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),w=y.getHours(),x=y.getMinutes(),D=parseInt(this.timeInfo.start_time.split(":")[0]),C=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),P=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(D==k&&C==P||((w<D||w==D&&x<C)&&(this.orderCreateData.buyer_ask_delivery_time=(1==D.toString().length?"0"+D:D)+":"+(1==C.toString().length?"0"+C:C)),(w>k||w==k&&x>P)&&(this.canLocalDelicery=!1)))}else this.deliveryWeek="店铺未开启配送时间";t.system_form&&(this.orderPaymentData.system_form=t.system_form),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.orderPaymentData.point_money=t.data.point_money,e.orderPaymentData.member_card_money=t.data.member_card_money,e.orderPaymentData.shop_goods_list.promotion=t.data.shop_goods_list.promotion,e.orderPaymentData.shop_goods_list.coupon_list=t.data.shop_goods_list.coupon_list,e.orderPaymentData.shop_goods_list.goods_list=t.data.shop_goods_list.goods_list,e.orderPaymentData.shop_goods_list.max_usable_point=t.data.shop_goods_list.max_usable_point,0==e.orderPaymentData.shop_goods_list.coupon_list.length&&(e.orderCreateData.coupon={}),e.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),e.$forceUpdate()):e.$util.showToast({title:t.message})}})},dingdna:function(){var e=this;this.$api.sendRequest({url:"/api/ordercreate/payment",data:this.orderCreateData,success:function(t){t.code>=0?(e.post_free=t.data.shop_goods_list.promotion,e.orderPaymentData=t.data,e.orderPaymentData.timestamp=t.timestamp,e.handlePaymentData(),console.log("0000"),e.$refs.loadingCover&&e.$refs.loadingCover.hide()):(e.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},orderCreate:function(e){var t=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,e&&(this.orderCreateData.pay_password=e);var i=this.$util.deepClone(this.orderCreateData);if(i.delivery=JSON.stringify(i.delivery),i.coupon=JSON.stringify(i.coupon),"store"==this.orderCreateData.delivery.delivery_type?i.member_address=JSON.stringify(this.member_address):i.member_address=JSON.stringify(i.member_address),this.orderPaymentData.system_form){var o={form_id:this.orderPaymentData.system_form.id,form_data:this.$util.deepClone(this.$refs.form.verify())};i.form_data=JSON.stringify(o)}this.$api.sendRequest({url:"/api/ordercreate/create",data:i,success:function(e){uni.hideLoading(),e.code>=0?0==t.orderPaymentData.pay_money?t.$util.redirectTo("/otherpages/pay/result/result",{code:e.data},"redirectTo"):(t.out_trade_no=e.data,t.$refs.choosePaymentPopup.getPayInfo(e.data),t.isSub=!1):(""==e.data&&t.$util.showToast({title:e.message}),t.isSub=!1),t.getCartNumber()},fail:function(e){uni.hideLoading(),t.isSub=!1}})}},verify:function(){if(1==this.goodsInfo.is_virtual){if(!this.member_address.mobile)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if("店铺未开启配送时间"==this.deliveryWeek)return this.$util.showToast({title:"店铺未设置配送时间"}),!1;if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=r||a!=n){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),a=parseInt(this.timeInfo.start_time.split(":")[1]),r=parseInt(this.timeInfo.end_time.split(":")[0]),n=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<a)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<r||t==o&&i>a||t==o&&i>=a&&t<r))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var s=!0;for(var d in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[d])){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[d].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[d].delivery_type&&0==this.orderCreateData.delivery[d].store_id){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[d].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!s)return!1}if(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())return!1;if(this.orderPaymentData.system_form){var c=this.$refs.form.verify();if(!c)return!1}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){uni.setStorageSync("delivery",{title:e.title,name:e.name}),this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,"store"==e.name&&(this.storeSelected(e),this.member_address.mobile||(this.member_address.mobile=""!=this.orderPaymentData.member_account.mobile?this.orderPaymentData.member_account.mobile:"")),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(e){if(this.storeInfo.storeList=e.store_list,!(this.orderCreateData.delivery.store_id>0)){var t=uni.getStorageSync("store");t&&e.store_id==t.store_id?(this.storeInfo.currStore=t,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=e.store_list[0]?(this.storeInfo.currStore=e.store_list[0],this.orderCreateData.delivery.store_id=e.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){console.log(e),this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.orderCalculate(),this.$forceUpdate(),this.tempData=null,this.$refs[e].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},usePoint:function(){this.orderCreateData.is_point?this.orderCreateData.is_point=0:this.orderCreateData.is_point=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},getCartNumber:function(){uni.getStorageSync("token")&&this.$store.dispatch("getCartNumber")},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type[0],this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);if(t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.orderPaymentData.system_form){var i={form_id:this.orderPaymentData.system_form.id,form_data:this.$util.deepClone(this.$refs.form.verify())};t.form_data=JSON.stringify(i)}this.$api.sendRequest({url:"/api/ordercreate/verifyarea",data:t,success:function(t){t.code>=0?(uni.setStorageSync("paySource",""),e.verify()&&e.$refs.choosePaymentPopup.open()):1==t.data.error_code||11==t.data.error_code?e.$util.showToast({title:t.message}):10!=t.data.error_code&&12!=t.data.error_code||uni.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(t){t.confirm&&e.selectAddress()}})}})},subscribeMessage:function(){var e="ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY";this.orderCreateData.delivery&&"store"==this.orderCreateData.delivery.delivery_type&&(e="ORDER_PAY,ORDER_TAKE_DELIVERY"),this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:e},success:function(e){e.data.length&&uni.requestSubscribeMessage({tmplIds:e.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})},selectMemberCard:function(e){this.orderCreateData.is_open_card=1==this.orderCreateData.is_open_card?0:1,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectMembercardUnit:function(e){this.orderCreateData.member_card_unit=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate()}},onShow:function(){this.$langConfig.refresh(),uni.getStorageSync("addressBack")&&uni.removeStorageSync("addressBack"),uni.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/otherpages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)},promotionExits:function(){return!!this.orderPaymentData.shop_goods_list.promotion&&(!!this.orderPaymentData.shop_goods_list.promotion.manjian&&!!this.orderPaymentData.shop_goods_list.promotion.manjian.manjian_info)},promotionList:function(){return this.orderPaymentData.shop_goods_list.promotion},cardChargeType:function(){if(this.orderPaymentData.recommend_member_card){var e=[],t=this.orderPaymentData.recommend_member_card.charge_rule;return Object.keys(t).forEach((function(i,o){switch(i){case"week":e.push({key:i,value:t[i],title:"周卡",unit:"周"});break;case"month":e.push({key:i,value:t[i],title:"月卡",unit:"月"});break;case"quarter":e.push({key:i,value:t[i],title:"季卡",unit:"季"});break;case"year":e.push({key:i,value:t[i],title:"年卡",unit:"年"});break}})),e}}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t=[];return e&&Object.keys(e).forEach((function(i){e[i];switch(i){case"manjian":t.push("满减送");break;case"freeshipping":t.push("满额包邮");break}})),t.join(" ")}}};t.default=o},cb79:function(e,t,i){var o=i("fa8b");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("4f06").default;a("98a7f70a",o,!0,{sourceMap:!1,shadowMode:!1})},cf64:function(e,t,i){var o=i("83fc");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("4f06").default;a("b2c5b7a0",o,!0,{sourceMap:!1,shadowMode:!1})},fa8b:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */uni-input[data-v-008499c6],\r\nuni-view[data-v-008499c6]{font-size:%?24?%}.font-bold[data-v-008499c6]{font-weight:700}.order-container[data-v-008499c6]{padding-bottom:%?160?%}.order-container.safe-area[data-v-008499c6]{padding-bottom:%?188?%}.mobile-wrap[data-v-008499c6]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.mobile-wrap .tips[data-v-008499c6]{font-size:%?22?%;margin-bottom:%?10?%}.mobile-wrap .form-group[data-v-008499c6]{display:flex;align-items:center;width:100%}.mobile-wrap .form-group .iconfont[data-v-008499c6]{margin-right:%?26?%;font-size:%?32?%}.mobile-wrap .form-group .text[data-v-008499c6]{display:inline-block;line-height:%?50?%;padding-right:%?10?%;font-size:%?28?%}.mobile-wrap .form-group .placeholder[data-v-008499c6]{line-height:%?50?%}.mobile-wrap .form-group .input[data-v-008499c6]{flex:1;height:%?50?%;line-height:%?50?%;text-align:right}.order-cell[data-v-008499c6]{display:flex;margin:0 0 %?30?% 0;align-items:center;background:#fff;line-height:%?40?%;position:relative}.order-cell.clear-flex[data-v-008499c6]{display:block}.order-cell uni-text[data-v-008499c6]{font-size:%?24?%}.order-cell .tit[data-v-008499c6]{text-align:left;font-size:%?28?%;min-width:%?160?%}.order-cell .tit uni-text[data-v-008499c6]{font-size:%?28?%}.order-cell .tit .tit-content[data-v-008499c6]{max-width:%?540?%;font-size:12px;line-height:%?35?%;margin-bottom:%?10?%}.order-cell .box[data-v-008499c6]{flex:1;padding:0 %?10?%;line-height:inherit;text-align:right}.order-cell .box.text-overflow[data-v-008499c6]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.order-cell .box.text-overflow .money[data-v-008499c6]{overflow:hidden;max-width:40%;display:inline-block;text-overflow:ellipsis;vertical-align:top}.order-cell .box .iconright[data-v-008499c6]{color:#303133;margin-left:%?20?%}.order-cell .box .operator[data-v-008499c6]{font-size:%?24?%;margin-right:%?6?%;font-weight:700}.order-cell .iconfont[data-v-008499c6]{color:#909399;line-height:normal;font-size:%?24?%}.order-cell .unit[data-v-008499c6]{margin-right:%?4?%;font-weight:700;font-size:%?24?%!important}.order-cell .money[data-v-008499c6]{font-size:%?32?%!important;font-weight:700}.site-wrap[data-v-008499c6]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%;padding:%?40?% 0}.site-wrap .site-body[data-v-008499c6]{margin:0 %?30?%}.site-wrap .site-body .goods-wrap[data-v-008499c6]{margin-bottom:%?30?%;display:flex;position:relative}.site-wrap .site-body .goods-wrap[data-v-008499c6]:last-of-type{padding-bottom:%?20?%;border-bottom:%?2?% solid #eee}.site-wrap .site-body .goods-wrap .goods-img[data-v-008499c6]{width:%?180?%;height:%?180?%;margin-right:%?20?%;border-radius:%?10?%;overflow:hidden}.site-wrap .site-body .goods-wrap .goods-img uni-image[data-v-008499c6]{width:100%;height:100%;border-radius:%?10?%}.site-wrap .site-body .goods-wrap .goods-info[data-v-008499c6]{flex:1;position:relative;width:calc(100% - %?220?%);margin-top:%?-4?%}.site-wrap .site-body .goods-wrap .goods-info .goods-name[data-v-008499c6]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:1.5;font-size:%?28?%}.site-wrap .site-body .goods-wrap .goods-info .sku[data-v-008499c6]{display:flex;line-height:1;margin-top:%?8?%}.site-wrap .site-body .goods-wrap .goods-info .sku .goods-spec[data-v-008499c6]{color:#909399;font-size:%?22?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section[data-v-008499c6]{position:absolute;left:0;bottom:0;width:100%}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section .unit[data-v-008499c6]{font-size:%?24?%;margin-right:%?4?%;font-weight:700}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section .goods-price[data-v-008499c6]{font-weight:700;font-size:%?32?%}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-008499c6]:first-of-type{width:80%;overflow:hidden;text-overflow:ellipsis}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-008499c6]:last-of-type{text-align:right;position:absolute;right:0;bottom:0}.site-wrap .site-footer[data-v-008499c6]{margin:0 %?30?%}.site-wrap .site-footer .order-cell[data-v-008499c6]:last-of-type{margin-bottom:0}.order-money[data-v-008499c6]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.order-money .order-cell[data-v-008499c6]:last-child{margin-bottom:0}.error-message[data-v-008499c6]{position:fixed;z-index:5;left:0;bottom:%?100?%;width:100vw;background:#f6f6cb;text-align:left;padding:%?10?% %?20?%;color:red}.order-submit[data-v-008499c6]{position:fixed;z-index:5;left:0;bottom:0;width:100vw;height:%?100?%;background:#fff;text-align:right;display:flex;align-items:center}.order-submit.bottom-safe-area[data-v-008499c6]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.order-submit .order-settlement-info[data-v-008499c6]{flex:1;height:%?100?%;line-height:%?100?%}.order-submit .order-settlement-info .unit[data-v-008499c6]{font-weight:700;font-size:%?24?%;margin-right:%?4?%}.order-submit .order-settlement-info .money[data-v-008499c6]{font-weight:700;font-size:%?32?%}.order-submit .submit-btn[data-v-008499c6]{height:%?80?%;margin:0 %?30?%;display:flex;justify-content:center;align-items:center}.order-submit .submit-btn uni-button[data-v-008499c6]{line-height:%?70?%;width:%?180?%;height:%?70?%;padding:0;font-size:%?28?%}.order-submit .submit-btn .no-submit[data-v-008499c6]{width:unset;background-color:#ccc;color:#fff;padding:0 %?20?%;font-size:%?28?%}.popup[data-v-008499c6]{width:100vw;background:#fff;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%}.popup .popup-header[data-v-008499c6]{display:flex;border-bottom:%?2?% solid #eee;position:relative;padding:%?40?%}.popup .popup-header .tit[data-v-008499c6]{flex:1;font-size:%?32?%;line-height:1;text-align:center}.popup .popup-header .iconfont[data-v-008499c6]{line-height:1;position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#909399;font-size:%?32?%}.popup .popup-body[data-v-008499c6]{height:calc(100% - %?250?%)}.popup .popup-body.store-popup[data-v-008499c6]{height:calc(100% - %?120?%)}.popup .popup-body.safe-area[data-v-008499c6]{height:calc(100% - %?270?%)}.popup .popup-body.store-popup.safe-area[data-v-008499c6]{height:calc(100% - %?140?%)}.popup .popup-footer[data-v-008499c6]{height:%?120?%}.popup .popup-footer .confirm-btn[data-v-008499c6]{height:%?80?%;line-height:%?80?%;color:#fff;text-align:center;margin:%?20?% %?40?% %?40?%;border-radius:%?40?%;font-size:%?28?%}.popup .popup-footer.bottom-safe-area[data-v-008499c6]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.invoice-popup[data-v-008499c6]{height:83vh;padding:%?18?% 0;box-sizing:border-box;position:relative}.invoice-popup .invoice-close[data-v-008499c6]{position:absolute;line-height:1;top:%?48?%;right:%?48?%;font-size:%?32?%;z-index:9}.invoice-popup .popup-body .invoice-cell[data-v-008499c6]{padding:%?30?% 0;border-top:1px solid #eee;margin:0 %?48?%}.invoice-popup .popup-body .invoice-cell[data-v-008499c6]:first-of-type{border-top:none}.invoice-popup .popup-body .invoice-cell .tit[data-v-008499c6]{font-size:%?28?%}.invoice-popup .popup-body .invoice-cell .option-grpup[data-v-008499c6]{padding-top:%?20?%}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item[data-v-008499c6]{height:%?54?%;line-height:%?54?%;display:inline-block;font-size:%?22?%;padding:0 %?36?%;background:#f8f8f8;border:1px solid #eee;border-radius:50px;margin-right:%?30?%}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item.active[data-v-008499c6]{color:#fff}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item.content[data-v-008499c6]{margin-bottom:%?20?%}.invoice-popup .popup-body .invoice-cell .option-grpup .option-item.content[data-v-008499c6]:last-child{margin-bottom:0}.invoice-popup .popup-body .invoice-cell .invoice-form-group uni-input[data-v-008499c6]{background:#f8f8f8;border-radius:%?10?%;height:%?66?%;margin-top:%?22?%;padding:0 %?32?%;font-size:%?24?%}.invoice-popup .popup-body .invoice-tops[data-v-008499c6]{font-size:%?20?%;margin:0 %?48?%;color:#909399}.coupon-popup[data-v-008499c6]{height:65vh}.coupon-popup .popup-body[data-v-008499c6]{background:#fff}.coupon-popup .coupon-item[data-v-008499c6]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%;padding:0;position:relative;background-color:#fff2f0}.coupon-popup .coupon-item[data-v-008499c6]:before, .coupon-popup .coupon-item[data-v-008499c6]:after{position:absolute;content:"";background-color:#fff;top:50%;width:%?30?%;height:%?30?%;border-radius:50%;z-index:5}.coupon-popup .coupon-item[data-v-008499c6]:before{left:0;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.coupon-popup .coupon-item[data-v-008499c6]:after{right:0;-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.coupon-popup .coupon-item .coupon-info[data-v-008499c6]{height:%?190?%;display:flex;width:100%;position:relative}.coupon-popup .coupon-item .coupon-info .info-wrap[data-v-008499c6]{width:%?190?%;height:%?190?%;display:flex;justify-content:center;align-items:center;margin-right:%?20?%;background-repeat:no-repeat;background-size:100% 100%}.coupon-popup .coupon-item .coupon-info .info-wrap .coupon-money[data-v-008499c6]{color:#fff;text-align:center;line-height:1}.coupon-popup .coupon-item .coupon-info .info-wrap .coupon-money .unit[data-v-008499c6]{font-size:%?30?%}.coupon-popup .coupon-item .coupon-info .info-wrap .coupon-money .money[data-v-008499c6]{font-size:%?60?%}.coupon-popup .coupon-item .coupon-info .info-wrap .at-least[data-v-008499c6]{font-size:%?24?%;color:#fff;text-align:center;margin-top:%?20?%}.coupon-popup .coupon-item .coupon-info .desc-wrap[data-v-008499c6]{flex:1;max-width:calc(100% - %?360?%)}.coupon-popup .coupon-item .coupon-info .desc-wrap uni-view[data-v-008499c6]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.coupon-popup .coupon-item .coupon-info .desc-wrap .coupon-name[data-v-008499c6]{margin-top:%?10?%;margin-bottom:%?4?%;font-size:%?28?%}.coupon-popup .coupon-item .coupon-info .desc-wrap .limit[data-v-008499c6]{font-size:%?20?%}.coupon-popup .coupon-item .coupon-info .desc-wrap .time[data-v-008499c6]{border-top:%?2?% dashed #ccc;position:absolute;bottom:%?30?%;color:#909399;padding-top:%?10?%;line-height:1.5;font-size:%?20?%}.coupon-popup .coupon-item .coupon-info .iconfont[data-v-008499c6]{font-size:%?44?%;position:absolute;top:50%;right:%?20?%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.coupon-popup .coupon-item .coupon-info .iconyuan_checkbox[data-v-008499c6]{color:#909399}.promotion-popup[data-v-008499c6]{height:40vh}.promotion-popup .order-cell[data-v-008499c6]{margin:%?30?% %?30?%}.promotion-popup .order-cell .promotion-mark[data-v-008499c6]{padding:%?4?% %?10?%;line-height:1;border-radius:%?32?%;color:#fff;font-size:%?24?%;margin-right:%?10?%}.delivery-popup[data-v-008499c6]{height:80vh;box-sizing:border-box}.delivery-popup .delivery-content[data-v-008499c6]{height:100%;overflow-y:scroll;padding:%?30?% 0;box-sizing:border-box}.delivery-popup .delivery-content .item-wrap[data-v-008499c6]{padding:%?20?% 0;box-sizing:border-box;border-top:1px solid #eee;display:flex;justify-content:space-between;align-items:center;margin:0 %?48?%}.delivery-popup .delivery-content .item-wrap .detail[data-v-008499c6]{width:90%}.delivery-popup .delivery-content .item-wrap .detail .name[data-v-008499c6]{display:flex}.delivery-popup .delivery-content .item-wrap .detail .name uni-text[data-v-008499c6]{font-size:%?28?%}.delivery-popup .delivery-content .item-wrap .detail .info[data-v-008499c6]{line-height:1.2}.delivery-popup .delivery-content .item-wrap .detail .info uni-view[data-v-008499c6]{font-size:%?24?%}.delivery-popup .delivery-content .item-wrap .icon[data-v-008499c6]{flex:1;text-align:right}.delivery-popup .delivery-content .item-wrap .icon .iconfont[data-v-008499c6]{line-height:1;font-size:%?44?%}.delivery-popup .delivery-content .item-wrap[data-v-008499c6]:first-of-type{padding-top:0;border-top:none}.delivery-popup .delivery-content .empty[data-v-008499c6]{text-align:center;font-size:%?24?%}.balance-switch[data-v-008499c6]{-webkit-transform:scale(.8);transform:scale(.8)}.address-box[data-v-008499c6]{border-radius:%?10?%;margin:%?20?% %?30?%;background-color:#fff}.address-box .info-wrap[data-v-008499c6]{padding:%?20?% %?30?%;display:flex;align-items:center}.address-box .info-wrap .content[data-v-008499c6]{flex:1}.address-box .info-wrap .content .name[data-v-008499c6]{margin-right:%?10?%}.address-box .info-wrap .desc-wrap[data-v-008499c6]{word-break:break-word;font-size:%?28?%}.address-box .icon-wrap[data-v-008499c6]{width:%?24?%;height:%?42?%;position:relative;margin-right:%?26?%;align-self:flex-start}.address-box .icon-wrap .iconfont[data-v-008499c6]{font-size:%?32?%;display:inline-block;vertical-align:middle}.address-box .empty-wrap[data-v-008499c6]{height:%?100?%;line-height:%?100?%;display:flex;align-items:center;margin:0 %?30?%}.address-box .empty-wrap .icon-wrap[data-v-008499c6]{line-height:%?100?%}.address-box .empty-wrap .info[data-v-008499c6]{flex:1;font-size:%?28?%}.address-box .cell-more[data-v-008499c6]{margin-left:%?50?%;float:right;color:#909399}.local-box[data-v-008499c6]{margin:0 %?30?%;padding-bottom:%?20?%;border-radius:%?10?%;border-top:%?2?% solid #eee}.local-box .order-cell[data-v-008499c6]{padding-top:%?20?%}.local-box .order-cell .box[data-v-008499c6]{padding:0}.local-box .pick-block[data-v-008499c6]{display:flex;align-items:center}.local-box .pick-block > uni-view[data-v-008499c6]{flex:1}.local-box .pick-block .time-picker[data-v-008499c6]{display:flex;align-items:center;justify-content:flex-end}.local-box .pick-block .time-picker .cell-more[data-v-008499c6]{float:right;margin-left:%?10?%;color:#909399;font-size:%?24?%}.delivery-mode[data-v-008499c6]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.delivery-mode .head .iconfont[data-v-008499c6]{margin-right:%?26?%;font-size:%?32?%}.delivery-mode .head uni-text[data-v-008499c6]{font-size:%?28?%}.delivery-mode .action[data-v-008499c6]{display:flex;margin:%?20?% 0}.delivery-mode .action uni-button[data-v-008499c6]{flex:1;margin-right:%?40?%!important;height:%?60?%;line-height:%?60?%;border-width:0}.delivery-mode .action uni-button[data-v-008499c6]:last-child{margin-right:0!important}.delivery-mode .action uni-button[type="default"][data-v-008499c6]{background-color:#f8f8f8}.store-box[data-v-008499c6]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.store-box .store-info[data-v-008499c6]{display:flex;align-items:center}.store-box .store-info .icon[data-v-008499c6]{position:relative;margin-right:%?26?%;align-self:flex-start;margin-top:%?-2?%}.store-box .store-info .icon.img[data-v-008499c6]{background-color:unset;margin-right:%?12?%;width:%?60?%;height:%?60?%;border-radius:50%;margin-top:%?12?%}.store-box .store-info .icon.img uni-image[data-v-008499c6]{width:100%;height:100%}.store-box .store-info .icon .iconfont[data-v-008499c6]{font-size:%?32?%}.store-box .store-info .info-wrap[data-v-008499c6]{flex:1}.store-box .store-info .info-wrap .title[data-v-008499c6]{margin-bottom:%?10?%;font-size:%?28?%}.store-box .store-info .info-wrap .title .cell-more[data-v-008499c6]{float:right;margin-left:%?50?%;color:#909399;font-size:%?24?%}.store-box .store-info .info-wrap .store-detail uni-view[data-v-008499c6]{word-break:break-word;font-size:%?24?%;color:#606266}.store-box .empty[data-v-008499c6]{text-align:center}.store-box .store-time[data-v-008499c6]{border-top:1px solid #eee;display:flex;align-items:center;justify-content:space-between;padding:%?20?% 0 0;box-sizing:border-box;margin-top:%?10?%}.store-box .store-time uni-view[data-v-008499c6]{font-size:%?24?%}.store-box .store-time .right[data-v-008499c6]{display:flex;align-items:center;line-height:1}.store-box .store-time .right .iconfont[data-v-008499c6]{font-size:%?26?%;margin-left:%?14?%;color:#909399}.member-card-wrap[data-v-008499c6]{box-sizing:border-box;width:100%;margin-top:%?20?%;background-color:#f5f5f5;border-radius:%?10?%;padding:0 %?20?%!important}.member-card-wrap .head[data-v-008499c6]{display:flex;align-items:center;height:%?80?%}.member-card-wrap .iconyuan_checked[data-v-008499c6], .member-card-wrap .iconyuan_checkbox[data-v-008499c6]{font-size:%?32?%}.member-card-wrap .iconhuiyuan[data-v-008499c6]{margin-right:%?10?%;line-height:1;font-size:%?32?%;background-image:-webkit-linear-gradient(top,#e3b66b,#f7daa5);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.member-card-wrap .info[data-v-008499c6]{text-align:left;flex:1;color:#e5ce75;font-size:%?24?%;color:#333}.member-card-wrap .body[data-v-008499c6]{display:flex;overflow-x:scroll;padding:%?10?% 0 %?20?% 0}.member-card-wrap .body .item[data-v-008499c6]{padding:%?20?% 0 %?30?% 0;width:calc((100% - %?60?%) / 4);text-align:center;background:#fff;margin-right:%?20?%;border:2px solid #fff;border-radius:%?10?%;position:relative;overflow:hidden}.member-card-wrap .body .item .iconicon[data-v-008499c6]{position:absolute;right:0;bottom:0;font-size:%?32?%;display:none}.member-card-wrap .body .item[data-v-008499c6]:last-child{margin-right:0}.member-card-wrap .body .item .title[data-v-008499c6]{margin-top:%?20?%;font-weight:700}.member-card-wrap .body .item .price[data-v-008499c6]{margin-top:%?10?%}.member-card-wrap .body .active .iconicon[data-v-008499c6]{display:block}.system-form-wrap[data-v-008499c6]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;padding:%?20?% %?30?%}.fill-box .blind-good[data-v-008499c6]{background-color:#fff;border-radius:%?10?%;padding:%?30?% %?36?%;margin:%?20?% %?30?%;display:flex\r\n  /* .check-goods{\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\t.blind-goods{\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t\t.check-blind{\r\n\t\t\t\t.right-jiantou{\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.marketimg-box-con{\r\n\t\t\t.marketimg-box-con-scroll {\r\n\t\t\t\twidth: calc(100% - 30rpx);\r\n\t\t\t\tline-height: 1;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tmargin-top: 30rpx;\r\n\t\t\t\t.marketimg-box-con-item {\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\twidth: 33.3333%;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t&:nth-child(3n + 3) {\r\n\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 170rpx;\r\n\t\t\t\t\t\theight: 170rpx;\r\n\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.title {\r\n\t\t\t\t\t\twidth: 85%;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} */}.fill-box .blind-good .goods-img[data-v-008499c6]{width:%?150?%;height:%?150?%;margin-right:%?20?%;background-color:#fff}.fill-box .blind-good .goods-img uni-image[data-v-008499c6]{width:100%;height:100%}.fill-box .blind-good .goods-right[data-v-008499c6]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.fill-box .blind-good .goods-right .goods-title[data-v-008499c6]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:1.5}.fill-box .blind-good .goods-right .good-time[data-v-008499c6]{line-height:1}.fill-box .send-mode[data-v-008499c6]{background-color:#fff;border-radius:%?10?%;padding:%?30?% %?36?%;margin:%?20?% %?30?%}.fill-box .send-mode .mode[data-v-008499c6]{font-weight:700}.fill-box .send-mode .mode-btn[data-v-008499c6]{margin-top:%?40?%;display:flex}.fill-box .send-mode .mode-btn uni-button[data-v-008499c6]{flex:1;height:%?70?%;line-height:%?70?%;margin-right:%?26?%!important}.fill-box .send-mode .mode-btn uni-button[data-v-008499c6]:last-child{margin-right:0!important}.fill-box .receiving[data-v-008499c6]{background-color:#fff;border-radius:%?10?%;padding:%?30?% %?36?%;margin:%?20?% %?30?%}.fill-box .receiving .receiving-msg[data-v-008499c6]{font-weight:700}.fill-box .receiving .address[data-v-008499c6]{display:flex;justify-content:space-between;align-items:center;margin-top:%?20?%}.fill-box .receiving .take-out[data-v-008499c6]{border-top:%?2?% solid #eee;margin-top:%?20?%;padding-top:%?20?%}.fill-box .receiving .take-out uni-view[data-v-008499c6]{display:flex;justify-content:space-between;align-items:center}.fill-box .receiving .take-out .service-time .service-tim .right-jiantou[data-v-008499c6]{margin-left:%?10?%}.fill-box .store-box[data-v-008499c6]{margin:10px 15px;border-radius:5px;background:#fff;padding:10px 15px}.fill-box .store-box .store-info[data-v-008499c6]{display:flex;align-items:center\r\n  /* .info-wrap {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t.title {\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\tfont-size: $font-size-base;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t.cell-more {\r\n\t\t\t\t\t\t// float: right;\r\n\t\t\t\t\t\tmargin-left: 50rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.store-detail view {\r\n\t\t\t\t\tword-break: break-word;\r\n\t\t\t\t\tfont-size: $font-size-tag;\r\n\t\t\t\t\tcolor: $color-sub;\r\n\t\t\t\t}\r\n\t\t\t} */}.fill-box .store-box .store-info .icon[data-v-008499c6]{position:relative;margin-right:%?26?%;align-self:flex-start;margin-top:%?-2?%}.fill-box .store-box .store-info .icon.img[data-v-008499c6]{background-color:unset;margin:%?10?% %?20?% 0 0;width:%?80?%;height:%?80?%;border-radius:%?10?%}.fill-box .store-box .store-info .icon.img uni-image[data-v-008499c6]{width:100%;height:100%}.fill-box .store-box .store-info .icon .iconfont[data-v-008499c6]{font-size:%?32?%}.fill-box .store-box .empty[data-v-008499c6]{text-align:center}.fill-box .mobile-wrap[data-v-008499c6]{margin:10px 15px;border-radius:5px;background:#fff;padding:10px 15px}.fill-box .mobile-wrap .form-group[data-v-008499c6]{display:flex;align-items:center;width:100%}.fill-box .mobile-wrap .form-group .require[data-v-008499c6]{color:#ff4544;margin-right:%?10?%}.fill-box .mobile-wrap .form-group .text[data-v-008499c6]{display:inline-block;line-height:%?50?%;padding-right:%?40?%;font-size:%?28?%}.fill-box .mobile-wrap .form-group .placeholder[data-v-008499c6]{line-height:%?50?%}.fill-box .mobile-wrap .form-group .input[data-v-008499c6]{flex:1;height:%?50?%;line-height:%?50?%;text-align:left}.fill-box .check-wrap[data-v-008499c6]{width:%?630?%}.fill-box .check-wrap .content-wrap[data-v-008499c6]{width:100%;overflow:hidden}.fill-box .check-wrap .content-wrap .header-popup[data-v-008499c6]{display:flex;position:relative;padding:%?40?%}.fill-box .check-wrap .content-wrap .header-popup .tit[data-v-008499c6]{flex:1;font-size:%?30?%;font-weight:700;line-height:1;text-align:center}.fill-box .check-wrap .content-wrap .header-popup .guanbi[data-v-008499c6]{line-height:1;position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#909399;font-size:%?32?%}.fill-box .check-wrap .content-wrap .checked-goods[data-v-008499c6]{display:flex;align-items:center;padding:0 %?30?%;margin:%?20?% 0}.fill-box .check-wrap .content-wrap .checked-goods .check[data-v-008499c6]{margin-right:%?20?%;font-size:%?34?%}.fill-box .check-wrap .content-wrap .checked-goods .check-list[data-v-008499c6]{display:flex}.fill-box .check-wrap .content-wrap .checked-goods .check-list .img[data-v-008499c6]{width:%?170?%;height:%?170?%}.fill-box .check-wrap .content-wrap .checked-goods .check-list .img uni-image[data-v-008499c6]{width:100%;height:100%}.fill-box .check-wrap .content-wrap .checked-goods .check-list .goods-goods[data-v-008499c6]{margin-left:%?20?%;width:60%}.fill-box .check-wrap .content-wrap .checked-goods .check-list .goods-goods .goods-name[data-v-008499c6]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.fill-box .check-wrap .content-wrap .checked-goods .check-list .goods-goods .goods-price .price[data-v-008499c6]{font-size:%?36?%}.fill-box .check-wrap .content-wrap .footer[data-v-008499c6]{display:flex;justify-content:space-between;align-items:center;padding:%?30?%;border-top:%?2?% solid #eee}.fill-box .check-wrap .content-wrap .footer .determine[data-v-008499c6]{width:%?330?%}.fill-box .primary[data-v-008499c6]{position:fixed;bottom:%?40?%;width:100%}',""]),e.exports=t}}]);
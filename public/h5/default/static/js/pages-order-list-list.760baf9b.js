(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-list-list"],{"0233":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={methods:{orderPay:function(t){var e=this;0==t.adjust_money?this.openChoosePayment():uni.showModal({title:"提示",content:"商家已将支付金额调整为"+t.pay_money+"元，是否继续支付？",success:function(t){t.confirm&&e.openChoosePayment()}})},pay:function(){var t=this;this.$api.sendRequest({url:"/api/order/pay",data:{order_ids:this.orderData.order_id},success:function(e){e.code>=0?t.$refs.choosePaymentPopup.getPayInfo(e.data):t.$util.showToast({title:e.message})}})},orderClose:function(t,e){var o=this;uni.showModal({title:"提示",content:"您确定要关闭该订单吗？",success:function(a){a.confirm&&o.$api.sendRequest({url:"/api/order/close",data:{order_id:t},success:function(t){t.code>=0?"function"==typeof e&&e():o.$util.showToast({title:"当前订单可能存在拼团，维权等操作，"+t.message+"不可以关闭哦!",duration:2e3})}})}})},orderDelivery:function(t,e){var o=this;uni.showModal({title:"提示",content:"您确定已经收到货物了吗？",success:function(a){a.confirm&&o.$api.sendRequest({url:"/api/order/takedelivery",data:{order_id:t},success:function(t){o.$util.showToast({title:t.message}),"function"==typeof e&&e()}})}})}}};e.default=a},"0e08":function(t,e,o){var a=o("24fb");e=a(!1),e.push([t.i,"[data-v-bac33e04] .uni-page{overflow:hidden}[data-v-bac33e04] .mescroll-upwarp{padding-bottom:%?100?%}",""]),t.exports=e},"134f":function(t,e,o){"use strict";o.r(e);var a=o("c4a9"),i=o.n(a);for(var r in a)"default"!==r&&function(t){o.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},2277:function(t,e,o){"use strict";o("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniCountDown",props:{showDay:{type:Boolean,default:!0},showColon:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},backgroundColorClass:{type:String,default:""},borderColor:{type:String,default:"#000000"},borderColorClass:{type:String,default:""},color:{type:String,default:"#000000"},colorClass:{type:String,default:""},splitorColor:{type:String,default:"#000000"},splitorColorClass:{type:String,default:""},day:{type:[Number,String],default:0},hour:{type:[Number,String],default:0},minute:{type:[Number,String],default:0},second:{type:[Number,String],default:0}},data:function(){return{timer:null,d:"00",h:"00",i:"00",s:"00",leftTime:0,seconds:0}},mounted:function(t){var e=this;this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},watch:{day:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},hour:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},minute:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},second:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)}},beforeDestroy:function(){clearInterval(this.timer)},methods:{toSeconds:function(t,e,o,a){return t=Number(t),e=Number(e),o=Number(o),a=Number(a),60*t*60*24+60*e*60+60*o+a},timeUp:function(){clearInterval(this.timer),this.$emit("timeup")},countDown:function(){var t=this.seconds,e=0,o=0,a=0,i=0;t>0?(e=Math.floor(t/86400),o=Math.floor(t/3600)-24*e,a=Math.floor(t/60)-24*e*60-60*o,i=Math.floor(t)-24*e*60*60-60*o*60-60*a):this.timeUp(),e<10&&(e="0"+e),o<10&&(o="0"+o),a<10&&(a="0"+a),i<10&&(i="0"+i),this.d=e,this.h=o,this.i=a,this.s=i}}};e.default=a},"3ee8":function(t,e,o){"use strict";var a=o("fb18"),i=o.n(a);i.a},"3fb4":function(t,e,o){"use strict";o.r(e);var a=o("6d00"),i=o("134f");for(var r in i)"default"!==r&&function(t){o.d(e,t,(function(){return i[t]}))}(r);o("e63a");var n,s=o("f0c5"),d=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"17ff8868",null,!1,a["a"],n);e["default"]=d.exports},4685:function(t,e,o){var a=o("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-countdown[data-v-aa16a5de]{padding:%?2?% 0;display:inline-flex;flex-wrap:nowrap;justify-content:center}.uni-countdown__splitor[data-v-aa16a5de]{justify-content:center;line-height:%?44?%;padding:0 %?5?%;font-size:%?24?%}.uni-countdown__splitor.day[data-v-aa16a5de]{line-height:%?50?%}.uni-countdown__number[data-v-aa16a5de]{line-height:%?44?%;justify-content:center;height:%?44?%;border-radius:%?6?%;margin:0 %?5?%;font-size:%?28?%;border:1px solid #000;font-size:%?24?%;padding:0 %?10?%}',""]),t.exports=e},"4e86":function(t,e,o){var a=o("4685");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("4f06").default;i("6cf10eab",a,!0,{sourceMap:!1,shadowMode:!1})},"4ee2":function(t,e,o){var a=o("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.order-container[data-v-bac33e04]{width:100vw;height:100vh}.align-right[data-v-bac33e04]{text-align:right}.order-nav[data-v-bac33e04]{width:100vw;height:%?90?%;flex-direction:row;white-space:nowrap;background:#fff;display:flex;position:fixed;left:0;z-index:998}.order-nav .uni-tab-item[data-v-bac33e04]{flex:1;padding-left:%?24?%;padding-right:%?24?%}.order-nav .uni-tab-item-title[data-v-bac33e04]{font-size:%?28?%;display:block;height:%?86?%;line-height:%?90?%;border-bottom:1px solid #fff;padding:0 %?10?%;flex-wrap:nowrap;white-space:nowrap;text-align:center;font-size:%?30?%}.order-nav .uni-tab-item-title-active[data-v-bac33e04]{display:block;height:%?86?%;border-bottom:2px solid #fff;padding:0 %?10?%}.order-nav[data-v-bac33e04] ::-webkit-scrollbar{width:0;height:0;color:transparent}.order-item[data-v-bac33e04]{margin:%?20?% %?30?%;border-radius:%?10?%;background:#fff;position:relative}.order-item .order-header[data-v-bac33e04]{display:flex;align-items:center;position:relative;padding:%?20?% %?30?% %?26?% %?30?%}.order-item .order-header.waitpay[data-v-bac33e04]{padding-left:%?70?%}.order-item .order-header.waitpay .iconyuan_checked[data-v-bac33e04],\r\n.order-item .order-header.waitpay .iconyuan_checkbox[data-v-bac33e04]{font-size:%?32?%;position:absolute;top:48%;left:%?20?%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.order-item .order-header.waitpay .iconyuan_checkbox[data-v-bac33e04]{color:#909399}.order-item .order-header .icondianpu[data-v-bac33e04]{display:inline-block;line-height:1;margin-right:%?12?%;font-size:%?28?%}.order-item .order-header .status-name[data-v-bac33e04]{flex:1;text-align:right;font-size:%?24?%}.order-item .order-body .goods-wrap[data-v-bac33e04]{display:flex;position:relative;padding:0 %?30?% %?30?% %?30?%}.order-item .order-body .goods-wrap[data-v-bac33e04]:last-of-type{margin-bottom:0}.order-item .order-body .goods-wrap .goods-img[data-v-bac33e04]{width:%?160?%;height:%?160?%;margin-right:%?20?%}.order-item .order-body .goods-wrap .goods-img uni-image[data-v-bac33e04]{width:100%;height:100%;border-radius:%?10?%}.order-item .order-body .goods-wrap .goods-info[data-v-bac33e04]{flex:1;position:relative;max-width:calc(100% - %?180?%);display:flex;flex-direction:column}.order-item .order-body .goods-wrap .goods-info .pro-info[data-v-bac33e04]{flex:1}.order-item .order-body .goods-wrap .goods-info .goods-name[data-v-bac33e04]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:1.5;font-size:%?28?%;color:#303133}.order-item .order-body .goods-wrap .goods-info .goods-sub-section[data-v-bac33e04]{width:100%;line-height:1.3;display:flex;margin-top:%?14?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-price[data-v-bac33e04]{font-size:%?24?%;color:#303133;flex:1;font-weight:700}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-num[data-v-bac33e04]{font-size:%?24?%;color:#909399;flex:1;text-align:right;line-height:1}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-num .iconfont[data-v-bac33e04]{font-size:%?24?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .goods-type[data-v-bac33e04]{font-size:%?24?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section .unit[data-v-bac33e04]{font-size:%?24?%;margin-right:%?2?%}.order-item .order-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-bac33e04]{flex:1;line-height:1.3;display:flex;flex-direction:column}.order-item .order-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-bac33e04]:last-of-type{text-align:right}.order-item .order-body .goods-wrap .goods-info .goods-sub-section uni-view:last-of-type .iconfont[data-v-bac33e04]{line-height:1;font-size:%?24?%}.order-item .order-body .goods-wrap .goods-info .goods-action[data-v-bac33e04]{text-align:right}.order-item .order-body .goods-wrap .goods-info .goods-action .action-btn[data-v-bac33e04]{line-height:1;padding:%?14?% %?20?%;color:#303133;display:inline-block;border-radius:%?28?%;background:#fff;border:.5px solid #999;font-size:%?24?%;margin-left:%?10?%}.order-item .order-footer .order-base-info .total[data-v-bac33e04]{padding:%?20?%;font-size:%?24?%;background:hsla(0,0%,97.3%,.5);display:flex}.order-item .order-footer .order-base-info .total > uni-text[data-v-bac33e04]{flex:1;line-height:1;margin-left:%?10?%}.order-item .order-footer .order-base-info .order-type[data-v-bac33e04]{padding-top:%?20?%;flex:0.5}.order-item .order-footer .order-base-info .order-type > uni-text[data-v-bac33e04]{line-height:1}.order-item .order-footer .order-action[data-v-bac33e04]{text-align:right;padding:%?30?%;position:relative}.order-item .order-footer .order-action .order-time[data-v-bac33e04]{position:absolute;top:%?35?%;left:%?30?%;display:flex;align-items:center;font-size:10px;color:#b5b6b9}.order-item .order-footer .order-action .order-time uni-image[data-v-bac33e04]{width:%?26?%;height:%?26?%;margin-right:%?6?%}.order-item .order-footer .order-action .action-btn[data-v-bac33e04]{line-height:1;padding:%?20?% %?26?%;color:#333;display:inline-block;border-radius:%?32?%;background:#fff;border:.5px solid #999;font-size:%?24?%;margin-left:%?10?%}[data-v-bac33e04] #action-date .uni-countdown .uni-countdown__number{border:none!important;padding:0!important;margin:0!important}.order-batch-action[data-v-bac33e04]{position:fixed;z-index:5;left:0;bottom:0;width:100vw;height:%?100?%;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.1);text-align:right}.order-batch-action.bottom-safe-area[data-v-bac33e04]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.order-batch-action .action-btn[data-v-bac33e04]{height:%?68?%;line-height:%?68?%;background:#fff;padding:0 %?40?%;display:inline-block;text-align:center;margin:%?16?% %?20?% %?16?% 0;border-radius:%?40?%;border:1px solid #fff}.order-batch-action .action-btn.white[data-v-bac33e04]{height:%?68?%;line-height:%?68?%;color:#333;border:1px solid #999;background:#fff}.sku[data-v-bac33e04]{display:flex;line-height:1;margin-top:%?10?%}.goods-spec[data-v-bac33e04]{color:#909399;font-size:%?22?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.cate-search[data-v-bac33e04]{width:100%;height:%?100?%;background:#fff;padding:%?10?% %?30?%;box-sizing:border-box;padding-top:%?30?%}.cate-search uni-input[data-v-bac33e04]{font-size:%?28?%;height:%?76?%;padding:0 %?25?% 0 %?30?%;line-height:%?60?%;width:calc(100% - %?120?%)}.cate-search uni-text[data-v-bac33e04]{font-size:%?32?%;color:#909399;width:%?120?%;text-align:center}.cate-search .search-box[data-v-bac33e04]{width:100%;height:100%;background:#f8f8f8;display:flex;justify-content:center;align-items:center;border-radius:%?40?%}',""]),t.exports=e},"53bd":function(t,e,o){"use strict";var a;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"uni-countdown"},[t.showDay&&t.d>0?o("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.d))]):t._e(),t.showDay&&t.d>0?o("v-uni-view",{staticClass:"uni-countdown__splitor day",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s((t.showColon,"天")))]):t._e(),o("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.h))]),o("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"时"))]),o("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.i))]),o("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"分"))]),o("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.s))]),t.showColon?t._e():o("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v("秒")])],1)},r=[]},"5ce7":function(t,e,o){"use strict";var a=o("4e86"),i=o.n(a);i.a},6859:function(t,e,o){"use strict";var a=o("9e28"),i=o.n(a);i.a},"6beb":function(t,e,o){"use strict";o.r(e);var a=o("a645"),i=o("9c7b");for(var r in i)"default"!==r&&function(t){o.d(e,t,(function(){return i[t]}))}(r);o("3ee8"),o("6859");var n,s=o("f0c5"),d=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"bac33e04",null,!1,a["a"],n);e["default"]=d.exports},"6d00":function(t,e,o){"use strict";var a;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"uni-load-more"},["circle"===t.iconType||"auto"===t.iconType&&"android"===t.platform?o("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status&&t.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[o("v-uni-view",{staticClass:"loader-android",style:{borderColor:t.color}})],1):o("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status&&t.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[o("v-uni-view",{staticClass:"load1 load"},[o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}})],1),o("v-uni-view",{staticClass:"load2 load"},[o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}})],1),o("v-uni-view",{staticClass:"load3 load"},[o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}}),o("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:t.color}})],1)],1),o("v-uni-text",{staticClass:"uni-load-more__text",style:{color:t.color}},[t._v(t._s("more"===t.status?t.contentText.contentdown:"loading"===t.status?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},r=[]},"6e9f":function(t,e,o){"use strict";var a=o("4ea4");o("99af"),o("4160"),o("a434"),o("d3b7"),o("acd8"),o("e25e"),o("25f0"),o("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(o("3fb4")),r=a(o("0233")),n=a(o("245b")),s=a(o("53a5")),d={data:function(){return{scrollInto:"",orderStatus:"all",statusList:[],orderList:[],contentText:{},mergePayOrder:[],isIphoneX:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1},orderData:{},payMoney:0,payMoneyMerge:0,token:null,order_id:0,searchText:"",pageText:""}},components:{uniLoadMore:i.default,nsPayment:s.default},mixins:[r.default,n.default],onLoad:function(t){t.status&&(this.orderStatus=t.status),t.order_id&&(this.order_id=t.order_id)},onShow:function(){var t=this;this.$langConfig.refresh(),this.isIphoneX=this.$util.uniappIsIPhoneX(),this.getEvaluateConfig(),this.getOrderStatus(),uni.getStorageSync("token")?(this.token=uni.getStorageSync("token"),this.$refs.mescroll&&this.$refs.mescroll.refresh()):setTimeout((function(){t.$refs.login.open("/pages/order/list/list?status="+t.orderStatus)}))},methods:{ontabtap:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.orderStatus=this.statusList[e].status,""==this.orderStatus&&(this.mergePayOrder=[]),this.$refs.loadingCover.show(),this.$refs.mescroll.refresh()},getListData:function(t){var e=this;this.$api.sendRequest({url:"/api/order/lists",data:{page:t.num,page_size:t.size,order_status:this.orderStatus,order_id:this.order_id,searchText:this.pageText},success:function(o){var a=[],i=o.message,r=0;0==o.code&&o.data?(a=o.data.list,r=o.data.auto_close):e.$util.showToast({title:i}),t.endSuccess(a.length),1==t.num&&(e.orderList=[],e.order_id=0),e.orderList=e.orderList.concat(a);var n=Date.parse(new Date)/1e3;e.orderList.forEach((function(t){t.discountTimeMachine=e.$util.countDown(t.create_time+r-n),t.order_goods.forEach((function(t){if(t.sku_spec_format)try{t.sku_spec_format=JSON.parse(t.sku_spec_format)}catch(e){t.sku_spec_format=t.sku_spec_format}else t.sku_spec_format=[]}))})),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(o){t.endErr(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},getOrderStatus:function(){this.statusList=[{status:"all",name:this.$lang("all"),id:"status_0"},{status:"waitpay",name:this.$lang("waitPay"),id:"status_1"},{status:"waitsend",name:this.$lang("readyDelivery"),id:"status_2"},{status:"waitconfirm",name:this.$lang("waitDelivery"),id:"status_3"},{status:"waitrate",name:this.$lang("waitEvaluate"),id:"status_4"}]},operation:function(t,e){var o=this;this.status;switch(t){case"orderPay":this.orderData=e,this.payMoney=parseFloat(e.pay_money),this.orderPay(e);break;case"orderClose":this.orderClose(e.order_id,(function(){o.$refs.mescroll.refresh()}));break;case"memberTakeDelivery":this.orderDelivery(e.order_id,(function(){o.$refs.mescroll.refresh()}));break;case"trace":this.$util.redirectTo("/otherpages/order/logistics/logistics",{order_id:e.order_id});break;case"memberOrderEvaluation":this.$util.redirectTo("/otherpages/order/evaluate/evaluate",{order_id:e.order_id});break}},orderDetail:function(t){switch(parseInt(t.order_type)){case 2:this.$util.redirectTo("/pages/order/detail_pickup/detail_pickup",{order_id:t.order_id});break;case 3:this.$util.redirectTo("/pages/order/detail_local_delivery/detail_local_delivery",{order_id:t.order_id});break;case 4:this.$util.redirectTo("/otherpages/order/detail_virtual/detail_virtual",{order_id:t.order_id});break;default:this.$util.redirectTo("/pages/order/detail/detail",{order_id:t.order_id});break}},selectOrder:function(t,e){-1!=this.$util.inArray(t,this.mergePayOrder)?(this.mergePayOrder.splice(this.$util.inArray(t,this.mergePayOrder),1),this.payMoneyMerge-=parseFloat(e)):(this.payMoneyMerge+=parseFloat(e),this.mergePayOrder.push(t))},mergePay:function(){var t=this;this.mergePayOrder.length&&this.$api.sendRequest({url:"/api/order/pay",data:{order_ids:this.mergePayOrder.toString()},success:function(e){e.code>=0?t.$refs.choosePaymentMergePopup.getPayInfo(e.data):t.$util.showToast({title:e.message})}})},imageError:function(t,e){this.orderList[t].order_goods[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},getEvaluateConfig:function(){var t=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(e){if(0==e.code){var o=e.data;t.evaluateConfig=o}}})},openChoosePayment:function(){this.$refs.choosePaymentPopup.open()},openChoosePaymentMerge:function(){this.$refs.choosePaymentMergePopup.open()},search:function(){this.pageText=this.searchText,this.$refs.mescroll.refresh()}},computed:{mpOrderList:function(){if(this.orderList[this.status])return this.orderList[this.status].list||[]},storeToken:function(){return this.$store.state.token}},watch:{storeToken:function(t,e){t&&(this.token=t,this.$refs.mescroll.refresh())}}};e.default=d},9066:function(t,e,o){var a=o("fa7b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("4f06").default;i("b3888d56",a,!0,{sourceMap:!1,shadowMode:!1})},"90a4":function(t,e,o){"use strict";o.r(e);var a=o("2277"),i=o.n(a);for(var r in a)"default"!==r&&function(t){o.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"9c7b":function(t,e,o){"use strict";o.r(e);var a=o("6e9f"),i=o.n(a);for(var r in a)"default"!==r&&function(t){o.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"9e28":function(t,e,o){var a=o("0e08");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("4f06").default;i("089e9096",a,!0,{sourceMap:!1,shadowMode:!1})},a645:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return a}));var a={uniCountDown:o("d753").default,nsEmpty:o("0e02").default,nsLogin:o("61d0").default,loadingCover:o("b1ae").default},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"order-container",attrs:{"data-theme":t.themeStyle}},[o("v-uni-view",{staticClass:"cate-search"},[o("v-uni-view",{staticClass:"search-box"},[o("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"50","confirm-type":"search",placeholder:"请输入商品名称/订单编号"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search()}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),o("v-uni-text",{staticClass:"iconfont iconsousuo1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search()}}})],1)],1),t.token?o("v-uni-view",{staticClass:"order-nav"},t._l(t.statusList,(function(e,a){return o("v-uni-view",{key:a,staticClass:"uni-tab-item",attrs:{id:e.id,"data-current":a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ontabtap.apply(void 0,arguments)}}},[o("v-uni-text",{staticClass:"uni-tab-item-title",class:e.status==t.orderStatus?"uni-tab-item-title-active color-base-border  color-base-text":""},[t._v(t._s(e.name))])],1)})),1):t._e(),t.token?o("mescroll-uni",{ref:"mescroll",attrs:{top:"220rpx"},on:{getData:function(e){arguments[0]=e=t.$handleEvent(e),t.getListData.apply(void 0,arguments)}}},[o("template",{attrs:{slot:"list"},slot:"list"},[t.orderList.length>0?o("v-uni-view",{staticClass:"order-list"},t._l(t.orderList,(function(e,a){return o("v-uni-view",{key:a,staticClass:"order-item"},[o("v-uni-view",{staticClass:"order-header",class:{waitpay:"waitpay"==t.orderStatus&&0==e.order_status}},["waitpay"==t.orderStatus&&0==e.order_status?o("v-uni-view",{staticClass:"iconfont",class:-1==t.$util.inArray(e.order_id,t.mergePayOrder)?"iconyuan_checkbox":"iconyuan_checked color-base-text",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.selectOrder(e.order_id,e.pay_money)}}}):t._e(),o("v-uni-text",{staticClass:"font-size-base"},[t._v("订单号："+t._s(e.order_no))]),o("v-uni-text",{staticClass:"status-name color-base-text"},[t._v(t._s(e.order_status_name))])],1),o("v-uni-view",{staticClass:"order-body",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.orderDetail(e)}}},t._l(e.order_goods,(function(e,i){return o("v-uni-view",{key:i,staticClass:"goods-wrap"},[o("v-uni-view",{staticClass:"goods-img"},[o("v-uni-image",{attrs:{src:t.$util.img(e.sku_image,{size:"mid"}),mode:"aspectFill","lazy-load":!0},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.imageError(a,i)}}})],1),o("v-uni-view",{staticClass:"goods-info"},[o("v-uni-view",{staticClass:"pro-info"},[2==e.goods_class?o("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(e.goods_name))]):o("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(e.sku_name))]),e.sku_spec_format?o("v-uni-view",{staticClass:"sku"},[o("v-uni-view",{staticClass:"goods-spec"},[t._l(e.sku_spec_format,(function(o,a){return[t._v(t._s(o.spec_value_name)+" "+t._s(a<e.sku_spec_format.length-1?"; ":""))]}))],2)],1):t._e()],1),o("v-uni-view",{staticClass:"goods-sub-section"},[o("v-uni-text",{staticClass:"goods-price"},[o("v-uni-text",{staticClass:"unit color-base-text font-size-activity-tag"},[t._v(t._s(t.$lang("common.currencySymbol")))]),o("v-uni-text",{staticClass:"color-base-text"},[t._v(t._s(e.price))])],1),o("v-uni-text",{staticClass:"goods-num"},[o("v-uni-text",{staticClass:"iconfont iconclose"}),t._v(t._s(e.num))],1)],1),o("v-uni-view",{staticClass:"goods-action"})],1)],1)})),1),o("v-uni-view",{staticClass:"order-footer"},[o("v-uni-view",{staticClass:"order-base-info"},[o("v-uni-view",{staticClass:"total"},[o("v-uni-text",{staticClass:"font-size-sub"},[t._v("共"+t._s(e.goods_num)+"件商品")]),o("v-uni-text",{staticClass:"align-right font-size-base"},[t._v("实付款："),o("v-uni-text",{staticClass:"font-size-base"},[t._v(t._s(t.$lang("common.currencySymbol"))+t._s(e.pay_money))])],1)],1)],1),e.action.length>0?o("v-uni-view",{staticClass:"order-action"},[0==e.order_status?o("v-uni-view",{staticClass:"order-time",attrs:{id:"action-date"}},[o("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/order/time.png")}}),t._v("剩余时间："),o("uni-count-down",{attrs:{day:e.discountTimeMachine.d,hour:e.discountTimeMachine.h,minute:e.discountTimeMachine.i,second:e.discountTimeMachine.s,color:"#FF4644",splitorColor:"#FF4644"}})],1):t._e(),1==t.evaluateConfig.evaluate_status&&1==e.is_evaluate?o("v-uni-view",{staticClass:"order-box-btn",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.operation("memberOrderEvaluation",e)}}},[0==e.evaluate_status?o("v-uni-text",[t._v("评价")]):1==e.evaluate_status?o("v-uni-text",[t._v("追评")]):t._e()],1):t._e(),t._l(e.action,(function(a,i){return o("v-uni-view",{key:i,staticClass:"order-box-btn",class:{"color-base-border color-base-text":"orderPay"==a.action},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.operation(a.action,e)}}},[t._v(t._s(a.title))])}))],2):0==e.action.length&&1==e.is_evaluate&&1==t.evaluateConfig.evaluate_status?o("v-uni-view",{staticClass:"order-action"},[1==e.is_evaluate?o("v-uni-view",{staticClass:"order-box-btn",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.operation("memberOrderEvaluation",e)}}},[0==e.evaluate_status?o("v-uni-text",[t._v("评价")]):1==e.evaluate_status?o("v-uni-text",[t._v("追评")]):t._e()],1):t._e()],1):o("v-uni-view",{staticClass:"order-action"},[o("v-uni-view",{staticClass:"order-box-btn color-base-border color-base-text",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.orderDetail(e)}}},[t._v("查看详情")])],1)],1)],1)})),1):o("v-uni-view",[o("ns-empty",{attrs:{isIndex:!1,text:t.$lang("emptyTips")}})],1)],1)],2):t._e(),t.mergePayOrder.length?o("v-uni-view",{staticClass:"order-batch-action",class:{"bottom-safe-area":t.isIphoneX}},[o("v-uni-view",{staticClass:"action-btn color-base-text color-base-border",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openChoosePaymentMerge()}}},[t._v("合并付款")])],1):t._e(),o("ns-payment",{ref:"choosePaymentPopup",attrs:{payMoney:t.payMoney},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}}),o("ns-payment",{ref:"choosePaymentMergePopup",attrs:{payMoney:t.payMoneyMerge},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.mergePay()}}}),o("ns-login",{ref:"login"}),o("loading-cover",{ref:"loadingCover"})],1)},r=[]},c4a9:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=uni.getSystemInfoSync().platform,i={name:"UniLoadMore",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{platform:a}},created:function(){}};e.default=i},d753:function(t,e,o){"use strict";o.r(e);var a=o("53bd"),i=o("90a4");for(var r in i)"default"!==r&&function(t){o.d(e,t,(function(){return i[t]}))}(r);o("5ce7");var n,s=o("f0c5"),d=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"aa16a5de",null,!1,a["a"],n);e["default"]=d.exports},e63a:function(t,e,o){"use strict";var a=o("9066"),i=o.n(a);i.a},fa7b:function(t,e,o){var a=o("24fb");e=a(!1),e.push([t.i,".uni-load-more[data-v-17ff8868]{display:flex;flex-direction:row;height:%?80?%;align-items:center;justify-content:center}.uni-load-more__text[data-v-17ff8868]{font-size:%?28?%;color:#999}.uni-load-more__img[data-v-17ff8868]{position:relative;height:24px;width:24px;margin-right:10px}.uni-load-more__img > .load[data-v-17ff8868]{position:absolute}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-17ff8868 .96s ease infinite;animation:load-data-v-17ff8868 .96s ease infinite}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img > .load .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){top:11px;left:0}.uni-load-more__img > .loader-android[data-v-17ff8868]{position:absolute;left:0;top:0;right:0;bottom:0;box-sizing:border-box;border:solid 2px #777;border-radius:50%;border-bottom-color:transparent!important;-webkit-animation:loader-android-data-v-17ff8868 1s 0s linear infinite;animation:loader-android-data-v-17ff8868 1s 0s linear infinite}.load1[data-v-17ff8868],\r\n.load2[data-v-17ff8868],\r\n.load3[data-v-17ff8868]{height:24px;width:24px}.load2[data-v-17ff8868]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-17ff8868]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-animation-delay:80ms;animation-delay:80ms}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(1){-webkit-animation-delay:.16s;animation-delay:.16s}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-animation-delay:.24s;animation-delay:.24s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-animation-delay:.32s;animation-delay:.32s}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(2){-webkit-animation-delay:.4s;animation-delay:.4s}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-animation-delay:.48s;animation-delay:.48s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-animation-delay:.56s;animation-delay:.56s}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(3){-webkit-animation-delay:.64s;animation-delay:.64s}.load1 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){-webkit-animation-delay:.72s;animation-delay:.72s}.load2 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){-webkit-animation-delay:.8s;animation-delay:.8s}.load3 .uni-load-view_wrapper[data-v-17ff8868]:nth-child(4){-webkit-animation-delay:.88s;animation-delay:.88s}@-webkit-keyframes load-data-v-17ff8868{0%{opacity:1}100%{opacity:.2}}@-webkit-keyframes loader-android-data-v-17ff8868{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),t.exports=e},fb18:function(t,e,o){var a=o("4ee2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("4f06").default;i("093379f0",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
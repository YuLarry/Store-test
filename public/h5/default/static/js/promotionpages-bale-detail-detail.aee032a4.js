(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-bale-detail-detail"],{"1a22":function(t,o,i){"use strict";i("a9e3"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={name:"UniCountDown",props:{showDay:{type:Boolean,default:!0},showColon:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},backgroundColorClass:{type:String,default:""},borderColor:{type:String,default:"#000000"},borderColorClass:{type:String,default:""},color:{type:String,default:"#000000"},colorClass:{type:String,default:""},splitorColor:{type:String,default:"#000000"},splitorColorClass:{type:String,default:""},day:{type:[Number,String],default:0},hour:{type:[Number,String],default:0},minute:{type:[Number,String],default:0},second:{type:[Number,String],default:0}},data:function(){return{timer:null,d:"00",h:"00",i:"00",s:"00",leftTime:0,seconds:0}},mounted:function(t){var o=this;this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},watch:{day:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},hour:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},minute:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)},second:function(t){var o=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){o.seconds--,o.seconds<0?o.timeUp():o.countDown()}),1e3)}},beforeDestroy:function(){clearInterval(this.timer)},methods:{toSeconds:function(t,o,i,e){return t=Number(t),o=Number(o),i=Number(i),e=Number(e),60*t*60*24+60*o*60+60*i+e},timeUp:function(){clearInterval(this.timer),this.$emit("timeup")},countDown:function(){var t=this.seconds,o=0,i=0,e=0,s=0;t>0?(o=Math.floor(t/86400),i=Math.floor(t/3600)-24*o,e=Math.floor(t/60)-24*o*60-60*i,s=Math.floor(t)-24*o*60*60-60*i*60-60*e):this.timeUp(),o<10&&(o="0"+o),i<10&&(i="0"+i),e<10&&(e="0"+e),s<10&&(s="0"+s),this.d=o,this.h=i,this.i=e,this.s=s}}};o.default=e},"1b64":function(t,o,i){var e=i("76a1");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("83a83b5e",e,!0,{sourceMap:!1,shadowMode:!1})},2878:function(t,o,i){var e=i("24fb");o=e(!1),o.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-countdown[data-v-aa16a5de]{padding:%?2?% 0;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-countdown__splitor[data-v-aa16a5de]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:%?44?%;padding:0 %?5?%;font-size:%?24?%}.uni-countdown__splitor.day[data-v-aa16a5de]{line-height:%?50?%}.uni-countdown__number[data-v-aa16a5de]{line-height:%?44?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?44?%;border-radius:%?6?%;margin:0 %?5?%;font-size:%?28?%;border:1px solid #000;font-size:%?24?%;padding:0 %?10?%}',""]),t.exports=o},"4f18":function(t,o,i){"use strict";var e=i("1b64"),s=i.n(e);s.a},"570b":function(t,o,i){"use strict";var e=i("98b3"),s=i.n(e);s.a},"5ba4":function(t,o,i){"use strict";i.r(o);var e=i("a95f"),s=i("8782");for(var a in s)"default"!==a&&function(t){i.d(o,t,(function(){return s[t]}))}(a);i("4f18"),i("72a2");var n,r=i("f0c5"),d=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,"13105982",null,!1,e["a"],n);o["default"]=d.exports},"72a2":function(t,o,i){"use strict";var e=i("ec8a"),s=i.n(e);s.a},"76a1":function(t,o,i){var e=i("24fb");o=e(!1),o.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.go-top[data-v-13105982]{position:fixed;right:%?30?%;bottom:%?220?%;z-index:1;background:#fff;padding:%?10?%;border:1px solid;border-radius:20px;width:%?57?%;height:%?270?%;text-align:center;font-size:%?28?%}.go-top .goods-share[data-v-13105982],\r\n.go-top .collection[data-v-13105982]{margin-bottom:%?10?%;font-size:%?28?%}.go-top .icontop[data-v-13105982]{font-size:%?32?%}.container[data-v-13105982]{width:100vw;height:100vh}.activity-head[data-v-13105982]{padding:0 %?40?% %?40?%;padding-top:%?40?%;height:%?160?%}.activity-head .activity-text[data-v-13105982]{color:#fff;line-height:1}.activity-head .time[data-v-13105982]{color:#fff;font-size:%?24?%;margin-top:%?6?%}.activity-head .no-start[data-v-13105982]{color:#fff;font-size:%?30?%;margin-top:%?16?%}.goods-wrap[data-v-13105982]{background-color:#fff;margin:0 %?20?%;margin-top:%?-80?%;border-radius:%?8?%}.goods-wrap .goods-item[data-v-13105982]{padding:%?30?% 0;display:-webkit-box;display:-webkit-flex;display:flex;margin:0 %?30?%;border-bottom:1px solid #f8f8f8}.goods-wrap .goods-item[data-v-13105982]:last-child{border-bottom:0}.goods-wrap .goods-item .goods-image[data-v-13105982]{width:%?200?%;height:%?200?%;overflow:hidden;margin-right:%?20?%;border-radius:%?10?%}.goods-wrap .goods-item .goods-image uni-image[data-v-13105982]{width:inherit}.goods-wrap .goods-item .goods-info[data-v-13105982]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative}.goods-wrap .goods-item .goods-info .name[data-v-13105982]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;font-size:%?28?%;line-height:%?36?%;font-weight:600}.goods-wrap .goods-item .goods-info .introduction[data-v-13105982]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;font-size:%?28?%;color:#999;line-height:%?28?%;margin-top:%?10?%;height:%?28?%}.goods-wrap .goods-item .goods-bottom[data-v-13105982]{display:-webkit-box;display:-webkit-flex;display:flex;position:absolute;bottom:0;left:0;width:100%}.goods-wrap .goods-item .goods-bottom > uni-view[data-v-13105982]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.goods-wrap .goods-item .goods-bottom .price[data-v-13105982]{line-height:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;font-weight:700}.goods-wrap .goods-item .goods-bottom .price .unit[data-v-13105982]{font-size:%?24?%}.goods-wrap .goods-item .goods-bottom .num[data-v-13105982]{line-height:1}.goods-wrap .goods-item .goods-bottom .num uni-view[data-v-13105982]{line-height:1}.goods-wrap .goods-item .goods-bottom .num .num-wrap[data-v-13105982]{text-align:right}.goods-wrap .goods-item .goods-bottom .num .goods-num[data-v-13105982]{width:%?60?%;padding:0 %?10?%;display:inline-block;text-align:center;-webkit-transform:translateY(%?-4?%);transform:translateY(%?-4?%)}.goods-wrap .goods-item .goods-bottom .num .iconjianshao[data-v-13105982]{font-size:%?40?%;color:#ccc}.goods-wrap .goods-item .goods-bottom .num .iconadd-fill[data-v-13105982]{font-size:%?40?%}.goods-wrap .goods-item .goods-bottom .num .select[data-v-13105982]{color:#fff;font-size:%?24?%;padding:0 %?20?%;height:%?40?%;line-height:%?40?%;border-radius:%?36?%;display:inline-block}.footer-wrap[data-v-13105982]{position:fixed;width:100vw;bottom:0;padding:%?20?%;background:#fff;box-shadow:0 -2px 10px 0 rgba(125,126,128,.16);display:-webkit-box;display:-webkit-flex;display:flex;box-sizing:border-box;z-index:10}.footer-wrap > uni-view[data-v-13105982]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.footer-wrap .left[data-v-13105982]{display:-webkit-box;display:-webkit-flex;display:flex}.footer-wrap .left .cart-wrap[data-v-13105982]{width:%?80?%;height:%?80?%;border-radius:50%;background-color:#ddd;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;margin-right:%?30?%}.footer-wrap .left .cart-wrap .iconfont[data-v-13105982]{font-size:%?40?%;color:#999}.footer-wrap .left .cart-wrap .num[data-v-13105982]{position:absolute;right:0;top:0;font-size:%?20?%;-webkit-transform:translateX(%?16?%);transform:translateX(%?16?%);padding:%?4?% %?10?%;line-height:1;color:#fff;border-radius:%?20?%}.footer-wrap .left .data[data-v-13105982]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.footer-wrap .left .data .price[data-v-13105982]{line-height:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;font-weight:600;font-size:%?32?%;margin-top:%?10?%}.footer-wrap .left .data .price .unit[data-v-13105982]{font-size:%?24?%}.footer-wrap .left .data .desc[data-v-13105982]{margin-top:%?10?%;font-size:%?28?%;color:#999;line-height:1}.footer-wrap .right[data-v-13105982]{text-align:right;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.footer-wrap .right .sub-btn[data-v-13105982]{height:%?70?%;line-height:%?70?%;color:#fff;text-align:center;width:%?200?%;border-radius:%?50?%;font-size:%?28?%}.footer-wrap .right .sub-btn.disabled[data-v-13105982]{background-color:#ccc;color:#eee}.cart-shade[data-v-13105982]{position:fixed;width:100vw;height:100vh;z-index:4;left:0;top:0}.cart-popup[data-v-13105982]{position:fixed;width:100vw;height:0;background-color:#fff;bottom:%?120?%;background:#fff;box-shadow:0 -2px 10px 0 rgba(125,126,128,.16);box-sizing:initial;z-index:5;-webkit-transition:all .3s;transition:all .3s}.cart-popup.show[data-v-13105982]{height:45vh}.cart-popup .header[data-v-13105982]{width:100%;line-height:1;display:-webkit-box;display:-webkit-flex;display:flex;height:%?80?%;background-color:#eee;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.cart-popup .header > uni-view[data-v-13105982]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:0 %?30?%;box-sizing:border-box;font-size:%?24?%}.cart-popup .header .right[data-v-13105982]{text-align:right}.cart-popup .header .right .iconfont[data-v-13105982]{font-size:%?24?%;margin-right:%?6?%}.cart-popup .cart-goods-wrap[data-v-13105982]{width:100%;height:calc(100% - %?80?%);overflow-y:scroll}.cart-popup .cart-goods-wrap .goods-item[data-v-13105982]{padding:%?20?% 0;margin:0 %?30?%;border-bottom:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.cart-popup .cart-goods-wrap .goods-item[data-v-13105982]:last-child{border-bottom:none}.cart-popup .cart-goods-wrap .goods-item .info[data-v-13105982]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.cart-popup .cart-goods-wrap .goods-item .info .goods-name[data-v-13105982]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;font-size:%?28?%;line-height:%?36?%;font-weight:600}.cart-popup .cart-goods-wrap .goods-item .info .sku-name[data-v-13105982]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;font-size:%?28?%;line-height:%?36?%;color:#999}.cart-popup .cart-goods-wrap .goods-item .price[data-v-13105982]{font-weight:700;padding:0 %?40?%}.cart-popup .cart-goods-wrap .goods-item .price .unit[data-v-13105982]{font-size:%?24?%}.cart-popup .cart-goods-wrap .goods-item .num .goods-num[data-v-13105982]{width:%?60?%;padding:0 %?10?%;display:inline-block;text-align:center;-webkit-transform:translateY(%?-4?%);transform:translateY(%?-4?%)}.cart-popup .cart-goods-wrap .goods-item .num .iconjianshao[data-v-13105982]{font-size:%?40?%;color:#ccc}.cart-popup .cart-goods-wrap .goods-item .num .iconadd-fill[data-v-13105982]{font-size:%?40?%}',""]),t.exports=o},8782:function(t,o,i){"use strict";i.r(o);var e=i("f4f2"),s=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(o,t,(function(){return e[t]}))}(a);o["default"]=s.a},"941b":function(t,o,i){"use strict";i.r(o);var e=i("1a22"),s=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(o,t,(function(){return e[t]}))}(a);o["default"]=s.a},"98b3":function(t,o,i){var e=i("2878");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("125a9e0f",e,!0,{sourceMap:!1,shadowMode:!1})},"9fb1":function(t,o,i){"use strict";i.r(o);var e=i("e5db"),s=i("941b");for(var a in s)"default"!==a&&function(t){i.d(o,t,(function(){return s[t]}))}(a);i("570b");var n,r=i("f0c5"),d=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,"aa16a5de",null,!1,e["a"],n);o["default"]=d.exports},a95f:function(t,o,i){"use strict";i.d(o,"b",(function(){return s})),i.d(o,"c",(function(){return a})),i.d(o,"a",(function(){return e}));var e={uniCountDown:i("9fb1").default,nsGoodsSku:i("88b6").default,nsLogin:i("2bc6").default,loadingCover:i("4c1d").default},s=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",{staticClass:"container",attrs:{"data-theme":t.themeStyle}},[t.info?i("mescroll-uni",{ref:"mescroll",attrs:{top:"0"},on:{getData:function(o){arguments[0]=o=t.$handleEvent(o),t.getGoodsList.apply(void 0,arguments)}}},[i("template",{attrs:{slot:"list"},slot:"list"},[i("v-uni-view",{staticClass:"activity-head color-base-bg"},[i("v-uni-view",{staticClass:"activity-text font-size-toolbar"},[t._v("以下商品"+t._s(t.info.price)+"元任选"+t._s(t.info.num)+"件")]),0==t.info.status?i("v-uni-view",{staticClass:"no-start"},[t._v("活动未开始")]):t._e(),t.timeMachine?i("v-uni-view",{staticClass:"time"},[t._v("距离结束还剩"),i("uni-count-down",{attrs:{day:t.timeMachine.d,hour:t.timeMachine.h,minute:t.timeMachine.i,second:t.timeMachine.s,color:"#fff",splitorColor:"#fff !important",backgroundColor:"none","border-color":"transparent"}})],1):t._e()],1),i("v-uni-view",{staticClass:"goods-wrap"},t._l(t.goodsList,(function(o,e){return i("v-uni-view",{key:e,staticClass:"goods-item"},[i("v-uni-view",{staticClass:"goods-image",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:o.sku_id})}}},[i("v-uni-image",{attrs:{src:t.$util.img(o.sku_image,{size:"mid"}),mode:"widthFix"},on:{error:function(o){arguments[0]=o=t.$handleEvent(o),t.imageError(e)}}})],1),i("v-uni-view",{staticClass:"goods-info"},[i("v-uni-view",{staticClass:"name",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:o.sku_id})}}},[t._v(t._s(o.goods_name))]),i("v-uni-view",{staticClass:"introduction"},[t._v(t._s(o.introduction))]),i("v-uni-view",{staticClass:"goods-bottom"},[i("v-uni-view",{staticClass:"price color-base-text font-size-toolbar"},[i("v-uni-text",{staticClass:"unit font-size-tag"},[t._v(t._s(t.$lang("common.currencySymbol")))]),t._v(t._s(o.price))],1),i("v-uni-view",{staticClass:"num"},[void 0==t.cart["goods_"+o.goods_id]?[""==o.goods_spec_format?i("v-uni-view",{staticClass:"num-wrap"},[i("v-uni-text",{staticClass:"iconfont iconadd-fill color-base-text",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.singleSkuPlus(o)}}})],1):i("v-uni-view",{staticClass:"num-wrap"},[i("v-uni-text",{staticClass:"select color-base-bg",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.manySkuSelect(o)}}},[t._v("选规格")])],1)]:[""==o.goods_spec_format?i("v-uni-view",{staticClass:"num-wrap"},[i("v-uni-text",{staticClass:"iconfont iconjianshao",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.singleSkuReduce(o)}}}),i("v-uni-text",{staticClass:"goods-num"},[t._v(t._s(t.cart["goods_"+o.goods_id].num))]),i("v-uni-text",{staticClass:"iconfont iconadd-fill color-base-text",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.singleSkuPlus(o)}}})],1):i("v-uni-view",{staticClass:"num-wrap",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.manySkuSelect(o)}}},[i("v-uni-text",{staticClass:"iconfont iconjianshao"}),i("v-uni-text",{staticClass:"goods-num"},[t._v(t._s(t.cart["goods_"+o.goods_id].num))]),i("v-uni-text",{staticClass:"iconfont iconadd-fill color-base-text"})],1)]],2)],1)],1)],1)})),1)],1)],2):t._e(),t.info?[i("v-uni-view",{staticClass:"footer-wrap"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",{staticClass:"cart-wrap",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.openCartPopup.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont iconcart-on"}),t.totalNum?i("v-uni-text",{staticClass:"num color-base-bg"},[t._v(t._s(t.totalNum))]):t._e()],1),i("v-uni-view",{staticClass:"data"},[i("v-uni-view",{staticClass:"price color-base-text"},[i("v-uni-text",{staticClass:"unit"},[t._v(t._s(t.$lang("common.currencySymbol")))]),t._v(t._s(t._f("moneyFormat")(t.totalPrice)))],1),i("v-uni-view",{staticClass:"desc"},[t._v(t._s(t.info.price)+"元任选"+t._s(t.info.num)+"件")])],1)],1),i("v-uni-view",{staticClass:"right"},[t.totalNum>0&&t.totalNum%t.info.num==0&&0!=t.info.status?i("v-uni-view",{staticClass:"sub-btn color-base-bg",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.submit.apply(void 0,arguments)}}},[t._v("立即下单")]):i("v-uni-view",{staticClass:"sub-btn disabled"},[t._v("立即下单")])],1)],1),t.cartShow?i("v-uni-view",{staticClass:"cart-shade",staticStyle:{"background-color":"rgba(0,0,0,.4)"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.closeCartPopup.apply(void 0,arguments)}}}):t._e(),t.skuList.length?i("v-uni-view",{staticClass:"cart-popup",class:{show:t.cartShow}},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",[t._v("购物车")])],1),i("v-uni-view",{staticClass:"right",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.clearCart.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont iconicon7"}),i("v-uni-text",[t._v("清空购物车")])],1)],1),i("v-uni-scroll-view",{staticClass:"cart-goods-wrap",attrs:{"scroll-y":!0}},t._l(t.skuList,(function(o,e){return i("v-uni-view",{key:e,staticClass:"goods-item"},[i("v-uni-view",{staticClass:"info"},[i("v-uni-text",{staticClass:"goods-name"},[t._v(t._s(o.goods_name))]),o.goods_name!=o.sku_name?i("v-uni-text",{staticClass:"sku-name"},[t._v(t._s(t._f("sku")(o)))]):t._e()],1),i("v-uni-view",{staticClass:"price color-base-text"},[i("v-uni-text",{staticClass:"unit"},[t._v(t._s(t.$lang("common.currencySymbol")))]),i("v-uni-text",[t._v(t._s(o.price))])],1),i("v-uni-view",{staticClass:"num"},[i("v-uni-text",{staticClass:"iconfont iconjianshao",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.singleSkuReduce(o)}}}),i("v-uni-text",{staticClass:"goods-num"},[t._v(t._s(o.num))]),i("v-uni-text",{staticClass:"iconfont iconadd-fill color-base-text",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.singleSkuPlus(o)}}})],1)],1)})),1)],1):t._e()]:t._e(),t.goodsSkuDetail?i("ns-goods-sku",{ref:"goodsSku",attrs:{"goods-detail":t.goodsSkuDetail},on:{refresh:function(o){arguments[0]=o=t.$handleEvent(o),t.refreshGoodsSkuDetail.apply(void 0,arguments)},confirm:function(o){arguments[0]=o=t.$handleEvent(o),t.joinCart.apply(void 0,arguments)}}}):t._e(),i("ns-login",{ref:"login"}),i("loading-cover",{ref:"loadingCover"})],2)},a=[]},e5db:function(t,o,i){"use strict";var e;i.d(o,"b",(function(){return s})),i.d(o,"c",(function(){return a})),i.d(o,"a",(function(){return e}));var s=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",{staticClass:"uni-countdown"},[t.showDay&&t.d>0?i("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.d))]):t._e(),t.showDay&&t.d>0?i("v-uni-view",{staticClass:"uni-countdown__splitor day",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s((t.showColon,"天")))]):t._e(),i("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.h))]),i("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"时"))]),i("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.i))]),i("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"分"))]),i("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.s))]),t.showColon?t._e():i("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v("秒")])],1)},a=[]},e6ca:function(t,o,i){var e=i("24fb");o=e(!1),o.push([t.i,".activity-head[data-v-13105982] .uni-countdown__number{line-height:%?36?%;height:%?36?%;padding:0 %?6?%;font-size:%?24?%}.activity-head[data-v-13105982] .uni-countdown__splitor{line-height:%?40?%}[data-v-13105982] .uni-popup__wrapper.uni-center{background:rgba(0,0,0,.6)}[data-v-13105982] .uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box{border-radius:10px;background:rgba($color:#000000,$alpha:0)}[data-v-13105982] .uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box{overflow-y:visible;background:unset}[data-v-13105982] .sku-layer .uni-popup__wrapper-box{overflow-y:initial!important;max-height:none!important}",""]),t.exports=o},e72d:function(t,o,i){"use strict";i("99af"),i("4160"),i("c975"),i("b680"),i("b64b"),i("acd8"),i("ac1f"),i("5319"),i("1276"),i("159b"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{info:null,timeMachine:null,page:1,goodsList:[],cart:{},totalPrice:0,totalNum:0,goodsSkuDetail:null,skuList:[],cartShow:!1,isSub:!1,token:null,memberId:0}},onLoad:function(t){var o=this;if(t.id&&(this.id=t.id),t.scene){var i=decodeURIComponent(t.scene);i=i.split("&"),i.length&&i.forEach((function(t){-1!=t.indexOf("id")&&(o.id=t.split("-")[1])}))}if(t.source_member&&uni.setStorageSync("source_member",t.source_member),t.scene){i=decodeURIComponent(t.scene);i=i.split("&"),i.length&&i.forEach((function(t){-1!=t.indexOf("sku_id")&&(o.skuId=t.split("-")[1]),-1!=t.indexOf("m")&&uni.setStorageSync("source_member",t.split("-")[1]),-1!=t.indexOf("is_test")&&uni.setStorageSync("is_test",1)}))}this.getBaleInfo(),this.getMemberId()},onShow:function(){uni.getStorageSync("token")&&uni.getStorageSync("source_member")&&this.$util.onSourceMember(uni.getStorageSync("source_member"))},methods:{getBaleInfo:function(){var t=this;this.$api.sendRequest({url:"/bale/api/bale/detail",data:{bale_id:this.id},success:function(o){0==o.code?(t.info=o.data,t.info?1==t.info.status?t.timeMachine=t.$util.countDown(t.info.end_time-o.timestamp):2==t.info.status&&(t.$util.showToast({title:"该活动已关闭"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index")}),1500)):(t.$util.showToast({title:"未找到活动"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index")}),1500))):(t.$util.showToast({title:"未找到活动"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index")}),1500))},fail:function(o){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},getMemberId:function(){var t=this;this.$api.sendRequest({url:"/api/member/id",success:function(o){o.code>=0&&(t.memberId=o.data)}})},getGoodsList:function(t){var o=this;this.$api.sendRequest({url:"/api/goodssku/page",data:{page:t.num,page_size:t.size,goods_id_arr:this.info.goods_ids},success:function(i){o.$refs.loadingCover&&o.$refs.loadingCover.hide();var e=[],s=i.message;0==i.code&&i.data?(0==i.data.page_count&&(o.emptyShow=!0),e=i.data.list):o.$util.showToast({title:s}),t.endSuccess(e.length),1==t.num&&(o.goodsList=[]),o.goodsList=o.goodsList.concat(e),o.$refs.loadingCover&&o.$refs.loadingCover.hide()},fail:function(i){t.endErr(),o.$refs.loadingCover&&o.$refs.loadingCover.hide()}})},imageError:function(t){this.goodsList[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},singleSkuPlus:function(t){if(void 0!=this.cart["goods_"+t.goods_id]){var o=this.cart["goods_"+t.goods_id].num;if(o+1>t.stock)return void this.$util.showToast({title:"库存不足"});this.cart["goods_"+t.goods_id].num+=1,this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num+=1}else this.cart["goods_"+t.goods_id]={num:1},this.cart["goods_"+t.goods_id]["sku_"+t.sku_id]=t,this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num=1;this.totalNum+=1,this.cart=Object.assign({},this.cart)},singleSkuReduce:function(t){if(void 0!=this.cart["goods_"+t.goods_id]){var o=this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num;this.cart["goods_"+t.goods_id].num-=1,this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num-=1,this.totalNum-=1,o-1==0&&(delete this.cart["goods_"+t.goods_id]["sku_"+t.sku_id],1==Object.keys(this.cart["goods_"+t.goods_id]).length&&delete this.cart["goods_"+t.goods_id]),this.cart=Object.assign({},this.cart)}},manySkuSelect:function(t){var o=this;this.$api.sendRequest({url:"/api/goodssku/detail",data:{sku_id:t.sku_id},success:function(t){0==t.code&&null!=t.data.goods_sku_detail&&(o.goodsSkuDetail=t.data.goods_sku_detail,o.goodsSkuDetail.bale_id=o.id,o.goodsSkuDetail.sku_spec_format&&(o.goodsSkuDetail.sku_spec_format=JSON.parse(o.goodsSkuDetail.sku_spec_format)),o.goodsSkuDetail.goods_spec_format&&(o.goodsSkuDetail.goods_spec_format=JSON.parse(o.goodsSkuDetail.goods_spec_format)),o.goodsSkuDetail.sku_images=o.goodsSkuDetail.sku_images.split(","),o.goodsSkuDetail.unit=o.goodsSkuDetail.unit||"件",o.goodsSkuDetail.show_price=o.goodsSkuDetail.price,o.goodsSkuDetail.activity_sku_ids=o.info.sku_ids.split(","),setTimeout((function(){o.$refs.goodsSku.show("bale",(function(){}))}),100))}})},refreshGoodsSkuDetail:function(t){Object.assign(this.goodsSkuDetail,t)},joinCart:function(t){void 0!=this.cart["goods_"+t.goods_id]?void 0!=this.cart["goods_"+t.goods_id]["sku_"+t.sku_id]?(this.cart["goods_"+t.goods_id].num+=t.num-this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num,this.totalNum+=t.num-this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num,this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num=t.num):(this.cart["goods_"+t.goods_id]["sku_"+t.sku_id]=t.detail,this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num=t.num,this.cart["goods_"+t.goods_id].num+=t.num,this.totalNum+=t.num):(this.cart["goods_"+t.goods_id]={num:t.num},this.cart["goods_"+t.goods_id]["sku_"+t.sku_id]=t.detail,this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num=t.num,this.totalNum+=t.num),this.cart=Object.assign({},this.cart),this.$refs.goodsSku.hide()},openCartPopup:function(){this.skuList.length&&(this.cartShow=!this.cartShow)},closeCartPopup:function(){this.cartShow=!1},clearCart:function(){this.cart={},this.totalNum=0,this.closeCartPopup()},submit:function(){var t=this;if(uni.getStorageSync("token")){if(this.isSub)return;this.isSub=!0;var o=[];this.skuList.forEach((function(t){o.push({sku_id:t.sku_id,num:t.num})})),uni.setStorage({key:"baleOrderCreateData",data:{bale_id:this.id,sku_list_json:JSON.stringify(o)},success:function(){t.isSub=!1,t.$util.redirectTo("/promotionpages/bale/payment/payment")}})}else setTimeout((function(){t.$refs.login.open("/promotionpages/bale/detail/detail?id="+t.id)}))}},filters:{moneyFormat:function(t){return parseFloat(t).toFixed(2)},sku:function(t){var o="";return t&&(o=t.sku_name.replace(t.goods_name,"")),o}},watch:{cart:{deep:!0,handler:function(t,o){var i=[],e=1;for(var s in this.cart){var a=this.cart[s];for(var n in a)if(-1==n.indexOf("num")){var r=a[n];r.start=e,r.end=e+r.num,i.push(a[n]),e+=r.num}}this.skuList=i}},totalNum:function(t){if(t>0)if(t%this.info.num==0)this.totalPrice=this.info.price*(t/this.info.num);else{for(var o=Math.floor(t/this.info.num),i=parseFloat(o*this.info.price),e=o*this.info.num,s=0;s<t%this.info.num;s++){e+=1;for(var a=0;a<this.skuList.length;a++){var n=this.skuList[a];if(e>=n.start&&e<n.end){i+=parseFloat(n.price);break}}}this.totalPrice=i}else this.totalPrice=0}},onShareAppMessage:function(){var t=this.$util.getCurrentShareRoute(this.memberId),o=t.path;return{title:"这些商品"+this.info.price+"元任选"+this.info.num+"件",imageUrl:"",path:o,success:function(t){},fail:function(t){}}}};o.default=e},ec8a:function(t,o,i){var e=i("e6ca");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("052ab710",e,!0,{sourceMap:!1,shadowMode:!1})},f4f2:function(t,o,i){"use strict";var e=i("4ea4");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=e(i("d7b6")),a=e(i("e72d")),n=e(i("f97f")),r=e(i("88b6")),d=e(i("b6ac")),l={components:{uniPopup:s.default,nsShowToast:n.default,nsGoodsSku:r.default},mixins:[a.default,d.default]};o.default=l}}]);
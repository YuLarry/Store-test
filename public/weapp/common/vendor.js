(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/vendor"],{"01e1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"01e8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"优惠券领取"};t.lang=o},"0768":function(e,t,i){function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(t,i){e.exports=i(t)}(window,(function(e,t){function i(t,i,o){e.WeixinJSBridge?WeixinJSBridge.invoke(t,s(i),(function(e){n(t,e,o)})):u(t,o)}function r(t,i,o){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){o&&o.trigger&&o.trigger(e),n(t,e,i)})):u(t,o||i)}function s(e){return(e=e||{}).appId=P.appId,e.verifyAppId=P.appId,e.verifySignType="sha1",e.verifyTimestamp=P.timestamp+"",e.verifyNonceStr=P.nonceStr,e.verifySignature=P.signature,e}function a(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function n(e,t,i){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var o=t.errMsg;o||(o=t.err_msg,delete t.err_msg,o=function(e,t){var i=e,o=p[i];o&&(i=o);var r="ok";if(t){var s=t.indexOf(":");"confirm"==(r=t.substring(s+1))&&(r="ok"),"failed"==r&&(r="fail"),-1!=r.indexOf("failed_")&&(r=r.substring(7)),-1!=r.indexOf("fail_")&&(r=r.substring(5)),"access denied"!=(r=(r=r.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=r||(r="permission denied"),"config"==i&&"function not exist"==r&&(r="ok"),""==r&&(r="fail")}return i+":"+r}(e,o),t.errMsg=o),(i=i||{})._complete&&(i._complete(t),delete i._complete),o=t.errMsg||"",P.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t));var r=o.indexOf(":");switch(o.substring(r+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function c(e){if(e){for(var t=0,i=e.length;t<i;++t){var o=e[t],r=f[o];r&&(e[t]=r)}return e}}function u(e,t){if(!(!P.debug||t&&t.isInnerInvoke)){var i=p[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function l(){return(new Date).getTime()}function d(t){D&&(e.WeixinJSBridge?t():g.addEventListener&&g.addEventListener("WeixinJSBridgeReady",t,!1))}if(!e.jWeixin){var h,f={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},p=function(){var e={};for(var t in f)e[f[t]]=t;return e}(),g=e.document,m=g.title,v=navigator.userAgent.toLowerCase(),_=navigator.platform.toLowerCase(),y=!(!_.match("mac")&&!_.match("win")),b=-1!=v.indexOf("wxdebugger"),D=-1!=v.indexOf("micromessenger"),S=-1!=v.indexOf("android"),w=-1!=v.indexOf("iphone")||-1!=v.indexOf("ipad"),k=(A=v.match(/micromessenger\/(\d+\.\d+\.\d+)/)||v.match(/micromessenger\/(\d+\.\d+)/))?A[1]:"",C={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},$={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:w?1:S?2:-1,clientVersion:k,url:encodeURIComponent(location.href)},P={},T={_completes:[]},x={state:0,data:{}};d((function(){C.initEndTime=l()}));var I=!1,O=[],j=(h={config:function(t){u("config",P=t);var o=!1!==P.check;d((function(){if(o)i(f.config,{verifyJsApiList:c(P.jsApiList)},function(){T._complete=function(e){C.preVerifyEndTime=l(),x.state=1,x.data=e},T.success=function(e){$.isPreVerifyOk=0},T.fail=function(e){T._fail?T._fail(e):x.state=-1};var e=T._completes;return e.push((function(){!function(e){if(!(y||b||P.debug||k<"6.0.2"||$.systemType<0)){var t=new Image;$.appId=P.appId,$.initTime=C.initEndTime-C.initStartTime,$.preVerifyTime=C.preVerifyEndTime-C.preVerifyStartTime,j.getNetworkType({isInnerInvoke:!0,success:function(e){$.networkType=e.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+$.version+"&o="+$.isPreVerifyOk+"&s="+$.systemType+"&c="+$.clientVersion+"&a="+$.appId+"&n="+$.networkType+"&i="+$.initTime+"&p="+$.preVerifyTime+"&u="+$.url;t.src=i}})}}()})),T.complete=function(t){for(var i=0,o=e.length;i<o;++i)e[i]();T._completes=[]},T}()),C.preVerifyStartTime=l();else{x.state=1;for(var e=T._completes,t=0,r=e.length;t<r;++t)e[t]();T._completes=[]}})),j.invoke||(j.invoke=function(t,i,o){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,s(i),o)},j.on=function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)})},ready:function(e){0!=x.state?e():(T._completes.push(e),!D&&P.debug&&e())},error:function(e){k<"6.0.2"||(-1==x.state?e(x.data):T._fail=e)},checkJsApi:function(e){i("checkJsApi",{jsApiList:c(e.jsApiList)},(e._complete=function(e){if(S){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var i in t){var o=p[i];o&&(t[o]=t[i],delete t[i])}return e}(e)},e))},onMenuShareTimeline:function(e){r(f.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:e.title||m,desc:e.title||m,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){r(f.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?i("sendAppMessage",{title:e.title||m,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):i("sendAppMessage",{title:e.title||m,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){r(f.onMenuShareQQ,{complete:function(){i("shareQQ",{title:e.title||m,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){r(f.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:e.title||m,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){r(f.onMenuShareQZone,{complete:function(){i("shareQZone",{title:e.title||m,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){i("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){i("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){i("startRecord",{},e)},stopRecord:function(e){i("stopRecord",{},e)},onVoiceRecordEnd:function(e){r("onVoiceRecordEnd",e)},playVoice:function(e){i("playVoice",{localId:e.localId},e)},pauseVoice:function(e){i("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){i("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){r("onVoicePlayEnd",e)},uploadVoice:function(e){i("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){i("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){i("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){i("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(S){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){i(f.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){i("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){i("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===I?(I=!0,i("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(I=!1,0<O.length){var t=O.shift();wx.getLocalImgData(t)}},e))):O.push(e)},getNetworkType:function(e){i("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var o=t.indexOf(":"),r=t.substring(o+1);switch(r){case"wifi":case"edge":case"wwan":e.networkType=r;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},o(h,"getLocation",(function(e){i(f.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))})),o(h,"hideOptionMenu",(function(e){i("hideOptionMenu",{},e)})),o(h,"showOptionMenu",(function(e){i("showOptionMenu",{},e)})),o(h,"closeWindow",(function(e){i("closeWindow",{},e=e||{})})),o(h,"hideMenuItems",(function(e){i("hideMenuItems",{menuList:e.menuList},e)})),o(h,"showMenuItems",(function(e){i("showMenuItems",{menuList:e.menuList},e)})),o(h,"hideAllNonBaseMenuItem",(function(e){i("hideAllNonBaseMenuItem",{},e)})),o(h,"showAllNonBaseMenuItem",(function(e){i("showAllNonBaseMenuItem",{},e)})),o(h,"scanQRCode",(function(e){i("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(w){var t=e.resultStr;if(t){var i=JSON.parse(t);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))})),o(h,"openAddress",(function(e){i(f.openAddress,{},(e._complete=function(e){var t;(t=e).postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,e=t},e))})),o(h,"openProductSpecificView",(function(e){i(f.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)})),o(h,"addCard",(function(e){for(var t=e.cardList,o=[],r=0,s=t.length;r<s;++r){var a=t[r],n={card_id:a.cardId,card_ext:a.cardExt};o.push(n)}i(f.addCard,{card_list:o},(e._complete=function(e){var t=e.card_list;if(t){for(var i=0,o=(t=JSON.parse(t)).length;i<o;++i){var r=t[i];r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ}e.cardList=t,delete e.card_list}},e))})),o(h,"chooseCard",(function(e){i("chooseCard",{app_id:P.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),o(h,"openCard",(function(e){for(var t=e.cardList,o=[],r=0,s=t.length;r<s;++r){var a=t[r],n={card_id:a.cardId,code:a.code};o.push(n)}i(f.openCard,{card_list:o},e)})),o(h,"consumeAndShareCard",(function(e){i(f.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)})),o(h,"chooseWXPay",(function(e){i(f.chooseWXPay,a(e),e)})),o(h,"openEnterpriseRedPacket",(function(e){i(f.openEnterpriseRedPacket,a(e),e)})),o(h,"startSearchBeacons",(function(e){i(f.startSearchBeacons,{ticket:e.ticket},e)})),o(h,"stopSearchBeacons",(function(e){i(f.stopSearchBeacons,{},e)})),o(h,"onSearchBeacons",(function(e){r(f.onSearchBeacons,e)})),o(h,"openEnterpriseChat",(function(e){i("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)})),o(h,"launchMiniProgram",(function(e){i("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?t+"?"+i:t}}(e.path),envVersion:e.envVersion},e)})),o(h,"miniProgram",{navigateBack:function(e){e=e||{},d((function(){i("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){d((function(){i("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){d((function(){i("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){d((function(){i("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){d((function(){i("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){d((function(){i("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){d((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}),h),E=1,M={};return g.addEventListener("error",(function(e){if(!S){var t=e.target,i=t.tagName,o=t.src;if(("IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i)&&-1!=o.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var r=t["wx-id"];if(r||(r=E++,t["wx-id"]=r),M[r])return;M[r]=!0,wx.ready((function(){wx.getLocalImgData({localId:o,success:function(e){t.src=e.localData}})}))}}}),!0),g.addEventListener("load",(function(e){if(!S){var t=e.target,i=t.tagName;if(t.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var o=t["wx-id"];o&&(M[o]=!1)}}}),!0),t&&(e.wx=e.jWeixin=j),j}var A}))},"078a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"099b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"申请退款"};t.lang=o},"09e9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"组合套餐"};t.lang=o},"0bf9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"拼团分享"};t.lang=o},"0ca0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"品牌专区"};t.lang=o},"0caa":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"0e52":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={emjoyList:{"[emjoy_01]":"public/static/img/emjoy/emjoy_01.gif","[emjoy_02]":"public/static/img/emjoy/emjoy_02.gif","[emjoy_03]":"public/static/img/emjoy/emjoy_03.gif","[emjoy_04]":"public/static/img/emjoy/emjoy_04.gif","[emjoy_05]":"public/static/img/emjoy/emjoy_05.gif","[emjoy_06]":"public/static/img/emjoy/emjoy_06.gif","[emjoy_07]":"public/static/img/emjoy/emjoy_07.gif","[emjoy_08]":"public/static/img/emjoy/emjoy_08.gif","[emjoy_09]":"public/static/img/emjoy/emjoy_09.gif","[emjoy_10]":"public/static/img/emjoy/emjoy_10.gif","[emjoy_11]":"public/static/img/emjoy/emjoy_11.gif","[emjoy_12]":"public/static/img/emjoy/emjoy_12.gif","[emjoy_13]":"public/static/img/emjoy/emjoy_13.gif","[emjoy_14]":"public/static/img/emjoy/emjoy_14.gif","[emjoy_15]":"public/static/img/emjoy/emjoy_15.gif","[emjoy_16]":"public/static/img/emjoy/emjoy_16.gif","[emjoy_17]":"public/static/img/emjoy/emjoy_17.gif","[emjoy_18]":"public/static/img/emjoy/emjoy_18.gif","[emjoy_19]":"public/static/img/emjoy/emjoy_19.gif","[emjoy_20]":"public/static/img/emjoy/emjoy_20.gif","[emjoy_21]":"public/static/img/emjoy/emjoy_21.gif","[emjoy_22]":"public/static/img/emjoy/emjoy_22.gif","[emjoy_23]":"public/static/img/emjoy/emjoy_23.gif","[emjoy_24]":"public/static/img/emjoy/emjoy_24.gif","[emjoy_25]":"public/static/img/emjoy/emjoy_25.gif","[emjoy_26]":"public/static/img/emjoy/emjoy_26.gif","[emjoy_27]":"public/static/img/emjoy/emjoy_27.gif","[emjoy_28]":"public/static/img/emjoy/emjoy_28.gif","[emjoy_29]":"public/static/img/emjoy/emjoy_29.gif","[emjoy_30]":"public/static/img/emjoy/emjoy_30.gif","[emjoy_31]":"public/static/img/emjoy/emjoy_31.gif","[emjoy_32]":"public/static/img/emjoy/emjoy_32.gif","[emjoy_33]":"public/static/img/emjoy/emjoy_33.gif","[emjoy_34]":"public/static/img/emjoy/emjoy_34.gif","[emjoy_35]":"public/static/img/emjoy/emjoy_35.gif","[emjoy_36]":"public/static/img/emjoy/emjoy_36.gif","[emjoy_37]":"public/static/img/emjoy/emjoy_37.gif","[emjoy_38]":"public/static/img/emjoy/emjoy_38.gif","[emjoy_39]":"public/static/img/emjoy/emjoy_39.gif","[emjoy_40]":"public/static/img/emjoy/emjoy_40.gif","[emjoy_41]":"public/static/img/emjoy/emjoy_41.gif","[emjoy_42]":"public/static/img/emjoy/emjoy_42.gif","[emjoy_43]":"public/static/img/emjoy/emjoy_43.gif","[emjoy_44]":"public/static/img/emjoy/emjoy_44.gif","[emjoy_45]":"public/static/img/emjoy/emjoy_45.gif","[emjoy_46]":"public/static/img/emjoy/emjoy_46.gif","[emjoy_47]":"public/static/img/emjoy/emjoy_47.gif"}};t.default=o},"0e66":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{listStyle:"",loadingType:"loading",orderType:"",priceOrder:"desc",categoryList:[],goodsList:[],order:"",sort:"desc",showCategory:!1,showScreen:!1,keyword:"",categoryId:0,minPrice:"",maxPrice:"",isFreeShipping:!1,isIphoneX:!1,coupon:0,emptyShow:!1,isList:!0}},onLoad:function(e){this.categoryId=e.category_id||0,this.keyword=e.keyword||"",this.loadCategoryList(this.categoryId),this.isIphoneX=this.$util.uniappIsIPhoneX(),this.coupon=e.coupon||0},onShow:function(){this.$langConfig.refresh()},methods:{getGoodsList:function(e){var t=this;this.$api.sendRequest({url:"/api/goodssku/page",data:{page:e.num,page_size:e.size,keyword:this.keyword,category_id:this.categoryId,min_price:this.minPrice,max_price:this.maxPrice,is_free_shipping:this.isFreeShipping?1:0,order:this.order,sort:this.sort,coupon:this.coupon},success:function(i){var o=[],r=i.message;0==i.code&&i.data?(0==i.data.page_count&&(t.emptyShow=!0),o=i.data.list):t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},changeListStyle:function(){this.isList=!this.isList},loadCategoryList:function(e,t){var i=this;this.$api.sendRequest({url:"/api/goodscategory/tree",data:{},success:function(e){null!=e.data&&(i.categoryList=e.data)}})},sortTabClick:function(e){if("sale_num"==e)this.order="sale_num",this.sort="desc";else if("discount_price"==e)this.order="discount_price",this.sort="desc";else{if("screen"==e)return void(this.showScreen=!0);this.order="",this.sort=""}this.orderType===e&&"discount_price"!==e||(this.orderType=e,"discount_price"===e?(this.priceOrder="asc"===this.priceOrder?"desc":"asc",this.sort=this.priceOrder):this.priceOrder="",this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh())},navToDetailPage:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.sku_id})},search:function(){this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh()},selectedCategory:function(e){this.categoryId=e},screenData:function(){if(""!=this.minPrice||""!=this.maxPrice){if(!Number(this.minPrice)&&this.minPrice)return void this.$util.showToast({title:"请输入最低价"});if(!Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最输入最高价"});if(Number(this.minPrice)<0||Number(this.maxPrice)<0)return void this.$util.showToast({title:"筛选价格不能小于0"});if(""!=this.minPrice&&Number(this.minPrice)>Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最低价不能大于最高价"});if(""!=this.maxPrice&&Number(this.maxPrice)<Number(this.minPrice))return void this.$util.showToast({title:"最高价不能小于最低价"})}this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh(),this.showScreen=!1},resetData:function(){this.categoryId=0,this.minPrice="",this.maxPrice="",this.isFreeShipping=!1}}};t.default=o},"0eeb":function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}var s={KEY_ERR:311,KEY_ERR_MSG:"key格式错误",PARAM_ERR:310,PARAM_ERR_MSG:"请求参数信息有误",SYSTEM_ERR:600,SYSTEM_ERR_MSG:"系统错误",WX_ERR_CODE:1e3,WX_OK_CODE:200},a="https://apis.map.qq.com/ws/",n=a+"place/v1/search",c=a+"place/v1/suggestion",u=a+"geocoder/v1/",l=a+"district/v1/list",d=a+"district/v1/getchildren",h=a+"distance/v1/",f=a+"direction/v1/",p={driving:"driving",transit:"transit"},g=6378136.49,m={safeAdd:function(e,t){var i=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(i>>16);return o<<16|65535&i},bitRotateLeft:function(e,t){return e<<t|e>>>32-t},md5cmn:function(e,t,i,o,r,s){return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(t,e),this.safeAdd(o,s)),r),i)},md5ff:function(e,t,i,o,r,s,a){return this.md5cmn(t&i|~t&o,e,t,r,s,a)},md5gg:function(e,t,i,o,r,s,a){return this.md5cmn(t&o|i&~o,e,t,r,s,a)},md5hh:function(e,t,i,o,r,s,a){return this.md5cmn(t^i^o,e,t,r,s,a)},md5ii:function(e,t,i,o,r,s,a){return this.md5cmn(i^(t|~o),e,t,r,s,a)},binlMD5:function(e,t){var i,o,r,s,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n=1732584193,c=-271733879,u=-1732584194,l=271733878;for(i=0;i<e.length;i+=16)o=n,r=c,s=u,a=l,n=this.md5ff(n,c,u,l,e[i],7,-680876936),l=this.md5ff(l,n,c,u,e[i+1],12,-389564586),u=this.md5ff(u,l,n,c,e[i+2],17,606105819),c=this.md5ff(c,u,l,n,e[i+3],22,-1044525330),n=this.md5ff(n,c,u,l,e[i+4],7,-176418897),l=this.md5ff(l,n,c,u,e[i+5],12,1200080426),u=this.md5ff(u,l,n,c,e[i+6],17,-1473231341),c=this.md5ff(c,u,l,n,e[i+7],22,-45705983),n=this.md5ff(n,c,u,l,e[i+8],7,1770035416),l=this.md5ff(l,n,c,u,e[i+9],12,-1958414417),u=this.md5ff(u,l,n,c,e[i+10],17,-42063),c=this.md5ff(c,u,l,n,e[i+11],22,-1990404162),n=this.md5ff(n,c,u,l,e[i+12],7,1804603682),l=this.md5ff(l,n,c,u,e[i+13],12,-40341101),u=this.md5ff(u,l,n,c,e[i+14],17,-1502002290),c=this.md5ff(c,u,l,n,e[i+15],22,1236535329),n=this.md5gg(n,c,u,l,e[i+1],5,-165796510),l=this.md5gg(l,n,c,u,e[i+6],9,-1069501632),u=this.md5gg(u,l,n,c,e[i+11],14,643717713),c=this.md5gg(c,u,l,n,e[i],20,-373897302),n=this.md5gg(n,c,u,l,e[i+5],5,-701558691),l=this.md5gg(l,n,c,u,e[i+10],9,38016083),u=this.md5gg(u,l,n,c,e[i+15],14,-660478335),c=this.md5gg(c,u,l,n,e[i+4],20,-405537848),n=this.md5gg(n,c,u,l,e[i+9],5,568446438),l=this.md5gg(l,n,c,u,e[i+14],9,-1019803690),u=this.md5gg(u,l,n,c,e[i+3],14,-187363961),c=this.md5gg(c,u,l,n,e[i+8],20,1163531501),n=this.md5gg(n,c,u,l,e[i+13],5,-1444681467),l=this.md5gg(l,n,c,u,e[i+2],9,-51403784),u=this.md5gg(u,l,n,c,e[i+7],14,1735328473),c=this.md5gg(c,u,l,n,e[i+12],20,-1926607734),n=this.md5hh(n,c,u,l,e[i+5],4,-378558),l=this.md5hh(l,n,c,u,e[i+8],11,-2022574463),u=this.md5hh(u,l,n,c,e[i+11],16,1839030562),c=this.md5hh(c,u,l,n,e[i+14],23,-35309556),n=this.md5hh(n,c,u,l,e[i+1],4,-1530992060),l=this.md5hh(l,n,c,u,e[i+4],11,1272893353),u=this.md5hh(u,l,n,c,e[i+7],16,-155497632),c=this.md5hh(c,u,l,n,e[i+10],23,-1094730640),n=this.md5hh(n,c,u,l,e[i+13],4,681279174),l=this.md5hh(l,n,c,u,e[i],11,-358537222),u=this.md5hh(u,l,n,c,e[i+3],16,-722521979),c=this.md5hh(c,u,l,n,e[i+6],23,76029189),n=this.md5hh(n,c,u,l,e[i+9],4,-640364487),l=this.md5hh(l,n,c,u,e[i+12],11,-421815835),u=this.md5hh(u,l,n,c,e[i+15],16,530742520),c=this.md5hh(c,u,l,n,e[i+2],23,-995338651),n=this.md5ii(n,c,u,l,e[i],6,-198630844),l=this.md5ii(l,n,c,u,e[i+7],10,1126891415),u=this.md5ii(u,l,n,c,e[i+14],15,-1416354905),c=this.md5ii(c,u,l,n,e[i+5],21,-57434055),n=this.md5ii(n,c,u,l,e[i+12],6,1700485571),l=this.md5ii(l,n,c,u,e[i+3],10,-1894986606),u=this.md5ii(u,l,n,c,e[i+10],15,-1051523),c=this.md5ii(c,u,l,n,e[i+1],21,-2054922799),n=this.md5ii(n,c,u,l,e[i+8],6,1873313359),l=this.md5ii(l,n,c,u,e[i+15],10,-30611744),u=this.md5ii(u,l,n,c,e[i+6],15,-1560198380),c=this.md5ii(c,u,l,n,e[i+13],21,1309151649),n=this.md5ii(n,c,u,l,e[i+4],6,-145523070),l=this.md5ii(l,n,c,u,e[i+11],10,-1120210379),u=this.md5ii(u,l,n,c,e[i+2],15,718787259),c=this.md5ii(c,u,l,n,e[i+9],21,-343485551),n=this.safeAdd(n,o),c=this.safeAdd(c,r),u=this.safeAdd(u,s),l=this.safeAdd(l,a);return[n,c,u,l]},binl2rstr:function(e){var t,i="",o=32*e.length;for(t=0;t<o;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i},rstr2binl:function(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i},rstrMD5:function(e){return this.binl2rstr(this.binlMD5(this.rstr2binl(e),8*e.length))},rstrHMACMD5:function(e,t){var i,o,r=this.rstr2binl(e),s=[],a=[];for(s[15]=a[15]=void 0,r.length>16&&(r=this.binlMD5(r,8*e.length)),i=0;i<16;i+=1)s[i]=909522486^r[i],a[i]=1549556828^r[i];return o=this.binlMD5(s.concat(this.rstr2binl(t)),512+8*t.length),this.binl2rstr(this.binlMD5(a.concat(o),640))},rstr2hex:function(e){var t,i,o="0123456789abcdef",r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r},str2rstrUTF8:function(e){return unescape(encodeURIComponent(e))},rawMD5:function(e){return this.rstrMD5(this.str2rstrUTF8(e))},hexMD5:function(e){return this.rstr2hex(this.rawMD5(e))},rawHMACMD5:function(e,t){return this.rstrHMACMD5(this.str2rstrUTF8(e),str2rstrUTF8(t))},hexHMACMD5:function(e,t){return this.rstr2hex(this.rawHMACMD5(e,t))},md5:function(e,t,i){return t?i?this.rawHMACMD5(t,e):this.hexHMACMD5(t,e):i?this.rawMD5(e):this.hexMD5(e)},getSig:function(e,t,i,o){var r=null,s=[];return Object.keys(e).sort().forEach((function(t){s.push(t+"="+e[t])})),"search"==i&&(r="/ws/place/v1/search?"+s.join("&")+t),"suggest"==i&&(r="/ws/place/v1/suggestion?"+s.join("&")+t),"reverseGeocoder"==i&&(r="/ws/geocoder/v1/?"+s.join("&")+t),"geocoder"==i&&(r="/ws/geocoder/v1/?"+s.join("&")+t),"getCityList"==i&&(r="/ws/district/v1/list?"+s.join("&")+t),"getDistrictByCityId"==i&&(r="/ws/district/v1/getchildren?"+s.join("&")+t),"calculateDistance"==i&&(r="/ws/distance/v1/?"+s.join("&")+t),"direction"==i&&(r="/ws/direction/v1/"+o+"?"+s.join("&")+t),r=this.md5(r),r},location2query:function(e){if("string"==typeof e)return e;for(var t="",i=0;i<e.length;i++){var o=e[i];t&&(t+=";"),o.location&&(t=t+o.location.lat+","+o.location.lng),o.latitude&&o.longitude&&(t=t+o.latitude+","+o.longitude)}return t},rad:function(e){return e*Math.PI/180},getEndLocation:function(e){for(var t=e.split(";"),i=[],o=0;o<t.length;o++)i.push({lat:parseFloat(t[o].split(",")[0]),lng:parseFloat(t[o].split(",")[1])});return i},getDistance:function(e,t,i,o){var r=this.rad(e),s=this.rad(i),a=r-s,n=this.rad(t)-this.rad(o),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(s)*Math.pow(Math.sin(n/2),2)));return c*=g,c=Math.round(1e4*c)/1e4,parseFloat(c.toFixed(0))},getWXLocation:function(e,t,i){wx.getLocation({type:"gcj02",success:e,fail:t,complete:i})},getLocationParam:function(e){if("string"==typeof e){var t=e.split(",");e=2===t.length?{latitude:e.split(",")[0],longitude:e.split(",")[1]}:{}}return e},polyfillParam:function(e){e.success=e.success||function(){},e.fail=e.fail||function(){},e.complete=e.complete||function(){}},checkParamKeyEmpty:function(e,t){if(!e[t]){var i=this.buildErrorConfig(s.PARAM_ERR,s.PARAM_ERR_MSG+t+"参数格式有误");return e.fail(i),e.complete(i),!0}return!1},checkKeyword:function(e){return!this.checkParamKeyEmpty(e,"keyword")},checkLocation:function(e){var t=this.getLocationParam(e.location);if(!t||!t.latitude||!t.longitude){var i=this.buildErrorConfig(s.PARAM_ERR,s.PARAM_ERR_MSG+" location参数格式有误");return e.fail(i),e.complete(i),!1}return!0},buildErrorConfig:function(e,t){return{status:e,message:t}},handleData:function(e,t,i){if("search"==i){for(var o=t.data,r=[],s=0;s<o.length;s++)r.push({id:o[s].id||null,title:o[s].title||null,latitude:o[s].location&&o[s].location.lat||null,longitude:o[s].location&&o[s].location.lng||null,address:o[s].address||null,category:o[s].category||null,tel:o[s].tel||null,adcode:o[s].ad_info&&o[s].ad_info.adcode||null,city:o[s].ad_info&&o[s].ad_info.city||null,district:o[s].ad_info&&o[s].ad_info.district||null,province:o[s].ad_info&&o[s].ad_info.province||null});e.success(t,{searchResult:o,searchSimplify:r})}else if("suggest"==i){var a=t.data,n=[];for(s=0;s<a.length;s++)n.push({adcode:a[s].adcode||null,address:a[s].address||null,category:a[s].category||null,city:a[s].city||null,district:a[s].district||null,id:a[s].id||null,latitude:a[s].location&&a[s].location.lat||null,longitude:a[s].location&&a[s].location.lng||null,province:a[s].province||null,title:a[s].title||null,type:a[s].type||null});e.success(t,{suggestResult:a,suggestSimplify:n})}else if("reverseGeocoder"==i){var c=t.result,u={address:c.address||null,latitude:c.location&&c.location.lat||null,longitude:c.location&&c.location.lng||null,adcode:c.ad_info&&c.ad_info.adcode||null,city:c.address_component&&c.address_component.city||null,district:c.address_component&&c.address_component.district||null,nation:c.address_component&&c.address_component.nation||null,province:c.address_component&&c.address_component.province||null,street:c.address_component&&c.address_component.street||null,street_number:c.address_component&&c.address_component.street_number||null,recommend:c.formatted_addresses&&c.formatted_addresses.recommend||null,rough:c.formatted_addresses&&c.formatted_addresses.rough||null};if(c.pois){var l=c.pois,d=[];for(s=0;s<l.length;s++)d.push({id:l[s].id||null,title:l[s].title||null,latitude:l[s].location&&l[s].location.lat||null,longitude:l[s].location&&l[s].location.lng||null,address:l[s].address||null,category:l[s].category||null,adcode:l[s].ad_info&&l[s].ad_info.adcode||null,city:l[s].ad_info&&l[s].ad_info.city||null,district:l[s].ad_info&&l[s].ad_info.district||null,province:l[s].ad_info&&l[s].ad_info.province||null});e.success(t,{reverseGeocoderResult:c,reverseGeocoderSimplify:u,pois:l,poisSimplify:d})}else e.success(t,{reverseGeocoderResult:c,reverseGeocoderSimplify:u})}else if("geocoder"==i){var h=t.result,f={title:h.title||null,latitude:h.location&&h.location.lat||null,longitude:h.location&&h.location.lng||null,adcode:h.ad_info&&h.ad_info.adcode||null,province:h.address_components&&h.address_components.province||null,city:h.address_components&&h.address_components.city||null,district:h.address_components&&h.address_components.district||null,street:h.address_components&&h.address_components.street||null,street_number:h.address_components&&h.address_components.street_number||null,level:h.level||null};e.success(t,{geocoderResult:h,geocoderSimplify:f})}else if("getCityList"==i){var p=t.result[0],g=t.result[1],m=t.result[2];e.success(t,{provinceResult:p,cityResult:g,districtResult:m})}else if("getDistrictByCityId"==i){var v=t.result[0];e.success(t,v)}else if("calculateDistance"==i){var _=t.result.elements,y=[];for(s=0;s<_.length;s++)y.push(_[s].distance);e.success(t,{calculateDistanceResult:_,distance:y})}else if("direction"==i){var b=t.result.routes;e.success(t,b)}else e.success(t)},buildWxRequestConfig:function(e,t,i){var o=this;return t.header={"content-type":"application/json"},t.method="GET",t.success=function(t){var r=t.data;0===r.status?o.handleData(e,r,i):e.fail(r)},t.fail=function(t){t.statusCode=s.WX_ERR_CODE,e.fail(o.buildErrorConfig(s.WX_ERR_CODE,t.errMsg))},t.complete=function(t){var i=+t.statusCode;switch(i){case s.WX_ERR_CODE:e.complete(o.buildErrorConfig(s.WX_ERR_CODE,t.errMsg));break;case s.WX_OK_CODE:var r=t.data;0===r.status?e.complete(r):e.complete(o.buildErrorConfig(r.status,r.message));break;default:e.complete(o.buildErrorConfig(s.SYSTEM_ERR,s.SYSTEM_ERR_MSG))}},t},locationProcess:function(e,t,i,o){var r=this;if(i=i||function(t){t.statusCode=s.WX_ERR_CODE,e.fail(r.buildErrorConfig(s.WX_ERR_CODE,t.errMsg))},o=o||function(t){t.statusCode==s.WX_ERR_CODE&&e.complete(r.buildErrorConfig(s.WX_ERR_CODE,t.errMsg))},e.location){if(r.checkLocation(e)){var a=m.getLocationParam(e.location);t(a)}}else r.getWXLocation(t,i,o)}},v=function(){"use strict";function e(t){if(i(this,e),!t.key)throw Error("key值不能为空");this.key=t.key}return r(e,[{key:"search",value:function(e){var t=this;if(e=e||{},m.polyfillParam(e),m.checkKeyword(e)){var i={keyword:e.keyword,orderby:e.orderby||"_distance",page_size:e.page_size||10,page_index:e.page_index||1,output:"json",key:t.key};e.address_format&&(i.address_format=e.address_format),e.filter&&(i.filter=e.filter);var o=e.distance||"1000",r=e.auto_extend||1,s=null,a=null;e.region&&(s=e.region),e.rectangle&&(a=e.rectangle);var c=function(t){s&&!a?(i.boundary="region("+s+","+r+","+t.latitude+","+t.longitude+")",e.sig&&(i.sig=m.getSig(i,e.sig,"search"))):a&&!s?(i.boundary="rectangle("+a+")",e.sig&&(i.sig=m.getSig(i,e.sig,"search"))):(i.boundary="nearby("+t.latitude+","+t.longitude+","+o+","+r+")",e.sig&&(i.sig=m.getSig(i,e.sig,"search"))),wx.request(m.buildWxRequestConfig(e,{url:n,data:i},"search"))};m.locationProcess(e,c)}}},{key:"getSuggestion",value:function(e){var t=this;if(e=e||{},m.polyfillParam(e),m.checkKeyword(e)){var i={keyword:e.keyword,region:e.region||"全国",region_fix:e.region_fix||0,policy:e.policy||0,page_size:e.page_size||10,page_index:e.page_index||1,get_subpois:e.get_subpois||0,output:"json",key:t.key};if(e.address_format&&(i.address_format=e.address_format),e.filter&&(i.filter=e.filter),e.location){var o=function(t){i.location=t.latitude+","+t.longitude,e.sig&&(i.sig=m.getSig(i,e.sig,"suggest")),wx.request(m.buildWxRequestConfig(e,{url:c,data:i},"suggest"))};m.locationProcess(e,o)}else e.sig&&(i.sig=m.getSig(i,e.sig,"suggest")),wx.request(m.buildWxRequestConfig(e,{url:c,data:i},"suggest"))}}},{key:"reverseGeocoder",value:function(e){var t=this;e=e||{},m.polyfillParam(e);var i={coord_type:e.coord_type||5,get_poi:e.get_poi||0,output:"json",key:t.key};e.poi_options&&(i.poi_options=e.poi_options);var o=function(t){i.location=t.latitude+","+t.longitude,e.sig&&(i.sig=m.getSig(i,e.sig,"reverseGeocoder")),wx.request(m.buildWxRequestConfig(e,{url:u,data:i},"reverseGeocoder"))};m.locationProcess(e,o)}},{key:"geocoder",value:function(e){var t=this;if(e=e||{},m.polyfillParam(e),!m.checkParamKeyEmpty(e,"address")){var i={address:e.address,output:"json",key:t.key};e.region&&(i.region=e.region),e.sig&&(i.sig=m.getSig(i,e.sig,"geocoder")),wx.request(m.buildWxRequestConfig(e,{url:u,data:i},"geocoder"))}}},{key:"getCityList",value:function(e){var t=this;e=e||{},m.polyfillParam(e);var i={output:"json",key:t.key};e.sig&&(i.sig=m.getSig(i,e.sig,"getCityList")),wx.request(m.buildWxRequestConfig(e,{url:l,data:i},"getCityList"))}},{key:"getDistrictByCityId",value:function(e){var t=this;if(e=e||{},m.polyfillParam(e),!m.checkParamKeyEmpty(e,"id")){var i={id:e.id||"",output:"json",key:t.key};e.sig&&(i.sig=m.getSig(i,e.sig,"getDistrictByCityId")),wx.request(m.buildWxRequestConfig(e,{url:d,data:i},"getDistrictByCityId"))}}},{key:"calculateDistance",value:function(e){var t=this;if(e=e||{},m.polyfillParam(e),!m.checkParamKeyEmpty(e,"to")){var i={mode:e.mode||"walking",to:m.location2query(e.to),output:"json",key:t.key};if(e.from&&(e.location=e.from),"straight"==i.mode){var o=function(t){for(var o=m.getEndLocation(i.to),r={message:"query ok",result:{elements:[]},status:0},s=0;s<o.length;s++)r.result.elements.push({distance:m.getDistance(t.latitude,t.longitude,o[s].lat,o[s].lng),duration:0,from:{lat:t.latitude,lng:t.longitude},to:{lat:o[s].lat,lng:o[s].lng}});var a=r.result.elements,n=[];for(s=0;s<a.length;s++)n.push(a[s].distance);return e.success(r,{calculateResult:a,distanceResult:n})};m.locationProcess(e,o)}else{o=function(t){i.from=t.latitude+","+t.longitude,e.sig&&(i.sig=m.getSig(i,e.sig,"calculateDistance")),wx.request(m.buildWxRequestConfig(e,{url:h,data:i},"calculateDistance"))};m.locationProcess(e,o)}}}},{key:"direction",value:function(e){var t=this;if(e=e||{},m.polyfillParam(e),!m.checkParamKeyEmpty(e,"to")){var i={output:"json",key:t.key};"string"==typeof e.to?i.to=e.to:i.to=e.to.latitude+","+e.to.longitude;var o=null;e.mode=e.mode||p.driving,o=f+e.mode,e.from&&(e.location=e.from),e.mode==p.driving&&(e.from_poi&&(i.from_poi=e.from_poi),e.heading&&(i.heading=e.heading),e.speed&&(i.speed=e.speed),e.accuracy&&(i.accuracy=e.accuracy),e.road_type&&(i.road_type=e.road_type),e.to_poi&&(i.to_poi=e.to_poi),e.from_track&&(i.from_track=e.from_track),e.waypoints&&(i.waypoints=e.waypoints),e.policy&&(i.policy=e.policy),e.plate_number&&(i.plate_number=e.plate_number)),e.mode==p.transit&&(e.departure_time&&(i.departure_time=e.departure_time),e.policy&&(i.policy=e.policy));var r=function(t){i.from=t.latitude+","+t.longitude,e.sig&&(i.sig=m.getSig(i,e.sig,"direction",e.mode)),wx.request(m.buildWxRequestConfig(e,{url:o,data:i},"direction"))};m.locationProcess(e,r)}}}]),e}();e.exports=v},1273:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},1279:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"128f":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/bargain/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("bargainOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/bargain/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="";var i=this.orderPaymentData;if(void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var s=r.name,a=r.title;"store"==s&&i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else s=o[0].name,a=o[0].title;this.orderCreateData.delivery.delivery_type=s,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(void 0!=i.shop_goods_list.coupon_list&&void 0!=i.shop_goods_list.coupon_list[0]){var n=i.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=n[0].coupon_id,this.orderCreateData.coupon.coupon_money=n[0].money}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{for(var u=this.orderPaymentData.shop_goods_list.local_config.info.time_week,l=!1,d=0;d<u.length;d++)if(d+1<u.length){var h=u[d+1]-u[d];if(h>1){l=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(l){var p=[];for(d=0;d<u.length;d++)p.push(f[u[d]]);this.deliveryWeek=p.join("、")}else this.deliveryWeek=f[u[0]]+"至"+f[u[u.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var g=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=g+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),b=y.getHours(),D=y.getMinutes(),S=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),C=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(S==k&&w==C||((b<S||b==S&&D<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==S.toString().length?"0"+S:S)+":"+(1==w.toString().length?"0"+w:w)),(b>k||b==k&&D>C)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/bargain/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),"store"==this.orderCreateData.delivery.delivery_type?o.member_address=JSON.stringify(this.member_address):o.member_address=JSON.stringify(o.member_address),this.$api.sendRequest({url:"/bargain/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?e.removeStorage({key:"bargainOrderCreateData",success:function(){0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(t.data)}}):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&this.$refs.choosePaymentPopup.open()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=i}).call(this,i("543d")["default"])},"12a3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的余额",accountBalance:"账户余额 ",money:" (元)",recharge:"充值",withdrawal:"提现",balanceDetailed:"余额明细",emptyTips:"您暂时还没有余额记录哦！",rechargeRecord:"充值记录",ableAccountBalance:"可提现余额 ",noAccountBalance:"不可提现余额 "};t.lang=o},1528:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"152f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={down:{textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",offset:80,native:!1},up:{textLoading:"加载中 ...",textNoMore:"",offset:80,isBounce:!1,toTop:{src:"http://www.mescroll.com/img/mescroll-totop.png?v=1",offset:1e3,right:20,bottom:120,width:72},empty:{use:!0,icon:"http://www.mescroll.com/img/mescroll-empty.png?v=1",tip:"~ 暂无相关数据 ~"}}},r=o;t.default=r},"16d3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={tabBar:{home:"index",category:"category",cart:"cart",member:"member"},common:{name:"英文",mescrollTextInOffset:"pull to refresh",mescrollTextOutOffset:"Loading...",mescrollEmpty:"No data available",goodsRecommendTitle:"Guess you like",currencySymbol:"¥"}};t.lang=o},1739:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的砍价"};t.lang=o},"18a6":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("74c1"));function r(e){return e&&e.__esModule?e:{default:e}}function s(t,i,o){e.openLocation({latitude:t,longitude:i,name:o,fail:function(t){e.showModal({content:"打开地图失败,请重"})}})}function a(e,t,i){switch(i){case"gcj02":return[e,t];case"bd09":return o.default.bd09togcj02(e,t);case"wgs84":return o.default.wgs84togcj02(e,t);default:return[e,t]}}var n={openMap:function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gcj02",r=a(t,e,o);s(r[1],r[0],i)}};t.default=n}).call(this,i("543d")["default"])},"1cb5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"1dd2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"提现详情"};t.lang=o},"1f0e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"注册",mobileRegister:"手机号注册",accountRegister:"账号注册",mobilePlaceholder:"手机号登录仅限中国大陆用户",dynacodePlaceholder:"请输入动态码",captchaPlaceholder:"请输入验证码",accountPlaceholder:"请输入用户名",passwordPlaceholder:"请输入密码",rePasswordPlaceholder:"请确认密码",completeRegister:"完成注册，并登录",registerTips:"点击注册即代表您已同意",registerAgreement:"注册协议",next:"下一步",save:"保存"};t.lang=o},"2abe":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("7261")),r=n(i("5f51")),s=n(i("84819")),a=n(i("ae41"));function n(e){return e&&e.__esModule?e:{default:e}}var c="weapp",u="微信小程序",l={sendRequest:function(t){var i=void 0!=t.data?"POST":"GET",n=o.default.baseUrl+t.url,l={app_type:c,app_type_name:u};if(e.getStorageSync("token")&&(l.token=e.getStorageSync("token")),e.getStorageSync("store")&&(l.store_id=e.getStorageSync("store").store_id),void 0!=t.data&&Object.assign(l,t.data),o.default.apiSecurity){var d=new r.default;d.setPublicKey(o.default.publicKey);var h=encodeURIComponent(d.encryptLong(JSON.stringify(l)));l={encrypt:h,app_type:c,app_type_name:u}}if(!1===t.async)return new Promise((function(o,r){e.request({url:n,method:i,data:l,header:t.header||{"content-type":"application/x-www-form-urlencoded;application/json"},dataType:t.dataType||"json",responseType:t.responseType||"text",success:function(e){return-2==e.data.code&&a.default.state.siteState>0?(a.default.commit("setSiteState",-2),void s.default.redirectTo("/pages/storeclose/storeclose/storeclose",{},"reLaunch")):-3==e.data.code&&a.default.state.siteState>0?(a.default.commit("setSiteState",-3),void s.default.redirectTo("/pages/storeclose/storeclose/storeclose",{},"reLaunch")):(-3!=e.data.code&&-2!=e.data.code&&a.default.commit("setSiteState",1),void o(e.data))},fail:function(e){r(e)},complete:function(e){r(e)}})}));e.request({url:n,method:i,data:l,header:t.header||{"content-type":"application/x-www-form-urlencoded;application/json"},dataType:t.dataType||"json",responseType:t.responseType||"text",success:function(e){return-2==e.data.code&&a.default.state.siteState>0?(a.default.commit("setSiteState",-2),void s.default.redirectTo("/pages/storeclose/storeclose/storeclose",{},"reLaunch")):-3==e.data.code&&a.default.state.siteState>0?(a.default.commit("setSiteState",-3),void s.default.redirectTo("/pages/storeclose/storeclose/storeclose",{},"reLaunch")):(-3!=e.data.code&&-2!=e.data.code&&a.default.commit("setSiteState",1),void("function"==typeof t.success&&t.success(e.data)))},fail:function(e){"function"==typeof t.fail&&t.fail(e)},complete:function(e){"function"==typeof t.complete&&t.complete(e)}})}};t.default=l}).call(this,i("543d")["default"])},"2de2":function(e,t,i){var o=i("6eb1"),r=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"};function s(e){var t=Object.assign(Object.create(null),o.userAgentStyles);for(var i in e)t[i]=(t[i]?t[i]+";":"")+e[i];this.styles=t}function a(e,t){this.data=e,this.floor=0,this.i=0,this.list=[],this.res=t,this.state=this.Space}s.prototype.getStyle=function(e){this.styles=new a(e,this.styles).parse()},s.prototype.match=function(e,t){var i,o=(i=this.styles[e])?i+";":"";if(t.class)for(var r,s=t.class.split(" "),a=0;r=s[a];a++)(i=this.styles["."+r])&&(o+=i+";");return(i=this.styles["#"+t.id])&&(o+=i+";"),o},e.exports=s,a.prototype.parse=function(){for(var e;e=this.data[this.i];this.i++)this.state(e);return this.res},a.prototype.section=function(){return this.data.substring(this.start,this.i)},a.prototype.Space=function(e){"."==e||"#"==e||r(e)?(this.start=this.i,this.state=this.Name):"/"==e&&"*"==this.data[this.i+1]?this.Comment():o.blankChar[e]||";"==e||(this.state=this.Ignore)},a.prototype.Comment=function(){this.i=this.data.indexOf("*/",this.i)+1,this.i||(this.i=this.data.length),this.state=this.Space},a.prototype.Ignore=function(e){"{"==e?this.floor++:"}"!=e||--this.floor||(this.state=this.Space)},a.prototype.Name=function(e){o.blankChar[e]?(this.list.push(this.section()),this.state=this.NameSpace):"{"==e?(this.list.push(this.section()),this.Content()):","==e?(this.list.push(this.section()),this.Comma()):!r(e)&&(e<"0"||e>"9")&&"-"!=e&&"_"!=e&&(this.state=this.Ignore)},a.prototype.NameSpace=function(e){"{"==e?this.Content():","==e?this.Comma():o.blankChar[e]||(this.state=this.Ignore)},a.prototype.Comma=function(){while(o.blankChar[this.data[++this.i]]);"{"==this.data[this.i]?this.Content():(this.start=this.i--,this.state=this.Name)},a.prototype.Content=function(){this.start=++this.i,-1==(this.i=this.data.indexOf("}",this.i))&&(this.i=this.data.length);for(var e,t=this.section(),i=0;e=this.list[i++];)this.res[e]?this.res[e]+=";"+t:this.res[e]=t;this.list=[],this.state=this.Space}},"2f62":function(e,t,i){"use strict";i.r(t),function(e){
/*!
 * vuex v3.4.0
 * (c) 2020 Evan You
 * @license MIT
 */
function o(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:o});else{var i=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[o].concat(e.init):o,i.call(this,e)}}function o(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}i.d(t,"Store",(function(){return m})),i.d(t,"createNamespacedHelpers",(function(){return A})),i.d(t,"install",(function(){return I})),i.d(t,"mapActions",(function(){return M})),i.d(t,"mapGetters",(function(){return E})),i.d(t,"mapMutations",(function(){return j})),i.d(t,"mapState",(function(){return O}));var r="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},s=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(e){s&&(e._devtoolHook=s,s.emit("vuex:init",e),s.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){s.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){s.emit("vuex:action",e,t)}),{prepend:!0}))}function n(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function c(e){return null!==e&&"object"===typeof e}function u(e){return e&&"function"===typeof e.then}function l(e,t){return function(){return e(t)}}var d=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"===typeof i?i():i)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(e,t){this._children[e]=t},d.prototype.removeChild=function(e){delete this._children[e]},d.prototype.getChild=function(e){return this._children[e]},d.prototype.hasChild=function(e){return e in this._children},d.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},d.prototype.forEachChild=function(e){n(this._children,e)},d.prototype.forEachGetter=function(e){this._rawModule.getters&&n(this._rawModule.getters,e)},d.prototype.forEachAction=function(e){this._rawModule.actions&&n(this._rawModule.actions,e)},d.prototype.forEachMutation=function(e){this._rawModule.mutations&&n(this._rawModule.mutations,e)},Object.defineProperties(d.prototype,h);var f=function(e){this.register([],e,!1)};function p(e,t,i){if(t.update(i),i.modules)for(var o in i.modules){if(!t.getChild(o))return void 0;p(e.concat(o),t.getChild(o),i.modules[o])}}f.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},f.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")}),"")},f.prototype.update=function(e){p([],this.root,e)},f.prototype.register=function(e,t,i){var o=this;void 0===i&&(i=!0);var r=new d(t,i);if(0===e.length)this.root=r;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],r)}t.modules&&n(t.modules,(function(t,r){o.register(e.concat(r),t,i)}))},f.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];t.getChild(i).runtime&&t.removeChild(i)},f.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return t.hasChild(i)};var g;var m=function(e){var t=this;void 0===e&&(e={}),!g&&"undefined"!==typeof window&&window.Vue&&I(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var o=e.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new f(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var r=this,s=this,n=s.dispatch,c=s.commit;this.dispatch=function(e,t){return n.call(r,e,t)},this.commit=function(e,t,i){return c.call(r,e,t,i)},this.strict=o;var u=this._modules.root.state;D(this,u,[],this._modules.root),b(this,u),i.forEach((function(e){return e(t)}));var l=void 0!==e.devtools?e.devtools:g.config.devtools;l&&a(this)},v={state:{configurable:!0}};function _(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function y(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;D(e,i,[],e._modules.root,!0),b(e,i,t)}function b(e,t,i){var o=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,s={};n(r,(function(t,i){s[i]=l(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var a=g.config.silent;g.config.silent=!0,e._vm=new g({data:{$$state:t},computed:s}),g.config.silent=a,e.strict&&P(e),o&&(i&&e._withCommit((function(){o._data.$$state=null})),g.nextTick((function(){return o.$destroy()})))}function D(e,t,i,o,r){var s=!i.length,a=e._modules.getNamespace(i);if(o.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=o),!s&&!r){var n=T(t,i.slice(0,-1)),c=i[i.length-1];e._withCommit((function(){g.set(n,c,o.state)}))}var u=o.context=S(e,a,i);o.forEachMutation((function(t,i){var o=a+i;k(e,o,t,u)})),o.forEachAction((function(t,i){var o=t.root?i:a+i,r=t.handler||t;C(e,o,r,u)})),o.forEachGetter((function(t,i){var o=a+i;$(e,o,t,u)})),o.forEachChild((function(o,s){D(e,t,i.concat(s),o,r)}))}function S(e,t,i){var o=""===t,r={dispatch:o?e.dispatch:function(i,o,r){var s=x(i,o,r),a=s.payload,n=s.options,c=s.type;return n&&n.root||(c=t+c),e.dispatch(c,a)},commit:o?e.commit:function(i,o,r){var s=x(i,o,r),a=s.payload,n=s.options,c=s.type;n&&n.root||(c=t+c),e.commit(c,a,n)}};return Object.defineProperties(r,{getters:{get:o?function(){return e.getters}:function(){return w(e,t)}},state:{get:function(){return T(e.state,i)}}}),r}function w(e,t){if(!e._makeLocalGettersCache[t]){var i={},o=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,o)===t){var s=r.slice(o);Object.defineProperty(i,s,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}function k(e,t,i,o){var r=e._mutations[t]||(e._mutations[t]=[]);r.push((function(t){i.call(e,o.state,t)}))}function C(e,t,i,o){var r=e._actions[t]||(e._actions[t]=[]);r.push((function(t){var r=i.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return u(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):r}))}function $(e,t,i,o){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return i(o.state,o.getters,e.state,e.getters)})}function P(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function T(e,t){return t.reduce((function(e,t){return e[t]}),e)}function x(e,t,i){return c(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function I(e){g&&e===g||(g=e,o(g))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(e){0},m.prototype.commit=function(e,t,i){var o=this,r=x(e,t,i),s=r.type,a=r.payload,n=(r.options,{type:s,payload:a}),c=this._mutations[s];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(n,o.state)})))},m.prototype.dispatch=function(e,t){var i=this,o=x(e,t),r=o.type,s=o.payload,a={type:r,payload:s},n=this._actions[r];if(n){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,i.state)}))}catch(u){0}var c=n.length>1?Promise.all(n.map((function(e){return e(s)}))):n[0](s);return new Promise((function(e,t){c.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,i.state)}))}catch(u){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,i.state,e)}))}catch(u){0}t(e)}))}))}},m.prototype.subscribe=function(e,t){return _(e,this._subscribers,t)},m.prototype.subscribeAction=function(e,t){var i="function"===typeof e?{before:e}:e;return _(i,this._actionSubscribers,t)},m.prototype.watch=function(e,t,i){var o=this;return this._watcherVM.$watch((function(){return e(o.state,o.getters)}),t,i)},m.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},m.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),D(this,this.state,e,this._modules.get(e),i.preserveState),b(this,this.state)},m.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=T(t.state,e.slice(0,-1));g.delete(i,e[e.length-1])})),y(this)},m.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},m.prototype.hotUpdate=function(e){this._modules.update(e),y(this,!0)},m.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(m.prototype,v);var O=N((function(e,t){var i={};return L(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var o=U(this.$store,"mapState",e);if(!o)return;t=o.context.state,i=o.context.getters}return"function"===typeof r?r.call(this,t,i):t[r]},i[o].vuex=!0})),i})),j=N((function(e,t){var i={};return L(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var o=this.$store.commit;if(e){var s=U(this.$store,"mapMutations",e);if(!s)return;o=s.context.commit}return"function"===typeof r?r.apply(this,[o].concat(t)):o.apply(this.$store,[r].concat(t))}})),i})),E=N((function(e,t){var i={};return L(t).forEach((function(t){var o=t.key,r=t.val;r=e+r,i[o]=function(){if(!e||U(this.$store,"mapGetters",e))return this.$store.getters[r]},i[o].vuex=!0})),i})),M=N((function(e,t){var i={};return L(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var o=this.$store.dispatch;if(e){var s=U(this.$store,"mapActions",e);if(!s)return;o=s.context.dispatch}return"function"===typeof r?r.apply(this,[o].concat(t)):o.apply(this.$store,[r].concat(t))}})),i})),A=function(e){return{mapState:O.bind(null,e),mapGetters:E.bind(null,e),mapMutations:j.bind(null,e),mapActions:M.bind(null,e)}};function L(e){return R(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function R(e){return Array.isArray(e)||c(e)}function N(e){return function(t,i){return"string"!==typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function U(e,t,i){var o=e._modulesNamespaceMap[i];return o}var B={Store:m,install:I,version:"3.4.0",mapState:O,mapMutations:j,mapGetters:E,mapActions:M,createNamespacedHelpers:A};t["default"]=B}.call(this,i("c8ba"))},"310e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"318f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"团购专区"};t.lang=o},"31e5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的消息"};t.lang=o},"35d0":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("a34a")),r=a(i("df06")),s=(i("c025"),a(i("7261")));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function a(e){n(s,o,r,a,c,"next",e)}function c(e){n(s,o,r,a,c,"throw",e)}a(void 0)}))}}var u={data:function(){return{skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",couponList:[],couponBtnSwitch:!1,token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,manjian:{type:0,manjian_name:"",rule_json:null},goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:"",again_images:[]},bundling:[{bundling_goods:{bl_name:"",sku_image:""}}],memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:null,preview:0,goodsCircle:!1,levelInfo:{},showFenxiao:0,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.skuId=t.sku_id||0,this.preview=t.preview||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("sku_id")&&(i.skuId=t.split("-")[1]),-1!=t.indexOf("source_member")&&e.setStorageSync("source_member",t.split("-")[1])}))}this.getService()},onShow:function(){var t=this;return c(o.default.mark((function i(){return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),t.token=e.getStorageSync("token"),""!=t.token&&0==t.preview&&(t.getCartCount(),t.getMemberId()),i.next=5,t.getGoodsSkuDetail();case 5:0==t.preview&&(t.modifyGoodsInfo(),t.getCoupon(),t.getManjian(),t.getEvaluateConfig(),t.getBundling());case 6:case"end":return i.stop()}}),i)})))()},onHide:function(){this.couponBtnSwitch=!1},created:function(){var e=this;return c(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAddonisexit();case 2:0!=e.showFenxiao&&e.getFenxiaoGoodsDetail();case 3:case"end":return t.stop()}}),t)})))()},methods:{goConnect:function(){var t=this;if(e.getStorageSync("token")){var i={siteId:s.default.siteId,skuId:t.goodsSkuDetail.sku_id};return 1==this.kefuConfig.system?(t.$util.redirectTo("/otherpages/chat/room/room",i),!1):void 0}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+t.goodsSkuDetail.sku_id)},getFenxiaoGoodsDetail:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/goods/detail",data:{sku_id:this.skuId},success:function(t){0==t.code&&t.data&&(e.levelInfo=t.data)}})},getAddonisexit:function(){var e=this;return c(o.default.mark((function t(){var i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/api/addon/addonisexit",async:!1,success:function(e){}});case 2:i=t.sent,0==i.code&&i.data&&(e.showFenxiao=i.data.fenxiao);case 4:case"end":return t.stop()}}),t)})))()},getGoodsSkuDetail:function(e){var t=this;return c(o.default.mark((function i(){var s,a,n,c,u;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.skuId=e||t.skuId,i.next=3,t.$api.sendRequest({url:"/api/goodssku/detail",async:!1,data:{sku_id:t.skuId}});case 3:if(s=i.sent,a=s.data,null!=a.goods_sku_detail){if(t.goodsSkuDetail=a.goods_sku_detail,t.goodsSkuDetail.preview=t.preview,0==t.skuId&&(t.skuId=t.goodsSkuDetail.sku_id),t.goodsSkuDetail.video_url&&(t.switchMedia="video"),t.goodsSkuDetail.sku_images?t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","):t.goodsSkuDetail.sku_images=[],t.goodsSkuDetail.goods_spec_format&&t.goodsSkuDetail.goods_image&&(t.goodsSkuDetail.goods_image=t.goodsSkuDetail.goods_image.split(","),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.concat(t.goodsSkuDetail.goods_image)),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_attr_format)for(n=JSON.parse(t.goodsSkuDetail.goods_attr_format),t.goodsSkuDetail.goods_attr_format=t.$util.unique(n,"attr_id"),c=0;c<t.goodsSkuDetail.goods_attr_format.length;c++)for(u=0;u<n.length;u++)t.goodsSkuDetail.goods_attr_format[c].attr_id==n[u].attr_id&&t.goodsSkuDetail.goods_attr_format[c].attr_value_id!=n[u].attr_value_id&&(t.goodsSkuDetail.goods_attr_format[c].attr_value_name+="、"+n[u].attr_value_name);t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.$langConfig.title(t.goodsSkuDetail.goods_name),t.goodsSkuDetail.goods_content&&(t.goodsSkuDetail.goods_content=(0,r.default)(t.goodsSkuDetail.goods_content)),1==t.goodsSkuDetail.promotion_type&&(t.goodsSkuDetail.end_time-s.timestamp>0?t.goodsSkuDetail.discountTimeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-s.timestamp):t.goodsSkuDetail.promotion_type=0),1==t.goodsSkuDetail.promotion_type&&t.goodsSkuDetail.discountTimeMachine?t.goodsSkuDetail.member_price>0&&Number(t.goodsSkuDetail.member_price)<=Number(t.goodsSkuDetail.discount_price)?t.goodsSkuDetail.show_price=t.goodsSkuDetail.member_price:t.goodsSkuDetail.show_price=t.goodsSkuDetail.discount_price:t.goodsSkuDetail.member_price>0?t.goodsSkuDetail.show_price=t.goodsSkuDetail.member_price:t.goodsSkuDetail.show_price=t.goodsSkuDetail.price,t.contactData={title:t.goodsSkuDetail.sku_name,path:"/pages/goods/detail/detail?sku_id="+t.skuId,img:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})},""!=t.token&&0==t.preview&&t.getWhetherCollection(),t.setWechatShare(),t.$refs.goodsPromotion&&t.$refs.goodsPromotion.refresh(t.goodsSkuDetail.goods_promotion),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.goodsSyncToGoodsCircle()}else t.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 6:case"end":return i.stop()}}),i)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.$refs.goodsPromotion&&this.$refs.goodsPromotion.refresh(this.goodsSkuDetail.goods_promotion),this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.preview||this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},goCart:function(){this.preview||this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},joinCart:function(){var t=this;e.getStorageSync("token")||0!=this.preview?this.$refs.goodsSku.show("join_cart",(function(){t.getCartCount()})):this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId)},buyNow:function(){var t=this;e.getStorageSync("token")||0!=this.preview?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},getCoupon:function(){var e=this;this.$api.sendRequest({url:"/coupon/api/coupon/goodsCoupon",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.couponList=i)}})},openCouponPopup:function(){this.$refs.couponPopup.open()},closeCouponPopup:function(){this.$refs.couponPopup.close()},receiveCoupon:function(t){var i=this;this.preview||this.couponBtnSwitch||(this.couponBtnSwitch=!0,e.getStorageSync("token")?this.$api.sendRequest({url:"/coupon/api/coupon/receive",data:{coupon_type_id:t,get_type:2},success:function(e){e.data;var o=e.message;0==e.code&&(o="领取成功"),i.$util.showToast({title:o}),i.couponBtnSwitch=!1,e.data.is_exist&&i.refreshCoupon(t)}}):(this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId),this.couponBtnSwitch=!1))},refreshCoupon:function(e){for(var t in this.couponList){var i=this.couponList[t];e==i.coupon_type_id&&(i.is_lingqu=1)}this.$forceUpdate()},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),e.goodsEvaluate.again_images&&(e.goodsEvaluate.again_images=e.goodsEvaluate.again_images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;this.preview||(e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId))},getCartCount:function(){var e=this;this.preview||this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.preview||(this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}}))},getManjian:function(){var e=this;this.$api.sendRequest({url:"/manjian/api/manjian/info",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(i){e.manjian=i;var o=0==i.type?"元":"件";Object.keys(i.rule_json).forEach((function(t){var r=i.rule_json[t];if(r.limit=0==i.type?parseFloat(r.limit).toFixed(2):parseInt(r.limit),void 0!=r.discount_money&&(void 0==e.manjian.manjian?e.manjian.manjian="满"+r.limit+o+"减"+r.discount_money+"元":e.manjian.manjian+="；满"+r.limit+o+"减"+r.discount_money+"元"),void 0!=r.point||void 0!=r.coupon){var s="";void 0!=r.point&&(s="送"+r.point+"积分"),void 0!=r.coupon&&void 0!=r.coupon_data&&(""==s?s="送"+r.point+"积分":"discount"==r.coupon_data.type?""==s?s="送一张"+r.coupon_data.discount+"折优惠券":s+="、送一张"+r.coupon_data.discount+"折优惠券":""==s?s="送一张"+r.coupon_data.money+"元优惠券":s+="、送一张"+r.coupon_data.money+"元优惠券"),void 0==e.manjian.mansong?e.manjian.mansong="满"+r.limit+o+s:e.manjian.mansong+="；满"+r.limit+o+s}void 0!=r.free_shipping&&(void 0==e.manjian.free_shipping?e.manjian.free_shipping="满"+r.limit+o+"包邮":e.manjian.free_shipping+="；满"+r.limit+o+"包邮")}))}}})},openManjianPopup:function(){this.$refs.manjianPopup.open()},closeManjianPopup:function(){this.$refs.manjianPopup.close()},getBundling:function(){var e=this;this.$api.sendRequest({url:"/bundling/api/bundling/lists",data:{sku_id:this.skuId},success:function(t){if(t.data&&t.data.length){e.bundling=t.data;for(var i=0;i<e.bundling.length;i++)for(var o=0;o<e.bundling[i].bundling_goods.length;o++)e.bundling[i].bundling_goods[o].sku_id==e.skuId&&e.bundling[i].bundling_goods.splice(o,1)}}})},openBundlingPopup:function(){this.$refs.bundlingPopup.open()},closeBundlingPopup:function(){this.$refs.bundlingPopup.close()},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));""!=t.token?t.posterHeight=parseInt(1120/o):t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={sku_id:this.skuId};this.memberId&&(t.source_member=this.memberId),this.$api.sendRequest({url:"/api/goods/poster",data:{page:"/pages/goods/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},imageError:function(){this.goodsSkuDetail.sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},bundlingImageError:function(e,t){this.bundling[e].bundling_goods[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data,e.setWechatShare())}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,r.default)(t.data.content))}}})},fenxiao:function(){this.$refs.fenxiaoPopup.show()},setWechatShare:function(){},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;wx.openBusinessView&&wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t="【"+this.goodsSkuDetail.sku_name+"】发现好物，一起来看看吧。"+this.$config.h5Domain+"/pages/goods/detail/detail?sku_id="+this.skuId;this.memberId&&(t+="&source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))}}};t.default=u}).call(this,i("543d")["default"])},3629:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"帮助中心",emptyText:"当前暂无帮助信息"};t.lang=o},"36c3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},"383b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"专题活动列表"};t.lang=o},"385e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的关注"};t.lang=o},"3a2d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"领取优惠券"};t.lang=o},"3a78":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"申请提现"};t.lang=o},"3ac8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情"};t.lang=o},"3c00":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},seckill_info:{name:""},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/seckill/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("seckillOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/seckill/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="";var i=this.orderPaymentData;if(void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var s=r.name,a=r.title;"store"==s&&i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else s=o[0].name,a=o[0].title;this.orderCreateData.delivery.delivery_type=s,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(void 0!=i.shop_goods_list.coupon_list&&void 0!=i.shop_goods_list.coupon_list[0]){var n=i.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=n[0].coupon_id,this.orderCreateData.coupon.coupon_money=n[0].money}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{for(var u=this.orderPaymentData.shop_goods_list.local_config.info.time_week,l=!1,d=0;d<u.length;d++)if(d+1<u.length){var h=u[d+1]-u[d];if(h>1){l=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(l){var p=[];for(d=0;d<u.length;d++)p.push(f[u[d]]);this.deliveryWeek=p.join("、")}else this.deliveryWeek=f[u[0]]+"至"+f[u[u.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var g=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=g+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),b=y.getHours(),D=y.getMinutes(),S=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),C=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(S==k&&w==C||((b<S||b==S&&D<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==S.toString().length?"0"+S:S)+":"+(1==w.toString().length?"0"+w:w)),(b>k||b==k&&D>C)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/seckill/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),"store"==this.orderCreateData.delivery.delivery_type?o.member_address=JSON.stringify(this.member_address):o.member_address=JSON.stringify(o.member_address),this.$api.sendRequest({url:"/seckill/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?e.removeStorage({key:"seckillOrderCreateData",success:function(){0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(t.data)}}):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&this.$refs.choosePaymentPopup.open()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=i}).call(this,i("543d")["default"])},"3c73":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"兑换"};t.lang=o},"3dbd":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账单"};t.lang=o},"3f2b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{mescroll:null,timeList:[],seckillId:null,seckillIndex:null,dataList:[],index:null,timer:null,noStartList:[]}},watch:{seckillId:function(e,t){e&&t&&e!=t&&this.mescroll.resetUpScroll(!1)}},computed:{show:function(){return this.timeList.length>0}},methods:{isEnd:function(e){e&&this.$util.showToast({title:"限时秒杀活动已结束"})},getTimeList:function(){var e=this;this.$api.sendRequest({url:"/seckill/api/seckill/lists",success:function(t){var i=t.data;if(i){var o=new Date(1e3*t.timestamp),r=60*o.getHours()*60+60*o.getMinutes()+o.getSeconds();if(i.list.forEach((function(t,i){t.seckill_start_time<=r&&r<t.seckill_end_time?(t.isNow=!0,e.seckillId=t.seckill_id,e.index=i,e.seckillIndex=i):t.isNow=!1})),e.timeList=i.list,i.list.length){for(var s=Math.round(new Date/1e3),a=Math.round(new Date((new Date).toLocaleDateString()).getTime()/1e3),n=s-a,c=0;c<i.list.length;c++)if((r<i.list[c].seckill_start_time&&0==c||r<i.list[c].seckill_start_time&&r>i.list[c-1].seckill_end_time&&0!=c||c==i.list.length-1&&r>i.list[c].seckill_end_time)&&(e.seckillId=i.list[c].seckill_id,e.index=c,e.seckillIndex=c),n<i.list[c].seckill_start_time){var u=i.list[c];u.index=c,e.noStartList.push(u)}e.noStartList.length&&e.autoEvent()}var l=e;setInterval((function(){l.getExpirationTime()}),1e3),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}}})},getData:function(e){var t=this;this.mescroll=e,this.$api.sendRequest({url:"/seckill/api/seckillgoods/page",data:{page_size:e.size,page:e.num,seckill_id:this.seckillId},success:function(i){t.showEmpty=!0;var o=[],r=i.message;0==i.code&&i.data?o=i.data.list:t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.dataList=[]),t.dataList=t.dataList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(){e.endErr(),this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},getExpirationTime:function(){var e,t,i,o=this.timeList,r=new Date,s=r.toLocaleDateString();for(var a in o)if(o[a].isNow){this.ident=!0,t=Date.parse(r),e=Date.parse(s)+1e3*parseInt(o[a].seckill_end_time);var n=(e-t)/1e3;if(i=this.$util.countDown(n),this.hour=i.h,this.minute=i.i,this.second=i.s,0==n){var c=parseInt(a)+1;c<o.length&&(this.index=c),this.timeList[a].isNow=!1}return!1}this.ident=!1},ontabtap:function(e,t){this.seckillId=e,this.seckillIndex=t},toGoodsDetail:function(e,t){var i=this;this.seckillIndex<this.index?this.$util.showToast({title:"秒杀活动已结束！"}):this.seckillIndex>this.index?this.$util.showToast({title:"秒杀活动还未开启，敬请期待！"}):this.$api.sendRequest({url:"/api/config/time",data:{},success:function(o){var r=new Date(1e3*o.timestamp),s=60*r.getHours()*60+60*r.getMinutes()+r.getSeconds();i.timeList[t].seckill_start_time<=s&&s<i.timeList[t].seckill_end_time?i.timeList[t].isNow=!0:i.timeList[t].isNow=!1,i.$forceUpdate(),i.timeList[t].isNow?i.$util.redirectTo("/promotionpages/seckill/detail/detail",{id:e}):i.$util.showToast({title:"秒杀活动即将开启，敬请期待！"})}})},imageError:function(e){this.dataList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},autoEvent:function(){var e=this;this.timer=setInterval((function(){for(var t=Math.round(new Date/1e3),i=Math.round(new Date((new Date).toLocaleDateString()).getTime()/1e3),o=t-i,r=0;r<e.noStartList.length;r++){var s=e.noStartList[r];o>s.seckill_start_time&&!s.isNow&&(e.seckillId=s.seckill_id,e.index=s.index,e.timeList[s.index].isNow=!0,void 0!=e.timeList[s.index-1]&&(e.timeList[s.index-1].isNow=!1),e.noStartList.splice(r))}0==e.noStartList.length&&clearInterval(e.timer)}),1e3)}},onShareAppMessage:function(e){var t="一大波的秒杀福利就要开始了，真的不来看看嘛",i="/promotionpages/seckill/list/list";return{title:t,path:i,success:function(e){},fail:function(e){}}},onHide:function(){clearInterval(this.timer)}};t.default=o},4358:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"登录",mobileLogin:"手机号登录",accountLogin:"账号登录",autoLogin:"一键授权登录",login:"登录",mobilePlaceholder:"手机号登录仅限中国大陆用户",dynacodePlaceholder:"请输入动态码",captchaPlaceholder:"请输入验证码",accountPlaceholder:"请输入账号",passwordPlaceholder:"请输入密码",rePasswordPlaceholder:"请确认密码",forgetPassword:"忘记密码",register:"注册",registerTips:"没有账号的用户快来",registerTips1:"注册",registerTips2:"吧",newUserRegister:"新用户注册"};t.lang=o},"437e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"退款",checkDetail:"查看详情",emptyTips:"暂无退款记录"};t.lang=o},4385:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"编辑账户",name:"姓名",namePlaceholder:"请输入真实姓名",mobilePhone:"手机号码",mobilePhonePlaceholder:"请输入手机号",accountType:"账号类型",bankInfo:"支行信息",bankInfoPlaceholder:"请输入支行信息",withdrawalAccount:"提现账号",withdrawalAccountPlaceholder:"请输入提现账号",save:"保存"};t.lang=o},"45d9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"45e1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"店铺笔记"};t.lang=o},"46d1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{listStyle:"",loadingType:"loading",orderType:"",priceOrder:"desc",categoryList:[],goodsList:[],order:"",sort:"desc",showCategory:!1,showScreen:!1,keyword:"",categoryId:0,minPrice:"",maxPrice:"",isFreeShipping:!1,isIphoneX:!1,emptyShow:!1}},onLoad:function(e){this.categoryId=e.category_id||0,this.keyword=e.keyword||"",this.loadCategoryList(this.categoryId),this.isIphoneX=this.$util.uniappIsIPhoneX()},onShow:function(){this.$langConfig.refresh()},methods:{getGoodsList:function(e){var t=this;this.$api.sendRequest({url:"/fenxiao/api/goods/page",data:{page:e.num,page_size:e.size,keyword:this.keyword,category_id:this.categoryId,min_price:this.minPrice,max_price:this.maxPrice,is_free_shipping:this.isFreeShipping?1:0,order:this.order,sort:this.sort},success:function(i){var o=[],r=i.message;0==i.code&&i.data?(0==i.data.page_count&&(t.emptyShow=!0),o=i.data.list):t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},changeListStyle:function(){this.listStyle?this.listStyle="":this.listStyle="largest"},loadCategoryList:function(e,t){var i=this;this.$api.sendRequest({url:"/api/goodscategory/tree",data:{},success:function(e){null!=e.data&&(i.categoryList=e.data)}})},sortTabClick:function(e){if("sales"==e)this.order="sale_num",this.sort="desc";else if("discount_price"==e)this.order="discount_price",this.sort="desc";else{if("screen"==e)return void(this.showScreen=!0);this.order="",this.sort=""}this.orderType===e&&"discount_price"!==e||(this.orderType=e,"discount_price"===e?(this.priceOrder="asc"===this.priceOrder?"desc":"asc",this.sort=this.priceOrder):this.priceOrder="",this.$refs.mescroll.refresh())},navToDetailPage:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.sku_id})},search:function(){this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh()},selectedCategory:function(e){this.categoryId=e},screenData:function(){if(""!=this.minPrice||""!=this.maxPrice){if(!Number(this.minPrice)&&this.minPrice)return void this.$util.showToast({title:"请输入最低价"});if(!Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最输入最高价"});if(Number(this.minPrice)<0||Number(this.maxPrice)<0)return void this.$util.showToast({title:"筛选价格不能小于0"});if(""!=this.minPrice&&Number(this.minPrice)>Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最低价不能大于最高价"});if(""!=this.maxPrice&&Number(this.maxPrice)<Number(this.minPrice))return void this.$util.showToast({title:"最高价不能小于最低价"})}this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh(),this.showScreen=!1},imageError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},followGoods:function(e,t,i){var o=this;this.$api.sendRequest({url:"/fenxiao/api/goodscollect/add",data:{goods_id:t,sku_id:i},success:function(t){var i="";i=t.code>=0?"关注成功":t.message,o.$util.showToast({title:i}),o.goodsList[e].is_collect=1}})},delFollow:function(e,t){var i=this;this.$api.sendRequest({url:"/fenxiao/api/goodscollect/delete",data:{collect_id:e},success:function(e){var o="";o=0==e.code?"取消成功":e.message,i.$util.showToast({title:o});var r=i.goodsList;r[t].is_collect=0,i.goodsList=r}})},resetData:function(){this.categoryId=0,this.minPrice="",this.maxPrice="",this.isFreeShipping=!1}}};t.default=o},"48b3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},"48df":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"退款详情"};t.lang=o},"48f5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"大转盘"};t.lang=o},4994:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"充值列表"};t.lang=o},"4a64":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"专题活动详情"};t.lang=o},"4aab":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品分类"};t.lang=o},"4e67":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分商城"};t.lang=o},"4ed1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账户列表",name:"姓名",accountType:"账号类型",mobilePhone:"手机号码",withdrawalAccount:"提现账号",bankInfo:"支行信息",newAddAccount:"新增账户",del:"删除",update:"修改",emptyText:"当前暂无账户"};t.lang=o},5084:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"余额明细"};t.lang=o},"512d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"520a":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{orderPay:function(t){var i=this;0==t.adjust_money?this.$api.sendRequest({url:"/api/order/pay",data:{order_ids:t.order_id},success:function(e){e.code>=0?i.$refs.choosePaymentPopup.getPayInfo(e.data):i.$util.showToast({title:e.message})}}):e.showModal({title:"提示",content:"商家已将支付金额调整为"+t.pay_money+"元，是否继续支付？",success:function(e){e.confirm&&i.$api.sendRequest({url:"/api/order/pay",data:{order_ids:t.order_id},success:function(e){e.code>=0?i.$refs.choosePaymentPopup.getPayInfo(e.data):i.$util.showToast({title:e.message})}})}})},orderClose:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要关闭该订单吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/close",data:{order_id:t},success:function(e){0==e.code?"function"==typeof i&&i():o.$util.showToast({title:"当前订单可能存在拼团，维权等操作，"+e.message+"不可以关闭哦!",duration:2e3})}})}})},orderDelivery:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定已经收到货物了吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/takedelivery",data:{order_id:t},success:function(e){"function"==typeof i&&i()}})}})}}};t.default=i}).call(this,i("543d")["default"])},"52e8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的关注"};t.lang=o},"52f6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"编辑收货地址",consignee:"姓名",consigneePlaceholder:"收货人姓名",mobile:"手机",mobilePlaceholder:"收货人手机号",telephone:"电话",telephonePlaceholder:"收货人固定电话（选填）",receivingCity:"地区",address:"详细地址",addressPlaceholder:"定位小区、街道、写字楼",save:"保存"};t.lang=o},"52fd":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"核销台"};t.lang=o},"543d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApp=Et,t.createComponent=Ht,t.createPage=zt,t.default=void 0;var o=r(i("66fd"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t){return l(e)||u(e,t)||v(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],o=!0,r=!1,s=void 0;try{for(var a,n=e[Symbol.iterator]();!(o=(a=n.next()).done);o=!0)if(i.push(a.value),t&&i.length===t)break}catch(c){r=!0,s=c}finally{try{o||null==n["return"]||n["return"]()}finally{if(r)throw s}}return i}}function l(e){if(Array.isArray(e))return e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,i){return t&&f(e.prototype,t),i&&f(e,i),e}function g(e){return y(e)||_(e)||v(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"===typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(e,t):void 0}}function _(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function y(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var D=Object.prototype.toString,S=Object.prototype.hasOwnProperty;function w(e){return"function"===typeof e}function k(e){return"string"===typeof e}function C(e){return"[object Object]"===D.call(e)}function $(e,t){return S.call(e,t)}function P(){}function T(e){var t=Object.create(null);return function(i){var o=t[i];return o||(t[i]=e(i))}}var x=/-(\w)/g,I=T((function(e){return e.replace(x,(function(e,t){return t?t.toUpperCase():""}))})),O=["invoke","success","fail","complete","returnValue"],j={},E={};function M(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?A(i):i}function A(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function L(e,t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}function R(e,t){Object.keys(t).forEach((function(i){-1!==O.indexOf(i)&&w(t[i])&&(e[i]=M(e[i],t[i]))}))}function N(e,t){e&&t&&Object.keys(t).forEach((function(i){-1!==O.indexOf(i)&&w(t[i])&&L(e[i],t[i])}))}function U(e,t){"string"===typeof e&&C(t)?R(E[e]||(E[e]={}),t):C(e)&&R(j,e)}function B(e,t){"string"===typeof e?C(t)?N(E[e],t):delete E[e]:C(e)&&N(j,e)}function q(e){return function(t){return e(t)||t}}function V(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}function F(e,t){for(var i=!1,o=0;o<e.length;o++){var r=e[o];if(i)i=Promise.resolve(q(r));else{var s=r(t);if(V(s)&&(i=Promise.resolve(s)),!1===s)return{then:function(){}}}}return i||{then:function(e){return e(t)}}}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["success","fail","complete"].forEach((function(i){if(Array.isArray(e[i])){var o=t[i];t[i]=function(t){F(e[i],t).then((function(e){return w(o)&&o(e)||e}))}}})),t}function H(e,t){var i=[];Array.isArray(j.returnValue)&&i.push.apply(i,g(j.returnValue));var o=E[e];return o&&Array.isArray(o.returnValue)&&i.push.apply(i,g(o.returnValue)),i.forEach((function(e){t=e(t)||t})),t}function G(e){var t=Object.create(null);Object.keys(j).forEach((function(e){"returnValue"!==e&&(t[e]=j[e].slice())}));var i=E[e];return i&&Object.keys(i).forEach((function(e){"returnValue"!==e&&(t[e]=(t[e]||[]).concat(i[e]))})),t}function J(e,t,i){for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];var a=G(e);if(a&&Object.keys(a).length){if(Array.isArray(a.invoke)){var n=F(a.invoke,i);return n.then((function(e){return t.apply(void 0,[z(a,e)].concat(r))}))}return t.apply(void 0,[z(a,i)].concat(r))}return t.apply(void 0,[i].concat(r))}var W={returnValue:function(e){return V(e)?e.then((function(e){return e[1]})).catch((function(e){return e[0]})):e}},X=/^\$|sendNativeEvent|restoreGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64/,K=/^create|Manager$/,Z=["createBLEConnection"],Y=["createBLEConnection"],Q=/^on|^off/;function ee(e){return K.test(e)&&-1===Z.indexOf(e)}function te(e){return X.test(e)&&-1===Y.indexOf(e)}function ie(e){return Q.test(e)&&"onPush"!==e}function oe(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e]}))}function re(e){return!(ee(e)||te(e)||ie(e))}function se(e,t){return re(e)?function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length,r=new Array(o>1?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];return w(i.success)||w(i.fail)||w(i.complete)?H(e,J.apply(void 0,[e,t,i].concat(r))):H(e,oe(new Promise((function(o,s){J.apply(void 0,[e,t,Object.assign({},i,{success:o,fail:s})].concat(r))}))))}:t}Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))});var ae=1e-4,ne=750,ce=!1,ue=0,le=0;function de(){var e=wx.getSystemInfoSync(),t=e.platform,i=e.pixelRatio,o=e.windowWidth;ue=o,le=i,ce="ios"===t}function he(e,t){if(0===ue&&de(),e=Number(e),0===e)return 0;var i=e/ne*(t||ue);return i<0&&(i=-i),i=Math.floor(i+ae),0===i&&(i=1!==le&&ce?.5:1),e<0?-i:i}var fe={promiseInterceptor:W},pe=Object.freeze({__proto__:null,upx2px:he,addInterceptor:U,removeInterceptor:B,interceptors:fe}),ge=function(){function e(t,i){var o=this;h(this,e),this.id=t,this.listener={},this.emitCache={},i&&Object.keys(i).forEach((function(e){o.on(e,i[e])}))}return p(e,[{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];var r=this.listener[e];if(!r)return(this.emitCache[e]||(this.emitCache[e]=[])).push(i);r.forEach((function(e){e.fn.apply(e.fn,i)})),this.listener[e]=r.filter((function(e){return"once"!==e.type}))}},{key:"on",value:function(e,t){this._addListener(e,"on",t),this._clearCache(e)}},{key:"once",value:function(e,t){this._addListener(e,"once",t),this._clearCache(e)}},{key:"off",value:function(e,t){var i=this.listener[e];if(i)if(t)for(var o=0;o<i.length;)i[o].fn===t&&(i.splice(o,1),o--),o++;else delete this.listener[e]}},{key:"_clearCache",value:function(e){var t=this.emitCache[e];if(t)for(;t.length>0;)this.emit.apply(this,[e].concat(t.shift()))}},{key:"_addListener",value:function(e,t,i){(this.listener[e]||(this.listener[e]=[])).push({fn:i,type:t})}}]),e}(),me={},ve=[],_e=0;function ye(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_e++;var i=new ge(_e,e);return t&&(me[_e]=i,ve.push(i)),i}function be(e){if(e){var t=me[e];return delete me[e],t}return ve.shift()}var De={args:function(e,t){var i=ye(e.events).id;e.url&&(e.url=e.url+(-1===e.url.indexOf("?")?"?":"&")+"__id__="+i)},returnValue:function(e,t){e.eventChannel=be()}};function Se(e){var t=getCurrentPages(),i=t.length;while(i--){var o=t[i];if(o.$page&&o.$page.fullPath===e)return i}return-1}var we={name:function(e){return"back"===e.exists&&e.delta?"navigateBack":"redirectTo"},args:function(e){if("back"===e.exists&&e.url){var t=Se(e.url);if(-1!==t){var i=getCurrentPages().length-1-t;i>0&&(e.delta=i)}}}},ke={args:function(e){var t=parseInt(e.current);if(!isNaN(t)){var i=e.urls;if(Array.isArray(i)){var o=i.length;if(o)return t<0?t=0:t>=o&&(t=o-1),t>0?(e.current=i[t],e.urls=i.filter((function(e,o){return!(o<t)||e!==i[t]}))):e.current=i[0],{indicator:!1,loop:!1}}}}};function Ce(e){if(e.safeArea){var t=e.safeArea;e.safeAreaInsets={top:t.top,left:t.left,right:e.windowWidth-t.right,bottom:e.windowHeight-t.bottom}}}var $e={redirectTo:we,navigateTo:De,previewImage:ke,getSystemInfo:{returnValue:Ce},getSystemInfoSync:{returnValue:Ce}},Pe=["vibrate","preloadPage","unPreloadPage","loadSubPackage"],Te=[],xe=["success","fail","cancel","complete"];function Ie(e,t,i){return function(o){return t(je(e,o,i))}}function Oe(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(C(t)){var s=!0===r?t:{};for(var a in w(i)&&(i=i(t,s)||{}),t)if($(i,a)){var n=i[a];w(n)&&(n=n(t[a],t,s)),n?k(n)?s[n]=t[a]:C(n)&&(s[n.name?n.name:a]=n.value):console.warn("微信小程序 ".concat(e,"暂不支持").concat(a))}else-1!==xe.indexOf(a)?w(t[a])&&(s[a]=Ie(e,t[a],o)):r||(s[a]=t[a]);return s}return w(t)&&(t=Ie(e,t,o)),t}function je(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return w($e.returnValue)&&(t=$e.returnValue(e,t)),Oe(e,t,i,{},o)}function Ee(e,t){if($($e,e)){var i=$e[e];return i?function(t,o){var r=i;w(i)&&(r=i(t)),t=Oe(e,t,r.args,r.returnValue);var s=[t];"undefined"!==typeof o&&s.push(o),w(r.name)?e=r.name(t):k(r.name)&&(e=r.name);var a=wx[e].apply(wx,s);return te(e)?je(e,a,r.returnValue,ee(e)):a}:function(){console.error("微信小程序 暂不支持".concat(e))}}return t}var Me=Object.create(null),Ae=["onTabBarMidButtonTap","subscribePush","unsubscribePush","onPush","offPush","share"];function Le(e){return function(t){var i=t.fail,o=t.complete,r={errMsg:"".concat(e,":fail:暂不支持 ").concat(e," 方法")};w(i)&&i(r),w(o)&&o(r)}}Ae.forEach((function(e){Me[e]=Le(e)}));var Re={oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]};function Ne(e){var t=e.service,i=e.success,o=e.fail,r=e.complete,s=!1;Re[t]?(s={errMsg:"getProvider:ok",service:t,provider:Re[t]},w(i)&&i(s)):(s={errMsg:"getProvider:fail:服务["+t+"]不存在"},w(o)&&o(s)),w(r)&&r(s)}var Ue=Object.freeze({__proto__:null,getProvider:Ne}),Be=function(){var e;return function(){return e||(e=new o.default),e}}();function qe(e,t,i){return e[t].apply(e,i)}function Ve(){return qe(Be(),"$on",Array.prototype.slice.call(arguments))}function Fe(){return qe(Be(),"$off",Array.prototype.slice.call(arguments))}function ze(){return qe(Be(),"$once",Array.prototype.slice.call(arguments))}function He(){return qe(Be(),"$emit",Array.prototype.slice.call(arguments))}var Ge=Object.freeze({__proto__:null,$on:Ve,$off:Fe,$once:ze,$emit:He}),Je=Object.freeze({__proto__:null}),We=Page,Xe=Component,Ke=/:/g,Ze=T((function(e){return I(e.replace(Ke,"-"))}));function Ye(e){if(wx.canIUse("nextTick")){var t=e.triggerEvent;e.triggerEvent=function(i){for(var o=arguments.length,r=new Array(o>1?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];return t.apply(e,[Ze(i)].concat(r))}}}function Qe(e,t){var i=t[e];t[e]=i?function(){Ye(this);for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return i.apply(this,t)}:function(){Ye(this)}}Page=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qe("onLoad",e),We(e)},Component=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qe("created",e),Xe(e)};var et=["onPullDownRefresh","onReachBottom","onAddToFavorites","onShareTimeline","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function tt(e,t){var i=e.$mp[e.mpType];t.forEach((function(t){$(i,t)&&(e[t]=i[t])}))}function it(e,t){if(!t)return!0;if(o.default.options&&Array.isArray(o.default.options[e]))return!0;if(t=t.default||t,w(t))return!!w(t.extendOptions[e])||!!(t.super&&t.super.options&&Array.isArray(t.super.options[e]));if(w(t[e]))return!0;var i=t.mixins;return Array.isArray(i)?!!i.find((function(t){return it(e,t)})):void 0}function ot(e,t,i){t.forEach((function(t){it(t,i)&&(e[t]=function(e){return this.$vm&&this.$vm.__call_hook(t,e)})}))}function rt(e,t){var i;return t=t.default||t,i=w(t)?t:e.extend(t),t=i.options,[i,t]}function st(e,t){if(Array.isArray(t)&&t.length){var i=Object.create(null);t.forEach((function(e){i[e]=!0})),e.$scopedSlots=e.$slots=i}}function at(e,t){e=(e||"").split(",");var i=e.length;1===i?t._$vueId=e[0]:2===i&&(t._$vueId=e[0],t._$vuePid=e[1])}function nt(e,t){var i=e.data||{},o=e.methods||{};if("function"===typeof i)try{i=i.call(t)}catch(r){Object({NODE_ENV:"production",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG&&console.warn("根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。",i)}else try{i=JSON.parse(JSON.stringify(i))}catch(r){}return C(i)||(i={}),Object.keys(o).forEach((function(e){-1!==t.__lifecycle_hooks__.indexOf(e)||$(i,e)||(i[e]=o[e])})),i}var ct=[String,Number,Boolean,Object,Array,null];function ut(e){return function(t,i){this.$vm&&(this.$vm[e]=t)}}function lt(e,t){var i=e.behaviors,o=e.extends,r=e.mixins,s=e.props;s||(e.props=s=[]);var a=[];return Array.isArray(i)&&i.forEach((function(e){a.push(e.replace("uni://","wx".concat("://"))),"uni://form-field"===e&&(Array.isArray(s)?(s.push("name"),s.push("value")):(s.name={type:String,default:""},s.value={type:[String,Number,Boolean,Array,Object,Date],default:""}))})),C(o)&&o.props&&a.push(t({properties:ht(o.props,!0)})),Array.isArray(r)&&r.forEach((function(e){C(e)&&e.props&&a.push(t({properties:ht(e.props,!0)}))})),a}function dt(e,t,i,o){return Array.isArray(t)&&1===t.length?t[0]:t}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};return t||(i.vueId={type:String,value:""},i.generic={type:Object,value:null},i.vueSlots={type:null,value:[],observer:function(e,t){var i=Object.create(null);e.forEach((function(e){i[e]=!0})),this.setData({$slots:i})}}),Array.isArray(e)?e.forEach((function(e){i[e]={type:null,observer:ut(e)}})):C(e)&&Object.keys(e).forEach((function(t){var o=e[t];if(C(o)){var r=o.default;w(r)&&(r=r()),o.type=dt(t,o.type),i[t]={type:-1!==ct.indexOf(o.type)?o.type:null,value:r,observer:ut(t)}}else{var s=dt(t,o);i[t]={type:-1!==ct.indexOf(s)?s:null,observer:ut(t)}}})),i}function ft(e){try{e.mp=JSON.parse(JSON.stringify(e))}catch(t){}return e.stopPropagation=P,e.preventDefault=P,e.target=e.target||{},$(e,"detail")||(e.detail={}),$(e,"markerId")&&(e.detail="object"===typeof e.detail?e.detail:{},e.detail.markerId=e.markerId),C(e.detail)&&(e.target=Object.assign({},e.target,e.detail)),e}function pt(e,t){var i=e;return t.forEach((function(t){var o=t[0],r=t[2];if(o||"undefined"!==typeof r){var s,a=t[1],n=t[3];Number.isInteger(o)?s=o:o?"string"===typeof o&&o&&(s=0===o.indexOf("#s#")?o.substr(3):e.__get_value(o,i)):s=i,Number.isInteger(s)?i=r:a?Array.isArray(s)?i=s.find((function(t){return e.__get_value(a,t)===r})):C(s)?i=Object.keys(s).find((function(t){return e.__get_value(a,s[t])===r})):console.error("v-for 暂不支持循环数据：",s):i=s[r],n&&(i=e.__get_value(n,i))}})),i}function gt(e,t,i){var o={};return Array.isArray(t)&&t.length&&t.forEach((function(t,r){"string"===typeof t?t?"$event"===t?o["$"+r]=i:"arguments"===t?i.detail&&i.detail.__args__?o["$"+r]=i.detail.__args__:o["$"+r]=[i]:0===t.indexOf("$event.")?o["$"+r]=e.__get_value(t.replace("$event.",""),i):o["$"+r]=e.__get_value(t):o["$"+r]=e:o["$"+r]=pt(e,t)})),o}function mt(e){for(var t={},i=1;i<e.length;i++){var o=e[i];t[o[0]]=o[1]}return t}function vt(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=!1;if(r&&(a=t.currentTarget&&t.currentTarget.dataset&&"wx"===t.currentTarget.dataset.comType,!i.length))return a?[t]:t.detail.__args__||t.detail;var n=gt(e,o,t),c=[];return i.forEach((function(e){"$event"===e?"__set_model"!==s||r?r&&!a?c.push(t.detail.__args__[0]):c.push(t):c.push(t.target.value):Array.isArray(e)&&"o"===e[0]?c.push(mt(e)):"string"===typeof e&&$(n,e)?c.push(n[e]):c.push(e)})),c}var _t="~",yt="^";function bt(e,t){return e===t||"regionchange"===t&&("begin"===e||"end"===e)}function Dt(e){var t=e.$parent;while(t&&t.$parent&&(t.$options.generic||t.$parent.$options.generic||t.$scope._$vuePid))t=t.$parent;return t&&t.$parent}function St(e){var t=this;e=ft(e);var i=(e.currentTarget||e.target).dataset;if(!i)return console.warn("事件信息不存在");var o=i.eventOpts||i["event-opts"];if(!o)return console.warn("事件信息不存在");var r=e.type,s=[];return o.forEach((function(i){var o=i[0],a=i[1],n=o.charAt(0)===yt;o=n?o.slice(1):o;var c=o.charAt(0)===_t;o=c?o.slice(1):o,a&&bt(r,o)&&a.forEach((function(i){var o=i[0];if(o){var r=t.$vm;if(r.$options.generic&&(r=Dt(r)||r),"$emit"===o)return void r.$emit.apply(r,vt(t.$vm,e,i[1],i[2],n,o));var a=r[o];if(!w(a))throw new Error(" _vm.".concat(o," is not a function"));if(c){if(a.once)return;a.once=!0}var u=vt(t.$vm,e,i[1],i[2],n,o);s.push(a.apply(r,(Array.isArray(u)?u:[]).concat([,,,,,,,,,,e])))}}))})),"input"===r&&1===s.length&&"undefined"!==typeof s[0]?s[0]:void 0}var wt=["onShow","onHide","onError","onPageNotFound","onThemeChange","onUnhandledRejection"];function kt(e,t){var i=t.mocks,r=t.initRefs;e.$options.store&&(o.default.prototype.$store=e.$options.store),o.default.prototype.mpHost="mp-weixin",o.default.mixin({beforeCreate:function(){this.$options.mpType&&(this.mpType=this.$options.mpType,this.$mp=d({data:{}},this.mpType,this.$options.mpInstance),this.$scope=this.$options.mpInstance,delete this.$options.mpType,delete this.$options.mpInstance,"app"!==this.mpType&&(r(this),tt(this,i)))}});var s={onLaunch:function(t){this.$vm||(wx.canIUse("nextTick")||console.error("当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上"),this.$vm=e,this.$vm.$mp={app:this},this.$vm.$scope=this,this.$vm.globalData=this.globalData,this.$vm._isMounted=!0,this.$vm.__call_hook("mounted",t),this.$vm.__call_hook("onLaunch",t))}};s.globalData=e.$options.globalData||{};var a=e.$options.methods;return a&&Object.keys(a).forEach((function(e){s[e]=a[e]})),ot(s,wt),s}var Ct=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function $t(e,t){for(var i,o=e.$children,r=o.length-1;r>=0;r--){var s=o[r];if(s.$scope._$vueId===t)return s}for(var a=o.length-1;a>=0;a--)if(i=$t(o[a],t),i)return i}function Pt(e){return Behavior(e)}function Tt(){return!!this.route}function xt(e){this.triggerEvent("__l",e)}function It(e){var t=e.$scope;Object.defineProperty(e,"$refs",{get:function(){var e={},i=t.selectAllComponents(".vue-ref");i.forEach((function(t){var i=t.dataset.ref;e[i]=t.$vm||t}));var o=t.selectAllComponents(".vue-ref-in-for");return o.forEach((function(t){var i=t.dataset.ref;e[i]||(e[i]=[]),e[i].push(t.$vm||t)})),e}})}function Ot(e){var t,i=e.detail||e.value,o=i.vuePid,r=i.vueOptions;o&&(t=$t(this.$vm,o)),t||(t=this.$vm),r.parent=t}function jt(e){return kt(e,{mocks:Ct,initRefs:It})}function Et(e){o.default.prototype.getOpenerEventChannel=function(){return this.__eventChannel__||(this.__eventChannel__=new ge),this.__eventChannel__};var t=o.default.prototype.__call_hook;return o.default.prototype.__call_hook=function(e,i){return"onLoad"===e&&i&&i.__id__&&(this.__eventChannel__=be(i.__id__),delete i.__id__),t.call(this,e,i)},App(jt(e)),e}var Mt=/[!'()*]/g,At=function(e){return"%"+e.charCodeAt(0).toString(16)},Lt=/%2C/g,Rt=function(e){return encodeURIComponent(e).replace(Mt,At).replace(Lt,",")};function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt,i=e?Object.keys(e).map((function(i){var o=e[i];if(void 0===o)return"";if(null===o)return t(i);if(Array.isArray(o)){var r=[];return o.forEach((function(e){void 0!==e&&(null===e?r.push(t(i)):r.push(t(i)+"="+t(e)))})),r.join("&")}return t(i)+"="+t(o)})).filter((function(e){return e.length>0})).join("&"):null;return i?"?".concat(i):""}function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.isPage,r=t.initRelation,s=rt(o.default,e),c=n(s,2),u=c[0],l=c[1],d=a({multipleSlots:!0,addGlobalClass:!0},l.options||{});l["mp-weixin"]&&l["mp-weixin"].options&&Object.assign(d,l["mp-weixin"].options);var h={options:d,data:nt(l,o.default.prototype),behaviors:lt(l,Pt),properties:ht(l.props,!1,l.__file),lifetimes:{attached:function(){var e=this.properties,t={mpType:i.call(this)?"page":"component",mpInstance:this,propsData:e};at(e.vueId,this),r.call(this,{vuePid:this._$vuePid,vueOptions:t}),this.$vm=new u(t),st(this.$vm,e.vueSlots),this.$vm.$mount()},ready:function(){this.$vm&&(this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady"))},detached:function(){this.$vm&&this.$vm.$destroy()}},pageLifetimes:{show:function(e){this.$vm&&this.$vm.__call_hook("onPageShow",e)},hide:function(){this.$vm&&this.$vm.__call_hook("onPageHide")},resize:function(e){this.$vm&&this.$vm.__call_hook("onPageResize",e)}},methods:{__l:Ot,__e:St}};return l.externalClasses&&(h.externalClasses=l.externalClasses),Array.isArray(l.wxsCallMethods)&&l.wxsCallMethods.forEach((function(e){h.methods[e]=function(t){return this.$vm[e](t)}})),i?h:[h,u]}function Bt(e){return Ut(e,{isPage:Tt,initRelation:xt})}var qt=["onShow","onHide","onUnload"];function Vt(e,t){t.isPage,t.initRelation;var i=Bt(e);return ot(i.methods,qt,e),i.methods.onLoad=function(e){this.options=e;var t=Object.assign({},e);delete t.__id__,this.$page={fullPath:"/"+(this.route||this.is)+Nt(t)},this.$vm.$mp.query=e,this.$vm.__call_hook("onLoad",e)},i}function Ft(e){return Vt(e,{isPage:Tt,initRelation:xt})}function zt(e){return Component(Ft(e))}function Ht(e){return Component(Bt(e))}qt.push.apply(qt,et),Pe.forEach((function(e){$e[e]=!1})),Te.forEach((function(e){var t=$e[e]&&$e[e].name?$e[e].name:e;wx.canIUse(t)||($e[e]=!1)}));var Gt={};"undefined"!==typeof Proxy?Gt=new Proxy({},{get:function(e,t){return $(e,t)?e[t]:pe[t]?pe[t]:Je[t]?se(t,Je[t]):Ue[t]?se(t,Ue[t]):Me[t]?se(t,Me[t]):Ge[t]?Ge[t]:$(wx,t)||$($e,t)?se(t,Ee(t,wx[t])):void 0},set:function(e,t,i){return e[t]=i,!0}}):(Object.keys(pe).forEach((function(e){Gt[e]=pe[e]})),Object.keys(Me).forEach((function(e){Gt[e]=se(e,Me[e])})),Object.keys(Ue).forEach((function(e){Gt[e]=se(e,Me[e])})),Object.keys(Ge).forEach((function(e){Gt[e]=Ge[e]})),Object.keys(Je).forEach((function(e){Gt[e]=se(e,Je[e])})),Object.keys(wx).forEach((function(e){($(wx,e)||$($e,e))&&(Gt[e]=se(e,Ee(e,wx[e])))}))),wx.createApp=Et,wx.createPage=zt,wx.createComponent=Ht;var Jt=Gt,Wt=Jt;t.default=Wt},5558:function(e,t){},"594a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},"596c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(e){this.mescroll&&this.mescroll.onPageScroll(e)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(e){this.mescroll=e,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var e=this.$refs.mescrollRef;e&&(this.mescroll=e.mescroll)}},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(){var e=this;setTimeout((function(){e.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},r=o;t.default=r},"5dd3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"秒杀专区"};t.lang=o},"5f51":function(e,t,i){(function(e,i){i(t)})(0,(function(e){"use strict";var t="0123456789abcdefghijklmnopqrstuvwxyz";function i(e){return t.charAt(e)}function o(e,t){return e&t}function r(e,t){return e|t}function s(e,t){return e^t}function a(e,t){return e&~t}function n(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function c(e){var t=0;while(0!=e)e&=e-1,++t;return t}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l="=";function d(e){var t,i,o="";for(t=0;t+3<=e.length;t+=3)i=parseInt(e.substring(t,t+3),16),o+=u.charAt(i>>6)+u.charAt(63&i);t+1==e.length?(i=parseInt(e.substring(t,t+1),16),o+=u.charAt(i<<2)):t+2==e.length&&(i=parseInt(e.substring(t,t+2),16),o+=u.charAt(i>>2)+u.charAt((3&i)<<4));while((3&o.length)>0)o+=l;return o}function h(e){var t,o="",r=0,s=0;for(t=0;t<e.length;++t){if(e.charAt(t)==l)break;var a=u.indexOf(e.charAt(t));a<0||(0==r?(o+=i(a>>2),s=3&a,r=1):1==r?(o+=i(s<<2|a>>4),s=15&a,r=2):2==r?(o+=i(s),o+=i(a>>2),s=3&a,r=3):(o+=i(s<<2|a>>4),o+=i(15&a),r=0))}return 1==r&&(o+=i(s<<2)),o}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var f,p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},p(e,t)};function g(e,t){function i(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var m,v={decode:function(e){var t;if(void 0===f){var i="0123456789ABCDEF",o=" \f\n\r\t \u2028\u2029";for(f={},t=0;t<16;++t)f[i.charAt(t)]=t;for(i=i.toLowerCase(),t=10;t<16;++t)f[i.charAt(t)]=t;for(t=0;t<o.length;++t)f[o.charAt(t)]=-1}var r=[],s=0,a=0;for(t=0;t<e.length;++t){var n=e.charAt(t);if("="==n)break;if(n=f[n],-1!=n){if(void 0===n)throw new Error("Illegal character at offset "+t);s|=n,++a>=2?(r[r.length]=s,s=0,a=0):s<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return r}},_={decode:function(e){var t;if(void 0===m){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="= \f\n\r\t \u2028\u2029";for(m=Object.create(null),t=0;t<64;++t)m[i.charAt(t)]=t;for(t=0;t<o.length;++t)m[o.charAt(t)]=-1}var r=[],s=0,a=0;for(t=0;t<e.length;++t){var n=e.charAt(t);if("="==n)break;if(n=m[n],-1!=n){if(void 0===n)throw new Error("Illegal character at offset "+t);s|=n,++a>=4?(r[r.length]=s>>16,r[r.length]=s>>8&255,r[r.length]=255&s,s=0,a=0):s<<=6}}switch(a){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:r[r.length]=s>>10;break;case 3:r[r.length]=s>>16,r[r.length]=s>>8&255;break}return r},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=_.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return _.decode(e)}},y=1e13,b=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var i,o,r=this.buf,s=r.length;for(i=0;i<s;++i)o=r[i]*e+t,o<y?t=0:(t=0|o/y,o-=t*y),r[i]=o;t>0&&(r[i]=t)},e.prototype.sub=function(e){var t,i,o=this.buf,r=o.length;for(t=0;t<r;++t)i=o[t]-e,i<0?(i+=y,e=1):e=0,o[t]=i;while(0===o[o.length-1])o.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,i=t[t.length-1].toString(),o=t.length-2;o>=0;--o)i+=(y+t[o]).toString().substring(1);return i},e.prototype.valueOf=function(){for(var e=this.buf,t=0,i=e.length-1;i>=0;--i)t=t*y+e[i];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),D="…",S=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,w=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function k(e,t){return e.length>t&&(e=e.substring(0,t)+D),e}var C,$=function(){function e(t,i){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=i)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset "+e+" on a stream of length "+this.enc.length);return"string"===typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,i){for(var o="",r=e;r<t;++r)if(o+=this.hexByte(this.get(r)),!0!==i)switch(15&r){case 7:o+="  ";break;case 15:o+="\n";break;default:o+=" "}return o},e.prototype.isASCII=function(e,t){for(var i=e;i<t;++i){var o=this.get(i);if(o<32||o>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var i="",o=e;o<t;++o)i+=String.fromCharCode(this.get(o));return i},e.prototype.parseStringUTF=function(e,t){for(var i="",o=e;o<t;){var r=this.get(o++);i+=r<128?String.fromCharCode(r):r>191&&r<224?String.fromCharCode((31&r)<<6|63&this.get(o++)):String.fromCharCode((15&r)<<12|(63&this.get(o++))<<6|63&this.get(o++))}return i},e.prototype.parseStringBMP=function(e,t){for(var i,o,r="",s=e;s<t;)i=this.get(s++),o=this.get(s++),r+=String.fromCharCode(i<<8|o);return r},e.prototype.parseTime=function(e,t,i){var o=this.parseStringISO(e,t),r=(i?S:w).exec(o);return r?(i&&(r[1]=+r[1],r[1]+=+r[1]<70?2e3:1900),o=r[1]+"-"+r[2]+"-"+r[3]+" "+r[4],r[5]&&(o+=":"+r[5],r[6]&&(o+=":"+r[6],r[7]&&(o+="."+r[7]))),r[8]&&(o+=" UTC","Z"!=r[8]&&(o+=r[8],r[9]&&(o+=":"+r[9]))),o):"Unrecognized time: "+o},e.prototype.parseInteger=function(e,t){var i,o=this.get(e),r=o>127,s=r?255:0,a="";while(o==s&&++e<t)o=this.get(e);if(i=t-e,0===i)return r?-1:0;if(i>4){a=o,i<<=3;while(0==(128&(+a^s)))a=+a<<1,--i;a="("+i+" bit)\n"}r&&(o-=256);for(var n=new b(o),c=e+1;c<t;++c)n.mulAdd(256,this.get(c));return a+n.toString()},e.prototype.parseBitString=function(e,t,i){for(var o=this.get(e),r=(t-e-1<<3)-o,s="("+r+" bit)\n",a="",n=e+1;n<t;++n){for(var c=this.get(n),u=n==t-1?o:0,l=7;l>=u;--l)a+=c>>l&1?"1":"0";if(a.length>i)return s+k(a,i)}return s+a},e.prototype.parseOctetString=function(e,t,i){if(this.isASCII(e,t))return k(this.parseStringISO(e,t),i);var o=t-e,r="("+o+" byte)\n";i/=2,o>i&&(t=e+i);for(var s=e;s<t;++s)r+=this.hexByte(this.get(s));return o>i&&(r+=D),r},e.prototype.parseOID=function(e,t,i){for(var o="",r=new b,s=0,a=e;a<t;++a){var n=this.get(a);if(r.mulAdd(128,127&n),s+=7,!(128&n)){if(""===o)if(r=r.simplify(),r instanceof b)r.sub(80),o="2."+r.toString();else{var c=r<80?r<40?0:1:2;o=c+"."+(r-40*c)}else o+="."+r.toString();if(o.length>i)return k(o,i);r=new b,s=0}}return s>0&&(o+=".incomplete"),o},e}(),P=function(){function e(e,t,i,o,r){if(!(o instanceof T))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=i,this.tag=o,this.sub=r}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),i=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+i,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+i,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+i,e);case 6:return this.stream.parseOID(t,t+i,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return k(this.stream.parseStringUTF(t,t+i),e);case 18:case 19:case 20:case 21:case 22:case 26:return k(this.stream.parseStringISO(t,t+i),e);case 30:return k(this.stream.parseStringBMP(t,t+i),e);case 23:case 24:return this.stream.parseTime(t,t+i,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var i=0,o=this.sub.length;i<o;++i)t+=this.sub[i].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),i=127&t;if(i==t)return i;if(i>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===i)return null;t=0;for(var o=0;o<i;++o)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,i=2*this.length;return e.substr(t,i)},e.decode=function(t){var i;i=t instanceof $?t:new $(t,0);var o=new $(i),r=new T(i),s=e.decodeLength(i),a=i.pos,n=a-o.pos,c=null,u=function(){var t=[];if(null!==s){var o=a+s;while(i.pos<o)t[t.length]=e.decode(i);if(i.pos!=o)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var r=e.decode(i);if(r.tag.isEOC())break;t[t.length]=r}s=a-i.pos}catch(n){throw new Error("Exception while decoding undefined length content: "+n)}return t};if(r.tagConstructed)c=u();else if(r.isUniversal()&&(3==r.tagNumber||4==r.tagNumber))try{if(3==r.tagNumber&&0!=i.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(d){c=null}if(null===c){if(null===s)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);i.pos=a+Math.abs(s)}return new e(o,n,s,r,c)},e}(),T=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=0!==(32&t),this.tagNumber=31&t,31==this.tagNumber){var i=new b;do{t=e.get(),i.mulAdd(128,127&t)}while(128&t);this.tagNumber=i.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),x=0xdeadbeefcafe,I=15715070==(16777215&x),O=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],j=(1<<26)/O[O.length-1],E=function(){function e(e,t,i){null!=e&&("number"==typeof e?this.fromNumber(e,t,i):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var o,r=(1<<t)-1,s=!1,a="",n=this.t,c=this.DB-n*this.DB%t;if(n-- >0){c<this.DB&&(o=this[n]>>c)>0&&(s=!0,a=i(o));while(n>=0)c<t?(o=(this[n]&(1<<c)-1)<<t-c,o|=this[--n]>>(c+=this.DB-t)):(o=this[n]>>(c-=t)&r,c<=0&&(c+=this.DB,--n)),o>0&&(s=!0),s&&(a+=i(o))}return s?a:"0"},e.prototype.negate=function(){var t=N();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(t=i-e.t,0!=t)return this.s<0?-t:t;while(--i>=0)if(0!=(t=this[i]-e[i]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+X(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var i=N();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i},e.prototype.modPowInt=function(e,t){var i;return i=e<256||t.isEven()?new A(t):new L(t),this.exp(e,i)},e.prototype.clone=function(){var e=N();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var i,o=this.DB-e*this.DB%8,r=0;if(e-- >0){o<this.DB&&(i=this[e]>>o)!=(this.s&this.DM)>>o&&(t[r++]=i|this.s<<this.DB-o);while(e>=0)o<8?(i=(this[e]&(1<<o)-1)<<8-o,i|=this[--e]>>(o+=this.DB-8)):(i=this[e]>>(o-=8)&255,o<=0&&(o+=this.DB,--e)),0!=(128&i)&&(i|=-256),0==r&&(128&this.s)!=(128&i)&&++r,(r>0||i!=this.s)&&(t[r++]=i)}return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=N();return this.bitwiseTo(e,o,t),t},e.prototype.or=function(e){var t=N();return this.bitwiseTo(e,r,t),t},e.prototype.xor=function(e){var t=N();return this.bitwiseTo(e,s,t),t},e.prototype.andNot=function(e){var t=N();return this.bitwiseTo(e,a,t),t},e.prototype.not=function(){for(var e=N(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=N();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=N();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+n(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=c(this[i]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,r)},e.prototype.clearBit=function(e){return this.changeBit(e,a)},e.prototype.flipBit=function(e){return this.changeBit(e,s)},e.prototype.add=function(e){var t=N();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=N();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=N();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=N();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=N();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=N(),i=N();return this.divRemTo(e,t,i),[t,i]},e.prototype.modPow=function(e,t){var i,o,r=e.bitLength(),s=W(1);if(r<=0)return s;i=r<18?1:r<48?3:r<144?4:r<768?5:6,o=r<8?new A(t):t.isEven()?new R(t):new L(t);var a=[],n=3,c=i-1,u=(1<<i)-1;if(a[1]=o.convert(this),i>1){var l=N();o.sqrTo(a[1],l);while(n<=u)a[n]=N(),o.mulTo(l,a[n-2],a[n]),n+=2}var d,h,f=e.t-1,p=!0,g=N();r=X(e[f])-1;while(f>=0){r>=c?d=e[f]>>r-c&u:(d=(e[f]&(1<<r+1)-1)<<c-r,f>0&&(d|=e[f-1]>>this.DB+r-c)),n=i;while(0==(1&d))d>>=1,--n;if((r-=n)<0&&(r+=this.DB,--f),p)a[d].copyTo(s),p=!1;else{while(n>1)o.sqrTo(s,g),o.sqrTo(g,s),n-=2;n>0?o.sqrTo(s,g):(h=s,s=g,g=h),o.mulTo(g,a[d],s)}while(f>=0&&0==(e[f]&1<<r))o.sqrTo(s,g),h=s,s=g,g=h,--r<0&&(r=this.DB-1,--f)}return o.revert(s)},e.prototype.modInverse=function(t){var i=t.isEven();if(this.isEven()&&i||0==t.signum())return e.ZERO;var o=t.clone(),r=this.clone(),s=W(1),a=W(0),n=W(0),c=W(1);while(0!=o.signum()){while(o.isEven())o.rShiftTo(1,o),i?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);while(r.isEven())r.rShiftTo(1,r),i?(n.isEven()&&c.isEven()||(n.addTo(this,n),c.subTo(t,c)),n.rShiftTo(1,n)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);o.compareTo(r)>=0?(o.subTo(r,o),i&&s.subTo(n,s),a.subTo(c,a)):(r.subTo(o,r),i&&n.subTo(s,n),c.subTo(a,c))}return 0!=r.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},e.prototype.pow=function(e){return this.exp(e,new M)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var o=t;t=i,i=o}var r=t.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)return t;r<s&&(s=r),s>0&&(t.rShiftTo(s,t),i.rShiftTo(s,i));while(t.signum()>0)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return s>0&&i.lShiftTo(s,i),i},e.prototype.isProbablePrime=function(e){var t,i=this.abs();if(1==i.t&&i[0]<=O[O.length-1]){for(t=0;t<O.length;++t)if(i[0]==O[t])return!0;return!1}if(i.isEven())return!1;t=1;while(t<O.length){var o=O[t],r=t+1;while(r<O.length&&o<j)o*=O[r++];o=i.modInt(o);while(t<r)if(o%O[t++]==0)return!1}return i.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,i){var o;if(16==i)o=4;else if(8==i)o=3;else if(256==i)o=8;else if(2==i)o=1;else if(32==i)o=5;else{if(4!=i)return void this.fromRadix(t,i);o=2}this.t=0,this.s=0;var r=t.length,s=!1,a=0;while(--r>=0){var n=8==o?255&+t[r]:J(t,r);n<0?"-"==t.charAt(r)&&(s=!0):(s=!1,0==a?this[this.t++]=n:a+o>this.DB?(this[this.t-1]|=(n&(1<<this.DB-a)-1)<<a,this[this.t++]=n>>this.DB-a):this[this.t-1]|=n<<a,a+=o,a>=this.DB&&(a-=this.DB))}8==o&&0!=(128&+t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t},e.prototype.dlShiftTo=function(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var i=e%this.DB,o=this.DB-i,r=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM,n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>o|a,a=(this[n]&r)<<i;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var o=e%this.DB,r=this.DB-o,s=(1<<o)-1;t[0]=this[i]>>o;for(var a=i+1;a<this.t;++a)t[a-i-1]|=(this[a]&s)<<r,t[a-i]=this[a]>>o;o>0&&(t[this.t-i-1]|=(this.s&s)<<r),t.t=this.t-i,t.clamp()}},e.prototype.subTo=function(e,t){var i=0,o=0,r=Math.min(e.t,this.t);while(i<r)o+=this[i]-e[i],t[i++]=o&this.DM,o>>=this.DB;if(e.t<this.t){o-=e.s;while(i<this.t)o+=this[i],t[i++]=o&this.DM,o>>=this.DB;o+=this.s}else{o+=this.s;while(i<e.t)o-=e[i],t[i++]=o&this.DM,o>>=this.DB;o-=e.s}t.s=o<0?-1:0,o<-1?t[i++]=this.DV+o:o>0&&(t[i++]=o),t.t=i,t.clamp()},e.prototype.multiplyTo=function(t,i){var o=this.abs(),r=t.abs(),s=o.t;i.t=s+r.t;while(--s>=0)i[s]=0;for(s=0;s<r.t;++s)i[s+o.t]=o.am(0,r[s],i,s,0,o.t);i.s=0,i.clamp(),this.s!=t.s&&e.ZERO.subTo(i,i)},e.prototype.squareTo=function(e){var t=this.abs(),i=e.t=2*t.t;while(--i>=0)e[i]=0;for(i=0;i<t.t-1;++i){var o=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,o,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,i,o){var r=t.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=i&&i.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=N());var a=N(),n=this.s,c=t.s,u=this.DB-X(r[r.t-1]);u>0?(r.lShiftTo(u,a),s.lShiftTo(u,o)):(r.copyTo(a),s.copyTo(o));var l=a.t,d=a[l-1];if(0!=d){var h=d*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),f=this.FV/h,p=(1<<this.F1)/h,g=1<<this.F2,m=o.t,v=m-l,_=null==i?N():i;a.dlShiftTo(v,_),o.compareTo(_)>=0&&(o[o.t++]=1,o.subTo(_,o)),e.ONE.dlShiftTo(l,_),_.subTo(a,a);while(a.t<l)a[a.t++]=0;while(--v>=0){var y=o[--m]==d?this.DM:Math.floor(o[m]*f+(o[m-1]+g)*p);if((o[m]+=a.am(0,y,o,v,0,l))<y){a.dlShiftTo(v,_),o.subTo(_,o);while(o[m]<--y)o.subTo(_,o)}}null!=i&&(o.drShiftTo(l,i),n!=c&&e.ZERO.subTo(i,i)),o.t=l,o.clamp(),u>0&&o.rShiftTo(u,o),n<0&&e.ZERO.subTo(o,o)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,i){if(t>4294967295||t<1)return e.ONE;var o=N(),r=N(),s=i.convert(this),a=X(t)-1;s.copyTo(o);while(--a>=0)if(i.sqrTo(o,r),(t&1<<a)>0)i.mulTo(r,s,o);else{var n=o;o=r,r=n}return i.revert(o)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),o=W(i),r=N(),s=N(),a="";this.divRemTo(o,r,s);while(r.signum()>0)a=(i+s.intValue()).toString(e).substr(1)+a,r.divRemTo(o,r,s);return s.intValue().toString(e)+a},e.prototype.fromRadix=function(t,i){this.fromInt(0),null==i&&(i=10);for(var o=this.chunkSize(i),r=Math.pow(i,o),s=!1,a=0,n=0,c=0;c<t.length;++c){var u=J(t,c);u<0?"-"==t.charAt(c)&&0==this.signum()&&(s=!0):(n=i*n+u,++a>=o&&(this.dMultiply(r),this.dAddOffset(n,0),a=0,n=0))}a>0&&(this.dMultiply(Math.pow(i,a)),this.dAddOffset(n,0)),s&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,i,o){if("number"==typeof i)if(t<2)this.fromInt(1);else{this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),r,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(i))this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this)}else{var s=[],a=7&t;s.length=1+(t>>3),i.nextBytes(s),a>0?s[0]&=(1<<a)-1:s[0]=0,this.fromString(s,256)}},e.prototype.bitwiseTo=function(e,t,i){var o,r,s=Math.min(e.t,this.t);for(o=0;o<s;++o)i[o]=t(this[o],e[o]);if(e.t<this.t){for(r=e.s&this.DM,o=s;o<this.t;++o)i[o]=t(this[o],r);i.t=this.t}else{for(r=this.s&this.DM,o=s;o<e.t;++o)i[o]=t(r,e[o]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()},e.prototype.changeBit=function(t,i){var o=e.ONE.shiftLeft(t);return this.bitwiseTo(o,i,o),o},e.prototype.addTo=function(e,t){var i=0,o=0,r=Math.min(e.t,this.t);while(i<r)o+=this[i]+e[i],t[i++]=o&this.DM,o>>=this.DB;if(e.t<this.t){o+=e.s;while(i<this.t)o+=this[i],t[i++]=o&this.DM,o>>=this.DB;o+=this.s}else{o+=this.s;while(i<e.t)o+=e[i],t[i++]=o&this.DM,o>>=this.DB;o+=e.s}t.s=o<0?-1:0,o>0?t[i++]=o:o<-1&&(t[i++]=this.DV+o),t.t=i,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,i){var o=Math.min(this.t+e.t,t);i.s=0,i.t=o;while(o>0)i[--o]=0;for(var r=i.t-this.t;o<r;++o)i[o+this.t]=this.am(0,e[o],i,o,0,this.t);for(r=Math.min(e.t,t);o<r;++o)this.am(0,e[o],i,o,0,t-o);i.clamp()},e.prototype.multiplyUpperTo=function(e,t,i){--t;var o=i.t=this.t+e.t-t;i.s=0;while(--o>=0)i[o]=0;for(o=Math.max(t-this.t,0);o<e.t;++o)i[this.t+o-t]=this.am(t-o,e[o],i,0,0,this.t+o-t);i.clamp(),i.drShiftTo(1,i)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this[0]%e;else for(var o=this.t-1;o>=0;--o)i=(t*i+this[o])%e;return i},e.prototype.millerRabin=function(t){var i=this.subtract(e.ONE),o=i.getLowestSetBit();if(o<=0)return!1;var r=i.shiftRight(o);t=t+1>>1,t>O.length&&(t=O.length);for(var s=N(),a=0;a<t;++a){s.fromInt(O[Math.floor(Math.random()*O.length)]);var n=s.modPow(r,this);if(0!=n.compareTo(e.ONE)&&0!=n.compareTo(i)){var c=1;while(c++<o&&0!=n.compareTo(i))if(n=n.modPowInt(2,this),0==n.compareTo(e.ONE))return!1;if(0!=n.compareTo(i))return!1}}return!0},e.prototype.square=function(){var e=N();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var i=this.s<0?this.negate():this.clone(),o=e.s<0?e.negate():e.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),a=o.getLowestSetBit();if(a<0)t(i);else{s<a&&(a=s),a>0&&(i.rShiftTo(a,i),o.rShiftTo(a,o));var n=function e(){(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o)),i.signum()>0?setTimeout(e,0):(a>0&&o.lShiftTo(a,o),setTimeout((function(){t(o)}),0))};setTimeout(n,10)}},e.prototype.fromNumberAsync=function(t,i,o,s){if("number"==typeof i)if(t<2)this.fromInt(1);else{this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),r,this),this.isEven()&&this.dAddOffset(1,0);var a=this,n=function o(){a.dAddOffset(2,0),a.bitLength()>t&&a.subTo(e.ONE.shiftLeft(t-1),a),a.isProbablePrime(i)?setTimeout((function(){s()}),0):setTimeout(o,0)};setTimeout(n,0)}else{var c=[],u=7&t;c.length=1+(t>>3),i.nextBytes(c),u>0?c[0]&=(1<<u)-1:c[0]=0,this.fromString(c,256)}},e}(),M=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),A=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),L=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=N();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(E.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=N();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],o=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;i=t+this.m.t,e[i]+=this.m.am(0,o,e,t,0,this.m.t);while(e[i]>=e.DV)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),R=function(){function e(e){this.m=e,this.r2=N(),this.q3=N(),E.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=N();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function N(){return new E(null)}function U(e,t){return new E(e,t)}function B(e,t,i,o,r,s){while(--s>=0){var a=t*this[e++]+i[o]+r;r=Math.floor(a/67108864),i[o++]=67108863&a}return r}function q(e,t,i,o,r,s){var a=32767&t,n=t>>15;while(--s>=0){var c=32767&this[e],u=this[e++]>>15,l=n*c+u*a;c=a*c+((32767&l)<<15)+i[o]+(1073741823&r),r=(c>>>30)+(l>>>15)+n*u+(r>>>30),i[o++]=1073741823&c}return r}function V(e,t,i,o,r,s){var a=16383&t,n=t>>14;while(--s>=0){var c=16383&this[e],u=this[e++]>>14,l=n*c+u*a;c=a*c+((16383&l)<<14)+i[o]+r,r=(c>>28)+(l>>14)+n*u,i[o++]=268435455&c}return r}I&&navigator&&"Microsoft Internet Explorer"==navigator.appName?(E.prototype.am=q,C=30):I&&navigator&&"Netscape"!=navigator.appName?(E.prototype.am=B,C=26):(E.prototype.am=V,C=28),E.prototype.DB=C,E.prototype.DM=(1<<C)-1,E.prototype.DV=1<<C;var F=52;E.prototype.FV=Math.pow(2,F),E.prototype.F1=F-C,E.prototype.F2=2*C-F;var z,H,G=[];for(z="0".charCodeAt(0),H=0;H<=9;++H)G[z++]=H;for(z="a".charCodeAt(0),H=10;H<36;++H)G[z++]=H;for(z="A".charCodeAt(0),H=10;H<36;++H)G[z++]=H;function J(e,t){var i=G[e.charCodeAt(t)];return null==i?-1:i}function W(e){var t=N();return t.fromInt(e),t}function X(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}E.ZERO=W(0),E.ONE=W(1);var K=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,i,o;for(t=0;t<256;++t)this.S[t]=t;for(i=0,t=0;t<256;++t)i=i+this.S[t]+e[t%e.length]&255,o=this.S[t],this.S[t]=this.S[i],this.S[i]=o;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}();function Z(){return new K}var Y,Q,ee=256,te=null;if(null==te){te=[],Q=0;var ie=void 0;if(window&&window.crypto&&window.crypto.getRandomValues){var oe=new Uint32Array(256);for(window.crypto.getRandomValues(oe),ie=0;ie<oe.length;++ie)te[Q++]=255&oe[ie]}var re=function e(t){if(this.count=this.count||0,this.count>=256||Q>=ee)window.removeEventListener?window.removeEventListener("mousemove",e,!1):window.detachEvent&&window.detachEvent("onmousemove",e);else try{var i=t.x+t.y;te[Q++]=255&i,this.count+=1}catch(o){}};window&&window.addEventListener?window.addEventListener("mousemove",re,!1):window&&window.attachEvent&&window.attachEvent("onmousemove",re)}function se(){if(null==Y){Y=Z();while(Q<ee){var e=Math.floor(65536*Math.random());te[Q++]=255&e}for(Y.init(te),Q=0;Q<te.length;++Q)te[Q]=0;Q=0}return Y.next()}var ae=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=se()},e}();function ne(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var i=t-e.length-6,o="",r=0;r<i;r+=2)o+="ff";var s="0001"+o+"00"+e;return U(s,16)}function ce(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;var i=[],o=e.length-1;while(o>=0&&t>0){var r=e.charCodeAt(o--);r<128?i[--t]=r:r>127&&r<2048?(i[--t]=63&r|128,i[--t]=r>>6|192):(i[--t]=63&r|128,i[--t]=r>>6&63|128,i[--t]=r>>12|224)}i[--t]=0;var s=new ae,a=[];while(t>2){a[0]=0;while(0==a[0])s.nextBytes(a);i[--t]=a[0]}return i[--t]=2,i[--t]=0,new E(i)}var ue=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(i)<0)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=U(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=ce(e,this.n.bitLength()+7>>3);if(null==t)return null;var i=this.doPublic(t);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},e.prototype.setPrivate=function(e,t,i){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=U(e,16),this.e=parseInt(t,16),this.d=U(i,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,i,o,r,s,a,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=U(e,16),this.e=parseInt(t,16),this.d=U(i,16),this.p=U(o,16),this.q=U(r,16),this.dmp1=U(s,16),this.dmq1=U(a,16),this.coeff=U(n,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var i=new ae,o=e>>1;this.e=parseInt(t,16);for(var r=new E(t,16);;){for(;;)if(this.p=new E(e-o,1,i),0==this.p.subtract(E.ONE).gcd(r).compareTo(E.ONE)&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new E(o,1,i),0==this.q.subtract(E.ONE).gcd(r).compareTo(E.ONE)&&this.q.isProbablePrime(10))break;if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(E.ONE),n=this.q.subtract(E.ONE),c=a.multiply(n);if(0==c.gcd(r).compareTo(E.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(n),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=U(e,16),i=this.doPrivate(t);return null==i?null:le(i,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,i){var o=new ae,r=e>>1;this.e=parseInt(t,16);var s=new E(t,16),a=this,n=function t(){var n=function(){if(a.p.compareTo(a.q)<=0){var e=a.p;a.p=a.q,a.q=e}var o=a.p.subtract(E.ONE),r=a.q.subtract(E.ONE),n=o.multiply(r);0==n.gcd(s).compareTo(E.ONE)?(a.n=a.p.multiply(a.q),a.d=s.modInverse(n),a.dmp1=a.d.mod(o),a.dmq1=a.d.mod(r),a.coeff=a.q.modInverse(a.p),setTimeout((function(){i()}),0)):setTimeout(t,0)},c=function e(){a.q=N(),a.q.fromNumberAsync(r,1,o,(function(){a.q.subtract(E.ONE).gcda(s,(function(t){0==t.compareTo(E.ONE)&&a.q.isProbablePrime(10)?setTimeout(n,0):setTimeout(e,0)}))}))},u=function t(){a.p=N(),a.p.fromNumberAsync(e-r,1,o,(function(){a.p.subtract(E.ONE).gcda(s,(function(e){0==e.compareTo(E.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(t,0)}))}))};setTimeout(u,0)};setTimeout(n,0)},e.prototype.sign=function(e,t,i){var o=he(i),r=o+t(e).toString(),s=ne(r,this.n.bitLength()/4);if(null==s)return null;var a=this.doPrivate(s);if(null==a)return null;var n=a.toString(16);return 0==(1&n.length)?n:"0"+n},e.prototype.verify=function(e,t,i){var o=U(t,16),r=this.doPublic(o);if(null==r)return null;var s=r.toString(16).replace(/^1f+00/,""),a=fe(s);return a==i(e).toString()},e}();function le(e,t){var i=e.toByteArray(),o=0;while(o<i.length&&0==i[o])++o;if(i.length-o!=t-1||2!=i[o])return null;++o;while(0!=i[o])if(++o>=i.length)return null;var r="";while(++o<i.length){var s=255&i[o];s<128?r+=String.fromCharCode(s):s>191&&s<224?(r+=String.fromCharCode((31&s)<<6|63&i[o+1]),++o):(r+=String.fromCharCode((15&s)<<12|(63&i[o+1])<<6|63&i[o+2]),o+=2)}return r}var de={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function he(e){return de[e]||""}function fe(e){for(var t in de)if(de.hasOwnProperty(t)){var i=de[t],o=i.length;if(e.substr(0,o)==i)return e.substr(o)}return e}
/*!
  Copyright (c) 2011, Yahoo! Inc. All rights reserved.
  Code licensed under the BSD License:
  http://developer.yahoo.com/yui/license.html
  version: 2.9.0
  */var pe={};pe.lang={extend:function(e,t,i){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var o=function(){};if(o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),i){var r;for(r in i)e.prototype[r]=i[r];var s=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(s=function(e,t){for(r=0;r<a.length;r+=1){var i=a[r],o=t[i];"function"===typeof o&&o!=Object.prototype[i]&&(e[i]=o)}})}catch(n){}s(e.prototype,i)}}};
/**
   * @fileOverview
   * @name asn1-1.0.js
   * @author Kenji Urushima kenji.urushima@gmail.com
   * @version asn1 1.0.13 (2017-Jun-02)
   * @since jsrsasign 2.1
   * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
   */
var ge={};"undefined"!=typeof ge.asn1&&ge.asn1||(ge.asn1={}),ge.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1),o=i.length;o%2==1?o+=1:t.match(/^[0-7]/)||(o+=2);for(var r="",s=0;s<o;s++)r+="f";var a=new E(r,16),n=a.xor(e).add(E.ONE);t=n.toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=ge,i=t.asn1,o=i.DERBoolean,r=i.DERInteger,s=i.DERBitString,a=i.DEROctetString,n=i.DERNull,c=i.DERObjectIdentifier,u=i.DEREnumerated,l=i.DERUTF8String,d=i.DERNumericString,h=i.DERPrintableString,f=i.DERTeletexString,p=i.DERIA5String,g=i.DERUTCTime,m=i.DERGeneralizedTime,v=i.DERSequence,_=i.DERSet,y=i.DERTaggedObject,b=i.ASN1Util.newObject,D=Object.keys(e);if(1!=D.length)throw"key of param shall be only one.";var S=D[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+S+":"))throw"undefined key: "+S;if("bool"==S)return new o(e[S]);if("int"==S)return new r(e[S]);if("bitstr"==S)return new s(e[S]);if("octstr"==S)return new a(e[S]);if("null"==S)return new n(e[S]);if("oid"==S)return new c(e[S]);if("enum"==S)return new u(e[S]);if("utf8str"==S)return new l(e[S]);if("numstr"==S)return new d(e[S]);if("prnstr"==S)return new h(e[S]);if("telstr"==S)return new f(e[S]);if("ia5str"==S)return new p(e[S]);if("utctime"==S)return new g(e[S]);if("gentime"==S)return new m(e[S]);if("seq"==S){for(var w=e[S],k=[],C=0;C<w.length;C++){var $=b(w[C]);k.push($)}return new v({array:k})}if("set"==S){for(w=e[S],k=[],C=0;C<w.length;C++){$=b(w[C]);k.push($)}return new _({array:k})}if("tag"==S){var P=e[S];if("[object Array]"===Object.prototype.toString.call(P)&&3==P.length){var T=b(P[2]);return new y({tag:P[0],explicit:P[1],obj:T})}var x={};if(void 0!==P.explicit&&(x.explicit=P.explicit),void 0!==P.tag&&(x.tag=P.tag),void 0===P.obj)throw"obj shall be specified for 'tag'.";return x.obj=b(P.obj),new y(x)}},this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.getEncodedHex()}},ge.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",i=parseInt(e.substr(0,2),16),o=Math.floor(i/40),r=i%40,s=(t=o+"."+r,""),a=2;a<e.length;a+=2){var n=parseInt(e.substr(a,2),16),c=("00000000"+n.toString(2)).slice(-8);if(s+=c.substr(1,7),"0"==c.substr(0,1)){var u=new E(s,2);t=t+"."+u.toString(10),s=""}}return t},ge.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",o=new E(e,10),r=o.toString(2),s=7-r.length%7;7==s&&(s=0);for(var a="",n=0;n<s;n++)a+="0";r=a+r;for(n=0;n<r.length-1;n+=7){var c=r.substr(n,7);n!=r.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var o="",r=e.split("."),s=40*parseInt(r[0])+parseInt(r[1]);o+=t(s),r.splice(0,2);for(var a=0;a<r.length;a++)o+=i(r[a]);return o},ge.asn1.ASN1Object=function(){var e="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+e.length+",v="+this.hV;var t=this.hV.length/2,i=t.toString(16);if(i.length%2==1&&(i="0"+i),t<128)return i;var o=i.length/2;if(o>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);var r=128+o;return r.toString(16)+i},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ge.asn1.DERAbstractString=function(e){ge.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e?this.setString(e):"undefined"!=typeof e["str"]?this.setString(e["str"]):"undefined"!=typeof e["hex"]&&this.setStringHex(e["hex"]))},pe.lang.extend(ge.asn1.DERAbstractString,ge.asn1.ASN1Object),ge.asn1.DERAbstractTime=function(e){ge.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){utc=e.getTime()+6e4*e.getTimezoneOffset();var t=new Date(utc);return t},this.formatDate=function(e,t,i){var o=this.zeroPadding,r=this.localDateToUTC(e),s=String(r.getFullYear());"utc"==t&&(s=s.substr(2,2));var a=o(String(r.getMonth()+1),2),n=o(String(r.getDate()),2),c=o(String(r.getHours()),2),u=o(String(r.getMinutes()),2),l=o(String(r.getSeconds()),2),d=s+a+n+c+u+l;if(!0===i){var h=r.getMilliseconds();if(0!=h){var f=o(String(h),3);f=f.replace(/[0]+$/,""),d=d+"."+f}}return d+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,i,o,r,s){var a=new Date(Date.UTC(e,t-1,i,o,r,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},pe.lang.extend(ge.asn1.DERAbstractTime,ge.asn1.ASN1Object),ge.asn1.DERAbstractStructured=function(e){ge.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,"undefined"!=typeof e&&"undefined"!=typeof e["array"]&&(this.asn1Array=e["array"])},pe.lang.extend(ge.asn1.DERAbstractStructured,ge.asn1.ASN1Object),ge.asn1.DERBoolean=function(){ge.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},pe.lang.extend(ge.asn1.DERBoolean,ge.asn1.ASN1Object),ge.asn1.DERInteger=function(e){ge.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ge.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new E(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["bigint"]?this.setByBigInteger(e["bigint"]):"undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},pe.lang.extend(ge.asn1.DERInteger,ge.asn1.ASN1Object),ge.asn1.DERBitString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=ge.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ge.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var i="0"+e;this.hTLV=null,this.isModified=!0,this.hV=i+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var i=0;i<=t;i++)e+="0";var o="";for(i=0;i<e.length-1;i+=8){var r=e.substr(i,8),s=parseInt(r,2).toString(16);1==s.length&&(s="0"+s),o+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+o},this.setByBooleanArray=function(e){for(var t="",i=0;i<e.length;i++)1==e[i]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=!1;return t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):"undefined"!=typeof e["hex"]?this.setHexValueIncludingUnusedBits(e["hex"]):"undefined"!=typeof e["bin"]?this.setByBinaryString(e["bin"]):"undefined"!=typeof e["array"]&&this.setByBooleanArray(e["array"]))},pe.lang.extend(ge.asn1.DERBitString,ge.asn1.ASN1Object),ge.asn1.DEROctetString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=ge.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ge.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},pe.lang.extend(ge.asn1.DEROctetString,ge.asn1.DERAbstractString),ge.asn1.DERNull=function(){ge.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},pe.lang.extend(ge.asn1.DERNull,ge.asn1.ASN1Object),ge.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",o=new E(e,10),r=o.toString(2),s=7-r.length%7;7==s&&(s=0);for(var a="",n=0;n<s;n++)a+="0";r=a+r;for(n=0;n<r.length-1;n+=7){var c=r.substr(n,7);n!=r.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i};ge.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var o="",r=e.split("."),s=40*parseInt(r[0])+parseInt(r[1]);o+=t(s),r.splice(0,2);for(var a=0;a<r.length;a++)o+=i(r[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=o},this.setValueName=function(e){var t=ge.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"===typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},pe.lang.extend(ge.asn1.DERObjectIdentifier,ge.asn1.ASN1Object),ge.asn1.DEREnumerated=function(e){ge.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ge.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new E(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},pe.lang.extend(ge.asn1.DEREnumerated,ge.asn1.ASN1Object),ge.asn1.DERUTF8String=function(e){ge.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},pe.lang.extend(ge.asn1.DERUTF8String,ge.asn1.DERAbstractString),ge.asn1.DERNumericString=function(e){ge.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},pe.lang.extend(ge.asn1.DERNumericString,ge.asn1.DERAbstractString),ge.asn1.DERPrintableString=function(e){ge.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},pe.lang.extend(ge.asn1.DERPrintableString,ge.asn1.DERAbstractString),ge.asn1.DERTeletexString=function(e){ge.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},pe.lang.extend(ge.asn1.DERTeletexString,ge.asn1.DERAbstractString),ge.asn1.DERIA5String=function(e){ge.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},pe.lang.extend(ge.asn1.DERIA5String,ge.asn1.DERAbstractString),ge.asn1.DERUTCTime=function(e){ge.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},pe.lang.extend(ge.asn1.DERUTCTime,ge.asn1.DERAbstractTime),ge.asn1.DERGeneralizedTime=function(e){ge.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},pe.lang.extend(ge.asn1.DERGeneralizedTime,ge.asn1.DERAbstractTime),ge.asn1.DERSequence=function(e){ge.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var i=this.asn1Array[t];e+=i.getEncodedHex()}return this.hV=e,this.hV}},pe.lang.extend(ge.asn1.DERSequence,ge.asn1.DERAbstractStructured),ge.asn1.DERSet=function(e){ge.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var i=this.asn1Array[t];e.push(i.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},"undefined"!=typeof e&&"undefined"!=typeof e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},pe.lang.extend(ge.asn1.DERSet,ge.asn1.DERAbstractStructured),ge.asn1.DERTaggedObject=function(e){ge.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,i){this.hT=t,this.isExplicit=e,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["tag"]&&(this.hT=e["tag"]),"undefined"!=typeof e["explicit"]&&(this.isExplicit=e["explicit"]),"undefined"!=typeof e["obj"]&&(this.asn1Object=e["obj"],this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},pe.lang.extend(ge.asn1.DERTaggedObject,ge.asn1.ASN1Object);var me=function(e){function t(i){var o=e.call(this)||this;return i&&("string"===typeof i?o.parseKey(i):(t.hasPrivateKeyProperty(i)||t.hasPublicKeyProperty(i))&&o.parsePropertiesFrom(i)),o}return g(t,e),t.prototype.parseKey=function(e){try{var t=0,i=0,o=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,r=o.test(e)?v.decode(e):_.unarmor(e),s=P.decode(r);if(3===s.sub.length&&(s=s.sub[2].sub[0]),9===s.sub.length){t=s.sub[1].getHexStringValue(),this.n=U(t,16),i=s.sub[2].getHexStringValue(),this.e=parseInt(i,16);var a=s.sub[3].getHexStringValue();this.d=U(a,16);var n=s.sub[4].getHexStringValue();this.p=U(n,16);var c=s.sub[5].getHexStringValue();this.q=U(c,16);var u=s.sub[6].getHexStringValue();this.dmp1=U(u,16);var l=s.sub[7].getHexStringValue();this.dmq1=U(l,16);var d=s.sub[8].getHexStringValue();this.coeff=U(d,16)}else{if(2!==s.sub.length)return!1;var h=s.sub[1],f=h.sub[0];t=f.sub[0].getHexStringValue(),this.n=U(t,16),i=f.sub[1].getHexStringValue(),this.e=parseInt(i,16)}return!0}catch(p){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new ge.asn1.DERInteger({int:0}),new ge.asn1.DERInteger({bigint:this.n}),new ge.asn1.DERInteger({int:this.e}),new ge.asn1.DERInteger({bigint:this.d}),new ge.asn1.DERInteger({bigint:this.p}),new ge.asn1.DERInteger({bigint:this.q}),new ge.asn1.DERInteger({bigint:this.dmp1}),new ge.asn1.DERInteger({bigint:this.dmq1}),new ge.asn1.DERInteger({bigint:this.coeff})]},t=new ge.asn1.DERSequence(e);return t.getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return d(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new ge.asn1.DERSequence({array:[new ge.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new ge.asn1.DERNull]}),t=new ge.asn1.DERSequence({array:[new ge.asn1.DERInteger({bigint:this.n}),new ge.asn1.DERInteger({int:this.e})]}),i=new ge.asn1.DERBitString({hex:"00"+t.getEncodedHex()}),o=new ge.asn1.DERSequence({array:[e,i]});return o.getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return d(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(t=t||64,!e)return e;var i="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(i,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----",e},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----",e},t.hasPublicKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(ue),ve=function(){function e(e){e=e||{},this.default_key_size=parseInt(e.default_key_size,10)||1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new me(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(h(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return d(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.encryptLong=function(e){var t=this.getKey();try{var i="",o=new Array;o.push(0);var r,s,a=0;r=e.length;for(var n=0,c=0;c<r;c++)s=e.charCodeAt(c),a+=s>=65536&&s<=1114111?4:s>=2048&&s<=65535?3:s>=128&&s<=2047?2:1,(a%117>=114||a%117==0)&&a-n>=114&&(o.push(c),n=a);if(o.length>1){for(c=0;c<o.length-1;c++){var u;u=0==c?e.substring(0,o[c+1]+1):e.substring(o[c]+1,o[c+1]+1);var l=t.encrypt(u);i+=l}if(o[o.length-1]!=e.length-1){var h=e.substring(o[o.length-1]+1);i+=t.encrypt(h)}return d(i)}var f=t.encrypt(e),p=d(f);return p}catch(g){return!1}},e.prototype.sign=function(e,t,i){try{return d(this.getKey().sign(e,t,i))}catch(o){return!1}},e.prototype.verify=function(e,t,i){try{return this.getKey().verify(e,h(t),i)}catch(o){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new me,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version="3.0.0-rc.1",e}();window&&(window.JSEncrypt=ve),e.JSEncrypt=ve,e.default=ve,Object.defineProperty(e,"__esModule",{value:!0})}))},"62a0":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{member_address:{mobile:""}},orderPaymentData:{exchange_info:{type:0},delivery:{delivery_type:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}},express_type:[]},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/point/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("exchangeOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/pointexchange/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.buyer_message="";var i=this.orderPaymentData;if(void 0!=i.express_type&&void 0!=i.express_type[0]){var o=i.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var s=r.name,a=r.title;"store"==s&&i.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else s=o[0].name,a=o[0].title;this.orderCreateData.delivery.delivery_type=s,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),0==this.orderPaymentData.is_virtual&&this.orderPaymentData.local_config.info&&1==this.orderPaymentData.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.local_config.info.time_week.length||7==this.orderPaymentData.local_config.info.time_week.length||this.orderPaymentData.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.local_config.info.time_week.length>0)if(7==this.orderPaymentData.local_config.info.time_week.length)this.deliveryWeek="全天";else{for(var n=this.orderPaymentData.local_config.info.time_week,c=!1,u=0;u<n.length;u++)if(u+1<n.length){var l=n[u+1]-n[u];if(l>1){c=!0;break}}var d=["周日","周一","周二","周三","周四","周五","周六"];if(c){var h=[];for(u=0;u<n.length;u++)h.push(d[n[u]]);this.deliveryWeek=h.join("、")}else this.deliveryWeek=d[n[0]]+"至"+d[n[n.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var f=(new Date).getHours().toString(),p=(new Date).getMinutes().toString();1==f.length&&(f="0"+f),1==p.length&&(p="0"+p),this.orderCreateData.buyer_ask_delivery_time=f+":"+p;var g=this.orderPaymentData.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(g);var m=this.orderPaymentData.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(m);var v=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),_=v.getHours(),y=v.getMinutes(),b=parseInt(this.timeInfo.start_time.split(":")[0]),D=parseInt(this.timeInfo.start_time.split(":")[1]),S=parseInt(this.timeInfo.end_time.split(":")[0]),w=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(b==S&&D==w||((_<b||_==b&&y<D)&&(this.orderCreateData.buyer_ask_delivery_time=(1==b.toString().length?"0"+b:b)+":"+(1==D.toString().length?"0"+D:D)),(_>S||_==S&&y>w)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData)},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCreate:function(){var t=this;if(this.verify()){if(this.isSub)return;this.isSub=!0;var i=this.$util.deepClone(this.orderCreateData);i.delivery=JSON.stringify(i.delivery),"store"==this.orderCreateData.delivery.delivery_type?i.member_address=JSON.stringify(this.member_address):i.member_address=JSON.stringify(i.member_address),this.$api.sendRequest({url:"/pointexchange/api/ordercreate/create",data:i,success:function(i){e.hideLoading(),i.code>=0?e.removeStorage({key:"exchangeOrderCreateData",success:function(){"0.00"!=t.orderPaymentData.exchange_info.price?t.$refs.choosePaymentPopup.getPayInfo(i.data):t.$util.redirectTo("/promotionpages/point/result/result",{},"redirectTo")}}):(t.isSub=!1,10==i.data.error_code||12==i.data.error_code?e.showModal({title:"订单未创建",content:i.message,confirmText:"去设置",success:function(e){e.confirm&&t.selectAddress()}}):t.$util.showToast({title:i.message}))},fail:function(i){e.hideLoading(),t.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.exchange_info.type){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}}return!0},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},imageError:function(){this.orderPaymentData.exchange_info.image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){"0.00"!=this.orderPaymentData.exchange_info.price?this.$refs.choosePaymentPopup.open():this.orderCreate()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},6403:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"支付密码"};t.lang=o},"64f5":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},topic_info:{},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/topics/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("topicOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/topic/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="";var i=this.orderPaymentData;if(void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var s=r.name,a=r.title;"store"==s&&i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else s=o[0].name,a=o[0].title;this.orderCreateData.delivery.delivery_type=s,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(void 0!=i.shop_goods_list.coupon_list&&void 0!=i.shop_goods_list.coupon_list[0]){var n=i.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=n[0].coupon_id,this.orderCreateData.coupon.coupon_money=n[0].money}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{for(var u=this.orderPaymentData.shop_goods_list.local_config.info.time_week,l=!1,d=0;d<u.length;d++)if(d+1<u.length){var h=u[d+1]-u[d];if(h>1){l=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(l){var p=[];for(d=0;d<u.length;d++)p.push(f[u[d]]);this.deliveryWeek=p.join("、")}else this.deliveryWeek=f[u[0]]+"至"+f[u[u.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var g=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=g+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),b=y.getHours(),D=y.getMinutes(),S=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),C=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(S==k&&w==C||((b<S||b==S&&D<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==S.toString().length?"0"+S:S)+":"+(1==w.toString().length?"0"+w:w)),(b>k||b==k&&D>C)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/topic/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),"store"==this.orderCreateData.delivery.delivery_type?o.member_address=JSON.stringify(this.member_address):o.member_address=JSON.stringify(o.member_address),this.$api.sendRequest({url:"/topic/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?e.removeStorage({key:"topicOrderCreateData",success:function(){0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(t.data)}}):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&this.$refs.choosePaymentPopup.open()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=i}).call(this,i("543d")["default"])},6620:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的足迹",emptyTpis:"您还未浏览过任何商品！"};t.lang=o},"66fd":function(e,t,i){"use strict";i.r(t),function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function o(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function s(e){return!0===e}function a(e){return!1===e}function n(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function l(e){return"[object Object]"===u.call(e)}function d(e){return"[object RegExp]"===u.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function g(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var i=Object.create(null),o=e.split(","),r=0;r<o.length;r++)i[o[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}m("slot,component",!0);var v=m("key,ref,slot,slot-scope,is");function _(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return y.call(e,t)}function D(e){var t=Object.create(null);return function(i){var o=t[i];return o||(t[i]=e(i))}}var S=/-(\w)/g,w=D((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),k=D((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),C=/\B([A-Z])/g,$=D((function(e){return e.replace(C,"-$1").toLowerCase()}));function P(e,t){function i(i){var o=arguments.length;return o?o>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function T(e,t){return e.bind(t)}var x=Function.prototype.bind?T:P;function I(e,t){t=t||0;var i=e.length-t,o=new Array(i);while(i--)o[i]=e[i+t];return o}function O(e,t){for(var i in t)e[i]=t[i];return e}function j(e){for(var t={},i=0;i<e.length;i++)e[i]&&O(t,e[i]);return t}function E(e,t,i){}var M=function(e,t,i){return!1},A=function(e){return e};function L(e,t){if(e===t)return!0;var i=c(e),o=c(t);if(!i||!o)return!i&&!o&&String(e)===String(t);try{var r=Array.isArray(e),s=Array.isArray(t);if(r&&s)return e.length===t.length&&e.every((function(e,i){return L(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||s)return!1;var a=Object.keys(e),n=Object.keys(t);return a.length===n.length&&a.every((function(i){return L(e[i],t[i])}))}catch(u){return!1}}function R(e,t){for(var i=0;i<e.length;i++)if(L(e[i],t))return i;return-1}function N(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var U=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:E,parsePlatformTagName:A,mustUseProp:M,async:!0,_lifecycleHooks:B},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function F(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function z(e,t,i,o){Object.defineProperty(e,t,{value:i,enumerable:!!o,writable:!0,configurable:!0})}var H=new RegExp("[^"+V.source+".$_\\d]");function G(e){if(!H.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}var J,W="__proto__"in{},X="undefined"!==typeof window,K="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=K&&WXEnvironment.platform.toLowerCase(),Y=X&&window.navigator.userAgent.toLowerCase(),Q=Y&&/msie|trident/.test(Y),ee=(Y&&Y.indexOf("msie 9.0"),Y&&Y.indexOf("edge/")>0),te=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===Z),ie=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/),{}.watch);if(X)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){}}),window.addEventListener("test-passive",null,oe)}catch(ir){}var re=function(){return void 0===J&&(J=!X&&!K&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),J},se=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"===typeof e&&/native code/.test(e.toString())}var ne,ce="undefined"!==typeof Symbol&&ae(Symbol)&&"undefined"!==typeof Reflect&&ae(Reflect.ownKeys);ne="undefined"!==typeof Set&&ae(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ue=E,le=0,de=function(){this.id=le++,this.subs=[]};function he(e){de.SharedObject.targetStack.push(e),de.SharedObject.target=e,de.target=e}function fe(){de.SharedObject.targetStack.pop(),de.SharedObject.target=de.SharedObject.targetStack[de.SharedObject.targetStack.length-1],de.target=de.SharedObject.target}de.prototype.addSub=function(e){this.subs.push(e)},de.prototype.removeSub=function(e){_(this.subs,e)},de.prototype.depend=function(){de.SharedObject.target&&de.SharedObject.target.addDep(this)},de.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},de.SharedObject={},de.SharedObject.target=null,de.SharedObject.targetStack=[];var pe=function(e,t,i,o,r,s,a,n){this.tag=e,this.data=t,this.children=i,this.text=o,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=n,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ge={child:{configurable:!0}};ge.child.get=function(){return this.componentInstance},Object.defineProperties(pe.prototype,ge);var me=function(e){void 0===e&&(e="");var t=new pe;return t.text=e,t.isComment=!0,t};function ve(e){return new pe(void 0,void 0,void 0,String(e))}function _e(e){var t=new pe(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ye=Array.prototype,be=Object.create(ye),De=["push","pop","shift","unshift","splice","sort","reverse"];De.forEach((function(e){var t=ye[e];z(be,e,(function(){var i=[],o=arguments.length;while(o--)i[o]=arguments[o];var r,s=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),s}))}));var Se=Object.getOwnPropertyNames(be),we=!0;function ke(e){we=e}var Ce=function(e){this.value=e,this.dep=new de,this.vmCount=0,z(e,"__ob__",this),Array.isArray(e)?(W?e.push!==e.__proto__.push?Pe(e,be,Se):$e(e,be):Pe(e,be,Se),this.observeArray(e)):this.walk(e)};function $e(e,t){e.__proto__=t}function Pe(e,t,i){for(var o=0,r=i.length;o<r;o++){var s=i[o];z(e,s,t[s])}}function Te(e,t){var i;if(c(e)&&!(e instanceof pe))return b(e,"__ob__")&&e.__ob__ instanceof Ce?i=e.__ob__:we&&!re()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Ce(e)),t&&i&&i.vmCount++,i}function xe(e,t,i,o,r){var s=new de,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var n=a&&a.get,c=a&&a.set;n&&!c||2!==arguments.length||(i=e[t]);var u=!r&&Te(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=n?n.call(e):i;return de.SharedObject.target&&(s.depend(),u&&(u.dep.depend(),Array.isArray(t)&&je(t))),t},set:function(t){var o=n?n.call(e):i;t===o||t!==t&&o!==o||n&&!c||(c?c.call(e,t):i=t,u=!r&&Te(t),s.notify())}})}}function Ie(e,t,i){if(Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var o=e.__ob__;return e._isVue||o&&o.vmCount?i:o?(xe(o.value,t,i),o.dep.notify(),i):(e[t]=i,i)}function Oe(e,t){if(Array.isArray(e)&&h(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||b(e,t)&&(delete e[t],i&&i.dep.notify())}}function je(e){for(var t=void 0,i=0,o=e.length;i<o;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&je(t)}Ce.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)xe(e,t[i])},Ce.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Te(e[t])};var Ee=q.optionMergeStrategies;function Me(e,t){if(!t)return e;for(var i,o,r,s=ce?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)i=s[a],"__ob__"!==i&&(o=e[i],r=t[i],b(e,i)?o!==r&&l(o)&&l(r)&&Me(o,r):Ie(e,i,r));return e}function Ae(e,t,i){return i?function(){var o="function"===typeof t?t.call(i,i):t,r="function"===typeof e?e.call(i,i):e;return o?Me(o,r):r}:t?e?function(){return Me("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Le(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?Re(i):i}function Re(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function Ne(e,t,i,o){var r=Object.create(e||null);return t?O(r,t):r}Ee.data=function(e,t,i){return i?Ae(e,t,i):t&&"function"!==typeof t?e:Ae(e,t)},B.forEach((function(e){Ee[e]=Le})),U.forEach((function(e){Ee[e+"s"]=Ne})),Ee.watch=function(e,t,i,o){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var s in O(r,e),t){var a=r[s],n=t[s];a&&!Array.isArray(a)&&(a=[a]),r[s]=a?a.concat(n):Array.isArray(n)?n:[n]}return r},Ee.props=Ee.methods=Ee.inject=Ee.computed=function(e,t,i,o){if(!e)return t;var r=Object.create(null);return O(r,e),t&&O(r,t),r},Ee.provide=Ae;var Ue=function(e,t){return void 0===t?e:t};function Be(e,t){var i=e.props;if(i){var o,r,s,a={};if(Array.isArray(i)){o=i.length;while(o--)r=i[o],"string"===typeof r&&(s=w(r),a[s]={type:null})}else if(l(i))for(var n in i)r=i[n],s=w(n),a[s]=l(r)?r:{type:r};else 0;e.props=a}}function qe(e,t){var i=e.inject;if(i){var o=e.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)o[i[r]]={from:i[r]};else if(l(i))for(var s in i){var a=i[s];o[s]=l(a)?O({from:s},a):{from:a}}else 0}}function Ve(e){var t=e.directives;if(t)for(var i in t){var o=t[i];"function"===typeof o&&(t[i]={bind:o,update:o})}}function Fe(e,t,i){if("function"===typeof t&&(t=t.options),Be(t,i),qe(t,i),Ve(t),!t._base&&(t.extends&&(e=Fe(e,t.extends,i)),t.mixins))for(var o=0,r=t.mixins.length;o<r;o++)e=Fe(e,t.mixins[o],i);var s,a={};for(s in e)n(s);for(s in t)b(e,s)||n(s);function n(o){var r=Ee[o]||Ue;a[o]=r(e[o],t[o],i,o)}return a}function ze(e,t,i,o){if("string"===typeof i){var r=e[t];if(b(r,i))return r[i];var s=w(i);if(b(r,s))return r[s];var a=k(s);if(b(r,a))return r[a];var n=r[i]||r[s]||r[a];return n}}function He(e,t,i,o){var r=t[e],s=!b(i,e),a=i[e],n=Xe(Boolean,r.type);if(n>-1)if(s&&!b(r,"default"))a=!1;else if(""===a||a===$(e)){var c=Xe(String,r.type);(c<0||n<c)&&(a=!0)}if(void 0===a){a=Ge(o,r,e);var u=we;ke(!0),Te(a),ke(u)}return a}function Ge(e,t,i){if(b(t,"default")){var o=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"===typeof o&&"Function"!==Je(t.type)?o.call(e):o}}function Je(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function We(e,t){return Je(e)===Je(t)}function Xe(e,t){if(!Array.isArray(t))return We(t,e)?0:-1;for(var i=0,o=t.length;i<o;i++)if(We(t[i],e))return i;return-1}function Ke(e,t,i){he();try{if(t){var o=t;while(o=o.$parent){var r=o.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var a=!1===r[s].call(o,e,t,i);if(a)return}catch(ir){Ye(ir,o,"errorCaptured hook")}}}Ye(e,t,i)}finally{fe()}}function Ze(e,t,i,o,r){var s;try{s=i?e.apply(t,i):e.call(t),s&&!s._isVue&&f(s)&&!s._handled&&(s.catch((function(e){return Ke(e,o,r+" (Promise/async)")})),s._handled=!0)}catch(ir){Ke(ir,o,r)}return s}function Ye(e,t,i){if(q.errorHandler)try{return q.errorHandler.call(null,e,t,i)}catch(ir){ir!==e&&Qe(ir,null,"config.errorHandler")}Qe(e,t,i)}function Qe(e,t,i){if(!X&&!K||"undefined"===typeof console)throw e;console.error(e)}var et,tt=[],it=!1;function ot(){it=!1;var e=tt.slice(0);tt.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&ae(Promise)){var rt=Promise.resolve();et=function(){rt.then(ot),te&&setTimeout(E)}}else if(Q||"undefined"===typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())et="undefined"!==typeof setImmediate&&ae(setImmediate)?function(){setImmediate(ot)}:function(){setTimeout(ot,0)};else{var st=1,at=new MutationObserver(ot),nt=document.createTextNode(String(st));at.observe(nt,{characterData:!0}),et=function(){st=(st+1)%2,nt.data=String(st)}}function ct(e,t){var i;if(tt.push((function(){if(e)try{e.call(t)}catch(ir){Ke(ir,t,"nextTick")}else i&&i(t)})),it||(it=!0,et()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}var ut=new ne;function lt(e){dt(e,ut),ut.clear()}function dt(e,t){var i,o,r=Array.isArray(e);if(!(!r&&!c(e)||Object.isFrozen(e)||e instanceof pe)){if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(r){i=e.length;while(i--)dt(e[i],t)}else{o=Object.keys(e),i=o.length;while(i--)dt(e[o[i]],t)}}}var ht=D((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var o="!"===e.charAt(0);return e=o?e.slice(1):e,{name:e,once:i,capture:o,passive:t}}));function ft(e,t){function i(){var e=arguments,o=i.fns;if(!Array.isArray(o))return Ze(o,null,arguments,t,"v-on handler");for(var r=o.slice(),s=0;s<r.length;s++)Ze(r[s],null,e,t,"v-on handler")}return i.fns=e,i}function pt(e,t,i,r,a,n){var c,u,l,d;for(c in e)u=e[c],l=t[c],d=ht(c),o(u)||(o(l)?(o(u.fns)&&(u=e[c]=ft(u,n)),s(d.once)&&(u=e[c]=a(d.name,u,d.capture)),i(d.name,u,d.capture,d.passive,d.params)):u!==l&&(l.fns=u,e[c]=l));for(c in t)o(e[c])&&(d=ht(c),r(d.name,t[c],d.capture))}function gt(e,t,i,s){var a=t.options.mpOptions&&t.options.mpOptions.properties;if(o(a))return i;var n=t.options.mpOptions.externalClasses||[],c=e.attrs,u=e.props;if(r(c)||r(u))for(var l in a){var d=$(l),h=vt(i,u,l,d,!0)||vt(i,c,l,d,!1);h&&i[l]&&-1!==n.indexOf(d)&&s[w(i[l])]&&(i[l]=s[w(i[l])])}return i}function mt(e,t,i,s){var a=t.options.props;if(o(a))return gt(e,t,{},s);var n={},c=e.attrs,u=e.props;if(r(c)||r(u))for(var l in a){var d=$(l);vt(n,u,l,d,!0)||vt(n,c,l,d,!1)}return gt(e,t,n,s)}function vt(e,t,i,o,s){if(r(t)){if(b(t,i))return e[i]=t[i],s||delete t[i],!0;if(b(t,o))return e[i]=t[o],s||delete t[o],!0}return!1}function _t(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function yt(e){return n(e)?[ve(e)]:Array.isArray(e)?Dt(e):void 0}function bt(e){return r(e)&&r(e.text)&&a(e.isComment)}function Dt(e,t){var i,a,c,u,l=[];for(i=0;i<e.length;i++)a=e[i],o(a)||"boolean"===typeof a||(c=l.length-1,u=l[c],Array.isArray(a)?a.length>0&&(a=Dt(a,(t||"")+"_"+i),bt(a[0])&&bt(u)&&(l[c]=ve(u.text+a[0].text),a.shift()),l.push.apply(l,a)):n(a)?bt(u)?l[c]=ve(u.text+a):""!==a&&l.push(ve(a)):bt(a)&&bt(u)?l[c]=ve(u.text+a.text):(s(e._isVList)&&r(a.tag)&&o(a.key)&&r(t)&&(a.key="__vlist"+t+"_"+i+"__"),l.push(a)));return l}function St(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function wt(e){var t=kt(e.$options.inject,e);t&&(ke(!1),Object.keys(t).forEach((function(i){xe(e,i,t[i])})),ke(!0))}function kt(e,t){if(e){for(var i=Object.create(null),o=ce?Reflect.ownKeys(e):Object.keys(e),r=0;r<o.length;r++){var s=o[r];if("__ob__"!==s){var a=e[s].from,n=t;while(n){if(n._provided&&b(n._provided,a)){i[s]=n._provided[a];break}n=n.$parent}if(!n)if("default"in e[s]){var c=e[s].default;i[s]="function"===typeof c?c.call(t):c}else 0}}return i}}function Ct(e,t){if(!e||!e.length)return{};for(var i={},o=0,r=e.length;o<r;o++){var s=e[o],a=s.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==t&&s.fnContext!==t||!a||null==a.slot)s.asyncMeta&&s.asyncMeta.data&&"page"===s.asyncMeta.data.slot?(i["page"]||(i["page"]=[])).push(s):(i.default||(i.default=[])).push(s);else{var n=a.slot,c=i[n]||(i[n]=[]);"template"===s.tag?c.push.apply(c,s.children||[]):c.push(s)}}for(var u in i)i[u].every($t)&&delete i[u];return i}function $t(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Pt(e,t,o){var r,s=Object.keys(t).length>0,a=e?!!e.$stable:!s,n=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&o&&o!==i&&n===o.$key&&!s&&!o.$hasNormal)return o;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=Tt(t,c,e[c]))}else r={};for(var u in t)u in r||(r[u]=xt(t,u));return e&&Object.isExtensible(e)&&(e._normalized=r),z(r,"$stable",a),z(r,"$key",n),z(r,"$hasNormal",s),r}function Tt(e,t,i){var o=function(){var e=arguments.length?i.apply(null,arguments):i({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:yt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:o,enumerable:!0,configurable:!0}),o}function xt(e,t){return function(){return e[t]}}function It(e,t){var i,o,s,a,n;if(Array.isArray(e)||"string"===typeof e)for(i=new Array(e.length),o=0,s=e.length;o<s;o++)i[o]=t(e[o],o,o,o);else if("number"===typeof e)for(i=new Array(e),o=0;o<e;o++)i[o]=t(o+1,o,o,o);else if(c(e))if(ce&&e[Symbol.iterator]){i=[];var u=e[Symbol.iterator](),l=u.next();while(!l.done)i.push(t(l.value,i.length,o++,o)),l=u.next()}else for(a=Object.keys(e),i=new Array(a.length),o=0,s=a.length;o<s;o++)n=a[o],i[o]=t(e[n],n,o,o);return r(i)||(i=[]),i._isVList=!0,i}function Ot(e,t,i,o){var r,s=this.$scopedSlots[e];s?(i=i||{},o&&(i=O(O({},o),i)),r=s(i,this,i._i)||t):r=this.$slots[e]||t;var a=i&&i.slot;return a?this.$createElement("template",{slot:a},r):r}function jt(e){return ze(this.$options,"filters",e,!0)||A}function Et(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Mt(e,t,i,o,r){var s=q.keyCodes[t]||i;return r&&o&&!q.keyCodes[t]?Et(r,o):s?Et(s,e):o?$(o)!==t:void 0}function At(e,t,i,o,r){if(i)if(c(i)){var s;Array.isArray(i)&&(i=j(i));var a=function(a){if("class"===a||"style"===a||v(a))s=e;else{var n=e.attrs&&e.attrs.type;s=o||q.mustUseProp(t,n,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=w(a),u=$(a);if(!(c in s)&&!(u in s)&&(s[a]=i[a],r)){var l=e.on||(e.on={});l["update:"+a]=function(e){i[a]=e}}};for(var n in i)a(n)}else;return e}function Lt(e,t){var i=this._staticTrees||(this._staticTrees=[]),o=i[e];return o&&!t||(o=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Nt(o,"__static__"+e,!1)),o}function Rt(e,t,i){return Nt(e,"__once__"+t+(i?"_"+i:""),!0),e}function Nt(e,t,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)e[o]&&"string"!==typeof e[o]&&Ut(e[o],t+"_"+o,i);else Ut(e,t,i)}function Ut(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function Bt(e,t){if(t)if(l(t)){var i=e.on=e.on?O({},e.on):{};for(var o in t){var r=i[o],s=t[o];i[o]=r?[].concat(r,s):s}}else;return e}function qt(e,t,i,o){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var s=e[r];Array.isArray(s)?qt(s,t,i):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return o&&(t.$key=o),t}function Vt(e,t){for(var i=0;i<t.length;i+=2){var o=t[i];"string"===typeof o&&o&&(e[t[i]]=t[i+1])}return e}function Ft(e,t){return"string"===typeof e?t+e:e}function zt(e){e._o=Rt,e._n=g,e._s=p,e._l=It,e._t=Ot,e._q=L,e._i=R,e._m=Lt,e._f=jt,e._k=Mt,e._b=At,e._v=ve,e._e=me,e._u=qt,e._g=Bt,e._d=Vt,e._p=Ft}function Ht(e,t,o,r,a){var n,c=this,u=a.options;b(r,"_uid")?(n=Object.create(r),n._original=r):(n=r,r=r._original);var l=s(u._compiled),d=!l;this.data=e,this.props=t,this.children=o,this.parent=r,this.listeners=e.on||i,this.injections=kt(u.inject,r),this.slots=function(){return c.$slots||Pt(e.scopedSlots,c.$slots=Ct(o,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pt(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Pt(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,i,o){var s=ri(n,e,t,i,o,d);return s&&!Array.isArray(s)&&(s.fnScopeId=u._scopeId,s.fnContext=r),s}:this._c=function(e,t,i,o){return ri(n,e,t,i,o,d)}}function Gt(e,t,o,s,a){var n=e.options,c={},u=n.props;if(r(u))for(var l in u)c[l]=He(l,u,t||i);else r(o.attrs)&&Wt(c,o.attrs),r(o.props)&&Wt(c,o.props);var d=new Ht(o,c,a,s,e),h=n.render.call(null,d._c,d);if(h instanceof pe)return Jt(h,o,d.parent,n,d);if(Array.isArray(h)){for(var f=yt(h)||[],p=new Array(f.length),g=0;g<f.length;g++)p[g]=Jt(f[g],o,d.parent,n,d);return p}}function Jt(e,t,i,o,r){var s=_e(e);return s.fnContext=i,s.fnOptions=o,t.slot&&((s.data||(s.data={})).slot=t.slot),s}function Wt(e,t){for(var i in t)e[w(i)]=t[i]}zt(Ht.prototype);var Xt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;Xt.prepatch(i,i)}else{var o=e.componentInstance=Yt(e,wi);o.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions,o=t.componentInstance=e.componentInstance;Pi(o,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(Oi(i,"onServiceCreated"),Oi(i,"onServiceAttached"),i._isMounted=!0,Oi(i,"mounted")),e.data.keepAlive&&(t._isMounted?Fi(i):xi(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Ii(t,!0):t.$destroy())}},Kt=Object.keys(Xt);function Zt(e,t,i,a,n){if(!o(e)){var u=i.$options._base;if(c(e)&&(e=u.extend(e)),"function"===typeof e){var l;if(o(e.cid)&&(l=e,e=pi(l,u),void 0===e))return fi(l,t,i,a,n);t=t||{},fo(e),r(t.model)&&ti(e.options,t);var d=mt(t,e,n,i);if(s(e.options.functional))return Gt(e,d,t,i,a);var h=t.on;if(t.on=t.nativeOn,s(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}Qt(t);var p=e.options.name||n,g=new pe("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:d,listeners:h,tag:n,children:a},l);return g}}}function Yt(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},o=e.data.inlineTemplate;return r(o)&&(i.render=o.render,i.staticRenderFns=o.staticRenderFns),new e.componentOptions.Ctor(i)}function Qt(e){for(var t=e.hook||(e.hook={}),i=0;i<Kt.length;i++){var o=Kt[i],r=t[o],s=Xt[o];r===s||r&&r._merged||(t[o]=r?ei(s,r):s)}}function ei(e,t){var i=function(i,o){e(i,o),t(i,o)};return i._merged=!0,i}function ti(e,t){var i=e.model&&e.model.prop||"value",o=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var s=t.on||(t.on={}),a=s[o],n=t.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(n):a!==n)&&(s[o]=[n].concat(a)):s[o]=n}var ii=1,oi=2;function ri(e,t,i,o,r,a){return(Array.isArray(i)||n(i))&&(r=o,o=i,i=void 0),s(a)&&(r=oi),si(e,t,i,o,r)}function si(e,t,i,o,s){if(r(i)&&r(i.__ob__))return me();if(r(i)&&r(i.is)&&(t=i.is),!t)return me();var a,n,c;(Array.isArray(o)&&"function"===typeof o[0]&&(i=i||{},i.scopedSlots={default:o[0]},o.length=0),s===oi?o=yt(o):s===ii&&(o=_t(o)),"string"===typeof t)?(n=e.$vnode&&e.$vnode.ns||q.getTagNamespace(t),a=q.isReservedTag(t)?new pe(q.parsePlatformTagName(t),i,o,void 0,void 0,e):i&&i.pre||!r(c=ze(e.$options,"components",t))?new pe(t,i,o,void 0,void 0,e):Zt(c,i,e,o,t)):a=Zt(t,i,e,o);return Array.isArray(a)?a:r(a)?(r(n)&&ai(a,n),r(i)&&ni(i),a):me()}function ai(e,t,i){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,i=!0),r(e.children))for(var a=0,n=e.children.length;a<n;a++){var c=e.children[a];r(c.tag)&&(o(c.ns)||s(i)&&"svg"!==c.tag)&&ai(c,t,i)}}function ni(e){c(e.style)&&lt(e.style),c(e.class)&&lt(e.class)}function ci(e){e._vnode=null,e._staticTrees=null;var t=e.$options,o=e.$vnode=t._parentVnode,r=o&&o.context;e.$slots=Ct(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,i,o,r){return ri(e,t,i,o,r,!1)},e.$createElement=function(t,i,o,r){return ri(e,t,i,o,r,!0)};var s=o&&o.data;xe(e,"$attrs",s&&s.attrs||i,null,!0),xe(e,"$listeners",t._parentListeners||i,null,!0)}var ui,li=null;function di(e){zt(e.prototype),e.prototype.$nextTick=function(e){return ct(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,o=i.render,r=i._parentVnode;r&&(t.$scopedSlots=Pt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{li=t,e=o.call(t._renderProxy,t.$createElement)}catch(ir){Ke(ir,t,"render"),e=t._vnode}finally{li=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof pe||(e=me()),e.parent=r,e}}function hi(e,t){return(e.__esModule||ce&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function fi(e,t,i,o,r){var s=me();return s.asyncFactory=e,s.asyncMeta={data:t,context:i,children:o,tag:r},s}function pi(e,t){if(s(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=li;if(i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),s(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var a=e.owners=[i],n=!0,u=null,l=null;i.$on("hook:destroyed",(function(){return _(a,i)}));var d=function(e){for(var t=0,i=a.length;t<i;t++)a[t].$forceUpdate();e&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},h=N((function(i){e.resolved=hi(i,t),n?a.length=0:d(!0)})),p=N((function(t){r(e.errorComp)&&(e.error=!0,d(!0))})),g=e(h,p);return c(g)&&(f(g)?o(e.resolved)&&g.then(h,p):f(g.component)&&(g.component.then(h,p),r(g.error)&&(e.errorComp=hi(g.error,t)),r(g.loading)&&(e.loadingComp=hi(g.loading,t),0===g.delay?e.loading=!0:u=setTimeout((function(){u=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,d(!1))}),g.delay||200)),r(g.timeout)&&(l=setTimeout((function(){l=null,o(e.resolved)&&p(null)}),g.timeout)))),n=!1,e.loading?e.loadingComp:e.resolved}}function gi(e){return e.isComment&&e.asyncFactory}function mi(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||gi(i)))return i}}function vi(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Di(e,t)}function _i(e,t){ui.$on(e,t)}function yi(e,t){ui.$off(e,t)}function bi(e,t){var i=ui;return function o(){var r=t.apply(null,arguments);null!==r&&i.$off(e,o)}}function Di(e,t,i){ui=e,pt(t,i||{},_i,yi,bi,e),ui=void 0}function Si(e){var t=/^hook:/;e.prototype.$on=function(e,i){var o=this;if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++)o.$on(e[r],i);else(o._events[e]||(o._events[e]=[])).push(i),t.test(e)&&(o._hasHookEvent=!0);return o},e.prototype.$once=function(e,t){var i=this;function o(){i.$off(e,o),t.apply(i,arguments)}return o.fn=t,i.$on(e,o),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var o=0,r=e.length;o<r;o++)i.$off(e[o],t);return i}var s,a=i._events[e];if(!a)return i;if(!t)return i._events[e]=null,i;var n=a.length;while(n--)if(s=a[n],s===t||s.fn===t){a.splice(n,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?I(i):i;for(var o=I(arguments,1),r='event handler for "'+e+'"',s=0,a=i.length;s<a;s++)Ze(i[s],t,o,t,r)}return t}}var wi=null;function ki(e){var t=wi;return wi=e,function(){wi=t}}function Ci(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function $i(e){e.prototype._update=function(e,t){var i=this,o=i.$el,r=i._vnode,s=ki(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),s(),o&&(o.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Oi(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||_(t.$children,e),e._watcher&&e._watcher.teardown();var i=e._watchers.length;while(i--)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Oi(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Pi(e,t,o,r,s){var a=r.data.scopedSlots,n=e.$scopedSlots,c=!!(a&&!a.$stable||n!==i&&!n.$stable||a&&e.$scopedSlots.$key!==a.$key),u=!!(s||e.$options._renderChildren||c);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=s,e.$attrs=r.data.attrs||i,e.$listeners=o||i,t&&e.$options.props){ke(!1);for(var l=e._props,d=e.$options._propKeys||[],h=0;h<d.length;h++){var f=d[h],p=e.$options.props;l[f]=He(f,p,t,e)}ke(!0),e.$options.propsData=t}e._$updateProperties&&e._$updateProperties(e),o=o||i;var g=e.$options._parentListeners;e.$options._parentListeners=o,Di(e,o,g),u&&(e.$slots=Ct(s,r.context),e.$forceUpdate())}function Ti(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function xi(e,t){if(t){if(e._directInactive=!1,Ti(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)xi(e.$children[i]);Oi(e,"activated")}}function Ii(e,t){if((!t||(e._directInactive=!0,!Ti(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Ii(e.$children[i]);Oi(e,"deactivated")}}function Oi(e,t){he();var i=e.$options[t],o=t+" hook";if(i)for(var r=0,s=i.length;r<s;r++)Ze(i[r],e,null,e,o);e._hasHookEvent&&e.$emit("hook:"+t),fe()}var ji=[],Ei=[],Mi={},Ai=!1,Li=!1,Ri=0;function Ni(){Ri=ji.length=Ei.length=0,Mi={},Ai=Li=!1}var Ui=Date.now;if(X&&!Q){var Bi=window.performance;Bi&&"function"===typeof Bi.now&&Ui()>document.createEvent("Event").timeStamp&&(Ui=function(){return Bi.now()})}function qi(){var e,t;for(Ui(),Li=!0,ji.sort((function(e,t){return e.id-t.id})),Ri=0;Ri<ji.length;Ri++)e=ji[Ri],e.before&&e.before(),t=e.id,Mi[t]=null,e.run();var i=Ei.slice(),o=ji.slice();Ni(),zi(i),Vi(o),se&&q.devtools&&se.emit("flush")}function Vi(e){var t=e.length;while(t--){var i=e[t],o=i.vm;o._watcher===i&&o._isMounted&&!o._isDestroyed&&Oi(o,"updated")}}function Fi(e){e._inactive=!1,Ei.push(e)}function zi(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,xi(e[t],!0)}function Hi(e){var t=e.id;if(null==Mi[t]){if(Mi[t]=!0,Li){var i=ji.length-1;while(i>Ri&&ji[i].id>e.id)i--;ji.splice(i+1,0,e)}else ji.push(e);Ai||(Ai=!0,ct(qi))}}var Gi=0,Ji=function(e,t,i,o,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync,this.before=o.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Gi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ne,this.newDepIds=new ne,this.expression="","function"===typeof t?this.getter=t:(this.getter=G(t),this.getter||(this.getter=E)),this.value=this.lazy?void 0:this.get()};Ji.prototype.get=function(){var e;he(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(ir){if(!this.user)throw ir;Ke(ir,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&lt(e),fe(),this.cleanupDeps()}return e},Ji.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Ji.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Ji.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Hi(this)},Ji.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(ir){Ke(ir,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Ji.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ji.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},Ji.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var Wi={enumerable:!0,configurable:!0,get:E,set:E};function Xi(e,t,i){Wi.get=function(){return this[t][i]},Wi.set=function(e){this[t][i]=e},Object.defineProperty(e,i,Wi)}function Ki(e){e._watchers=[];var t=e.$options;t.props&&Zi(e,t.props),t.methods&&so(e,t.methods),t.data?Yi(e):Te(e._data={},!0),t.computed&&to(e,t.computed),t.watch&&t.watch!==ie&&ao(e,t.watch)}function Zi(e,t){var i=e.$options.propsData||{},o=e._props={},r=e.$options._propKeys=[],s=!e.$parent;s||ke(!1);var a=function(s){r.push(s);var a=He(s,t,i,e);xe(o,s,a),s in e||Xi(e,"_props",s)};for(var n in t)a(n);ke(!0)}function Yi(e){var t=e.$options.data;t=e._data="function"===typeof t?Qi(t,e):t||{},l(t)||(t={});var i=Object.keys(t),o=e.$options.props,r=(e.$options.methods,i.length);while(r--){var s=i[r];0,o&&b(o,s)||F(s)||Xi(e,"_data",s)}Te(t,!0)}function Qi(e,t){he();try{return e.call(t,t)}catch(ir){return Ke(ir,t,"data()"),{}}finally{fe()}}var eo={lazy:!0};function to(e,t){var i=e._computedWatchers=Object.create(null),o=re();for(var r in t){var s=t[r],a="function"===typeof s?s:s.get;0,o||(i[r]=new Ji(e,a||E,E,eo)),r in e||io(e,r,s)}}function io(e,t,i){var o=!re();"function"===typeof i?(Wi.get=o?oo(t):ro(i),Wi.set=E):(Wi.get=i.get?o&&!1!==i.cache?oo(t):ro(i.get):E,Wi.set=i.set||E),Object.defineProperty(e,t,Wi)}function oo(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),de.SharedObject.target&&t.depend(),t.value}}function ro(e){return function(){return e.call(this,this)}}function so(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?E:x(t[i],e)}function ao(e,t){for(var i in t){var o=t[i];if(Array.isArray(o))for(var r=0;r<o.length;r++)no(e,i,o[r]);else no(e,i,o)}}function no(e,t,i,o){return l(i)&&(o=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,o)}function co(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Ie,e.prototype.$delete=Oe,e.prototype.$watch=function(e,t,i){var o=this;if(l(t))return no(o,e,t,i);i=i||{},i.user=!0;var r=new Ji(o,e,t,i);if(i.immediate)try{t.call(o,r.value)}catch(s){Ke(s,o,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var uo=0;function lo(e){e.prototype._init=function(e){var t=this;t._uid=uo++,t._isVue=!0,e&&e._isComponent?ho(t,e):t.$options=Fe(fo(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Ci(t),vi(t),ci(t),Oi(t,"beforeCreate"),!t._$fallback&&wt(t),Ki(t),!t._$fallback&&St(t),!t._$fallback&&Oi(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function ho(e,t){var i=e.$options=Object.create(e.constructor.options),o=t._parentVnode;i.parent=t.parent,i._parentVnode=o;var r=o.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function fo(e){var t=e.options;if(e.super){var i=fo(e.super),o=e.superOptions;if(i!==o){e.superOptions=i;var r=po(e);r&&O(e.extendOptions,r),t=e.options=Fe(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function po(e){var t,i=e.options,o=e.sealedOptions;for(var r in i)i[r]!==o[r]&&(t||(t={}),t[r]=i[r]);return t}function go(e){this._init(e)}function mo(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=I(arguments,1);return i.unshift(this),"function"===typeof e.install?e.install.apply(e,i):"function"===typeof e&&e.apply(null,i),t.push(e),this}}function vo(e){e.mixin=function(e){return this.options=Fe(this.options,e),this}}function _o(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,o=i.cid,r=e._Ctor||(e._Ctor={});if(r[o])return r[o];var s=e.name||i.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=t++,a.options=Fe(i.options,e),a["super"]=i,a.options.props&&yo(a),a.options.computed&&bo(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,U.forEach((function(e){a[e]=i[e]})),s&&(a.options.components[s]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=O({},a.options),r[o]=a,a}}function yo(e){var t=e.options.props;for(var i in t)Xi(e.prototype,"_props",i)}function bo(e){var t=e.options.computed;for(var i in t)io(e.prototype,i,t[i])}function Do(e){U.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&l(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"===typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}function So(e){return e&&(e.Ctor.options.name||e.tag)}function wo(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function ko(e,t){var i=e.cache,o=e.keys,r=e._vnode;for(var s in i){var a=i[s];if(a){var n=So(a.componentOptions);n&&!t(n)&&Co(i,s,o,r)}}}function Co(e,t,i,o){var r=e[t];!r||o&&r.tag===o.tag||r.componentInstance.$destroy(),e[t]=null,_(i,t)}lo(go),co(go),Si(go),$i(go),di(go);var $o=[String,RegExp,Array],Po={name:"keep-alive",abstract:!0,props:{include:$o,exclude:$o,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Co(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){ko(e,(function(e){return wo(t,e)}))})),this.$watch("exclude",(function(t){ko(e,(function(e){return!wo(t,e)}))}))},render:function(){var e=this.$slots.default,t=mi(e),i=t&&t.componentOptions;if(i){var o=So(i),r=this,s=r.include,a=r.exclude;if(s&&(!o||!wo(s,o))||a&&o&&wo(a,o))return t;var n=this,c=n.cache,u=n.keys,l=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;c[l]?(t.componentInstance=c[l].componentInstance,_(u,l),u.push(l)):(c[l]=t,u.push(l),this.max&&u.length>parseInt(this.max)&&Co(c,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},To={KeepAlive:Po};function xo(e){var t={get:function(){return q}};Object.defineProperty(e,"config",t),e.util={warn:ue,extend:O,mergeOptions:Fe,defineReactive:xe},e.set=Ie,e.delete=Oe,e.nextTick=ct,e.observable=function(e){return Te(e),e},e.options=Object.create(null),U.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,O(e.options.components,To),mo(e),vo(e),_o(e),Do(e)}xo(go),Object.defineProperty(go.prototype,"$isServer",{get:re}),Object.defineProperty(go.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(go,"FunctionalRenderContext",{value:Ht}),go.version="2.6.11";var Io="[object Array]",Oo="[object Object]";function jo(e,t){var i={};return Eo(e,t),Mo(e,t,"",i),i}function Eo(e,t){if(e!==t){var i=Lo(e),o=Lo(t);if(i==Oo&&o==Oo){if(Object.keys(e).length>=Object.keys(t).length)for(var r in t){var s=e[r];void 0===s?e[r]=null:Eo(s,t[r])}}else i==Io&&o==Io&&e.length>=t.length&&t.forEach((function(t,i){Eo(e[i],t)}))}}function Mo(e,t,i,o){if(e!==t){var r=Lo(e),s=Lo(t);if(r==Oo)if(s!=Oo||Object.keys(e).length<Object.keys(t).length)Ao(o,i,e);else{var a=function(r){var s=e[r],a=t[r],n=Lo(s),c=Lo(a);if(n!=Io&&n!=Oo)s!=t[r]&&Ao(o,(""==i?"":i+".")+r,s);else if(n==Io)c!=Io||s.length<a.length?Ao(o,(""==i?"":i+".")+r,s):s.forEach((function(e,t){Mo(e,a[t],(""==i?"":i+".")+r+"["+t+"]",o)}));else if(n==Oo)if(c!=Oo||Object.keys(s).length<Object.keys(a).length)Ao(o,(""==i?"":i+".")+r,s);else for(var u in s)Mo(s[u],a[u],(""==i?"":i+".")+r+"."+u,o)};for(var n in e)a(n)}else r==Io?s!=Io||e.length<t.length?Ao(o,i,e):e.forEach((function(e,r){Mo(e,t[r],i+"["+r+"]",o)})):Ao(o,i,e)}}function Ao(e,t,i){e[t]=i}function Lo(e){return Object.prototype.toString.call(e)}function Ro(e){if(e.__next_tick_callbacks&&e.__next_tick_callbacks.length){if(Object({NODE_ENV:"production",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG){var t=e.$scope;console.log("["+ +new Date+"]["+(t.is||t.route)+"]["+e._uid+"]:flushCallbacks["+e.__next_tick_callbacks.length+"]")}var i=e.__next_tick_callbacks.slice(0);e.__next_tick_callbacks.length=0;for(var o=0;o<i.length;o++)i[o]()}}function No(e){return ji.find((function(t){return e._watcher===t}))}function Uo(e,t){if(!e.__next_tick_pending&&!No(e)){if(Object({NODE_ENV:"production",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG){var i=e.$scope;console.log("["+ +new Date+"]["+(i.is||i.route)+"]["+e._uid+"]:nextVueTick")}return ct(t,e)}if(Object({NODE_ENV:"production",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG){var o=e.$scope;console.log("["+ +new Date+"]["+(o.is||o.route)+"]["+e._uid+"]:nextMPTick")}var r;if(e.__next_tick_callbacks||(e.__next_tick_callbacks=[]),e.__next_tick_callbacks.push((function(){if(t)try{t.call(e)}catch(ir){Ke(ir,e,"nextTick")}else r&&r(e)})),!t&&"undefined"!==typeof Promise)return new Promise((function(e){r=e}))}function Bo(e){var t=Object.create(null),i=[].concat(Object.keys(e._data||{}),Object.keys(e._computedWatchers||{}));i.reduce((function(t,i){return t[i]=e[i],t}),t);var o=e.__composition_api_state__||e.__secret_vfa_state__,r=o&&o.rawBindings;return r&&Object.keys(r).forEach((function(i){t[i]=e[i]})),Object.assign(t,e.$mp.data||{}),Array.isArray(e.$options.behaviors)&&-1!==e.$options.behaviors.indexOf("uni://form-field")&&(t["name"]=e.name,t["value"]=e.value),JSON.parse(JSON.stringify(t))}var qo=function(e,t){var i=this;if(null!==t&&("page"===this.mpType||"component"===this.mpType)){var o=this.$scope,r=Object.create(null);try{r=Bo(this)}catch(n){console.error(n)}r.__webviewId__=o.data.__webviewId__;var s=Object.create(null);Object.keys(r).forEach((function(e){s[e]=o.data[e]}));var a=!1===this.$shouldDiffData?r:jo(r,s);Object.keys(a).length?(Object({NODE_ENV:"production",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG&&console.log("["+ +new Date+"]["+(o.is||o.route)+"]["+this._uid+"]差量更新",JSON.stringify(a)),this.__next_tick_pending=!0,o.setData(a,(function(){i.__next_tick_pending=!1,Ro(i)}))):Ro(this)}};function Vo(){}function Fo(e,t,i){if(!e.mpType)return e;"app"===e.mpType&&(e.$options.render=Vo),e.$options.render||(e.$options.render=Vo),!e._$fallback&&Oi(e,"beforeMount");var o=function(){e._update(e._render(),i)};return new Ji(e,o,E,{before:function(){e._isMounted&&!e._isDestroyed&&Oi(e,"beforeUpdate")}},!0),i=!1,e}function zo(e,t){return r(e)||r(t)?Ho(e,Go(t)):""}function Ho(e,t){return e?t?e+" "+t:e:t||""}function Go(e){return Array.isArray(e)?Jo(e):c(e)?Wo(e):"string"===typeof e?e:""}function Jo(e){for(var t,i="",o=0,s=e.length;o<s;o++)r(t=Go(e[o]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function Wo(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}var Xo=D((function(e){var t={},i=/;(?![^(]*\))/g,o=/:(.+)/;return e.split(i).forEach((function(e){if(e){var i=e.split(o);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function Ko(e){return Array.isArray(e)?j(e):"string"===typeof e?Xo(e):e}var Zo=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];function Yo(e,t){var i=t.split("."),o=i[0];return 0===o.indexOf("__$n")&&(o=parseInt(o.replace("__$n",""))),1===i.length?e[o]:Yo(e[o],i.slice(1).join("."))}function Qo(e){e.config.errorHandler=function(t,i,o){e.util.warn("Error in "+o+': "'+t.toString()+'"',i),console.error(t);var r=getApp();r&&r.onError&&r.onError(t)};var t=e.prototype.$emit;e.prototype.$emit=function(e){return this.$scope&&e&&this.$scope["triggerEvent"](e,{__args__:I(arguments,1)}),t.apply(this,arguments)},e.prototype.$nextTick=function(e){return Uo(this,e)},Zo.forEach((function(t){e.prototype[t]=function(e){return this.$scope&&this.$scope[t]?this.$scope[t](e):"undefined"!==typeof my?"createSelectorQuery"===t?my.createSelectorQuery(e):"createIntersectionObserver"===t?my.createIntersectionObserver(e):void 0:void 0}})),e.prototype.__init_provide=St,e.prototype.__init_injections=wt,e.prototype.__call_hook=function(e,t){var i=this;he();var o,r=i.$options[e],s=e+" hook";if(r)for(var a=0,n=r.length;a<n;a++)o=Ze(r[a],i,t?[t]:null,i,s);return i._hasHookEvent&&i.$emit("hook:"+e,t),fe(),o},e.prototype.__set_model=function(e,t,i,o){Array.isArray(o)&&(-1!==o.indexOf("trim")&&(i=i.trim()),-1!==o.indexOf("number")&&(i=this._n(i))),e||(e=this),e[t]=i},e.prototype.__set_sync=function(e,t,i){e||(e=this),e[t]=i},e.prototype.__get_orig=function(e){return l(e)&&e["$orig"]||e},e.prototype.__get_value=function(e,t){return Yo(t||this,e)},e.prototype.__get_class=function(e,t){return zo(t,e)},e.prototype.__get_style=function(e,t){if(!e&&!t)return"";var i=Ko(e),o=t?O(t,i):i;return Object.keys(o).map((function(e){return $(e)+":"+o[e]})).join(";")},e.prototype.__map=function(e,t){var i,o,r,s,a;if(Array.isArray(e)){for(i=new Array(e.length),o=0,r=e.length;o<r;o++)i[o]=t(e[o],o);return i}if(c(e)){for(s=Object.keys(e),i=Object.create(null),o=0,r=s.length;o<r;o++)a=s[o],i[a]=t(e[a],a,o);return i}if("number"===typeof e){for(i=new Array(e),o=0,r=e;o<r;o++)i[o]=t(o,o);return i}return[]}}var er=["onLaunch","onShow","onHide","onUniNViewMessage","onPageNotFound","onThemeChange","onError","onUnhandledRejection","onLoad","onReady","onUnload","onPullDownRefresh","onReachBottom","onTabItemTap","onAddToFavorites","onShareTimeline","onShareAppMessage","onResize","onPageScroll","onNavigationBarButtonTap","onBackPress","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarSearchInputClicked","onPageShow","onPageHide","onPageResize"];function tr(e){var t=e.extend;e.extend=function(e){e=e||{};var i=e.methods;return i&&Object.keys(i).forEach((function(t){-1!==er.indexOf(t)&&(e[t]=i[t],delete i[t])})),t.call(this,e)};var i=e.config.optionMergeStrategies,o=i.created;er.forEach((function(e){i[e]=o})),e.prototype.__lifecycle_hooks__=er}go.prototype.__patch__=qo,go.prototype.$mount=function(e,t){return Fo(this,e,t)},tr(go),Qo(go),t["default"]=go}.call(this,i("c8ba"))},6856:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的礼品",emptyTips:"暂无礼品"};t.lang=o},"6a21":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"找回密码",findPassword:"找回密码",accountPlaceholder:"请输入手机号",captchaPlaceholder:"请输入验证码",dynacodePlaceholder:"请输入动态码",passwordPlaceholder:"请输入新密码",rePasswordPlaceholder:"请确认新密码",next:"下一步",save:"确认修改"};t.lang=o},"6eb1":function(e,t){var i={errorImg:null,filter:null,highlight:null,onText:null,entities:{quot:'"',apos:"'",semi:";",nbsp:" ",ensp:" ",emsp:" ",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…"},blankChar:o(" , ,\t,\r,\n,\f"),boolAttrs:o("allowfullscreen,autoplay,autostart,controls,ignore,loop,muted"),blockTags:o("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:o("area,base,canvas,frame,iframe,input,link,map,meta,param,script,source,style,svg,textarea,title,track,wbr"),richOnlyTags:o("a,colgroup,fieldset,legend,table"),selfClosingTags:o("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),trustTags:o("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),userAgentStyles:{address:"font-style:italic",big:"display:inline;font-size:1.2em",blockquote:"background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre;overflow:scroll",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",u:"text-decoration:underline"}};function o(e){for(var t=Object.create(null),i=e.split(","),o=i.length;o--;)t[i[o]]=!0;return t}wx.canIUse("editor")&&(i.blockTags.pre=void 0,i.ignoreTags.rp=!0,Object.assign(i.richOnlyTags,o("bdi,bdo,caption,rt,ruby")),Object.assign(i.trustTags,o("bdi,bdo,caption,pre,rt,ruby"))),e.exports=i},"6ec1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={tabBar:{home:"首页",category:"分类",cart:"购物车",member:"个人中心"},common:{name:"中文",mescrollTextInOffset:"下拉刷新",mescrollTextOutOffset:"释放更新",mescrollEmpty:"暂无相关数据",goodsRecommendTitle:"猜你喜欢",currencySymbol:"¥",submit:"提交"}};t.lang=o},7205:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},7261:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={baseUrl: "{{$baseUrl}}",imgDomain: "{{$imgDomain}}",h5Domain: "{{$h5Domain}}",mpKey: "{{$mpKey}}",apiSecurity: Boolean(parseInt('{{$apiSecurity}}')),publicKey: `{{$publicKey}}`,webSocket:"{{$webSocket}}",pingInterval:1500},r=o;t.default=r},7289:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{cancleRefund:function(t,i){var o=this;e.showModal({content:"撤销之后本次申请将会关闭,如后续仍有问题可再次发起申请。",cancelText:"暂不撤销",cancelColor:"#898989",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/orderrefund/cancel",data:{order_goods_id:t},success:function(e){"function"==typeof i&&i(e)}})}})}}};t.default=i}).call(this,i("543d")["default"])},"729f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"核销记录",emptyTips:"暂无记录"};t.lang=o},"72dc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"74c1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=52.35987755982988,r=3.141592653589793,s=6378245,a=.006693421622965943;function n(e,t){var i=52.35987755982988,o=e-.0065,r=t-.006,s=Math.sqrt(o*o+r*r)-2e-5*Math.sin(r*i),a=Math.atan2(r,o)-3e-6*Math.cos(o*i),n=s*Math.cos(a),c=s*Math.sin(a);return[n,c]}function c(e,t){var i=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*o),r=Math.atan2(t,e)+3e-6*Math.cos(e*o),s=i*Math.cos(r)+.0065,a=i*Math.sin(r)+.006;return[s,a]}function u(e,t){if(f(e,t))return[e,t];var i=d(e-105,t-35),o=h(e-105,t-35),n=t/180*r,c=Math.sin(n);c=1-a*c*c;var u=Math.sqrt(c);i=180*i/(s*(1-a)/(c*u)*r),o=180*o/(s/u*Math.cos(n)*r);var l=t+i,p=e+o;return[p,l]}function l(e,t){if(f(e,t))return[e,t];var i=d(e-105,t-35),o=h(e-105,t-35),n=t/180*r,c=Math.sin(n);c=1-a*c*c;var u=Math.sqrt(c);return i=180*i/(s*(1-a)/(c*u)*r),o=180*o/(s/u*Math.cos(n)*r),mglat=t+i,mglng=e+o,[2*e-mglng,2*t-mglat]}function d(e,t){var i=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*r)+20*Math.sin(2*e*r))/3,i+=2*(20*Math.sin(t*r)+40*Math.sin(t/3*r))/3,i+=2*(160*Math.sin(t/12*r)+320*Math.sin(t*r/30))/3,i}function h(e,t){var i=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*r)+20*Math.sin(2*e*r))/3,i+=2*(20*Math.sin(e*r)+40*Math.sin(e/3*r))/3,i+=2*(150*Math.sin(e/12*r)+300*Math.sin(e/30*r))/3,i}function f(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1}var p={bd09togcj02:n,gcj02tobd09:c,wgs84togcj02:u,gcj02towgs84:l};t.default=p},"79a5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"砍价详情"};t.lang=o},"7a23":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("a34a")),r=a(i("df06")),s=(i("c025"),a(i("7261")));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function a(e){n(s,o,r,a,c,"next",e)}function c(e){n(s,o,r,a,c,"throw",e)}a(void 0)}))}}var u={data:function(){return{id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:"",again_images:[]},openPopup:!1,memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:null,goodsCircle:!1,timestamp:"",evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.id=t.id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("id")&&(i.id=t.split("-")[1]),-1!=t.indexOf("source_member")&&e.setStorageSync("source_member",t.split("-")[1])}))}this.getService()},onShow:function(){var t=this;return c(o.default.mark((function i(){return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),t.token=e.getStorageSync("token"),i.next=4,t.getGoodsSkuDetail();case 4:t.modifyGoodsInfo(),""!=t.token&&(t.getCartCount(),t.getMemberId()),t.getEvaluateConfig();case 7:case"end":return i.stop()}}),i)})))()},onHide:function(){},methods:{goConnect:function(){var t=this;if(e.getStorageSync("token")){var i={siteId:s.default.siteId,skuId:t.goodsSkuDetail.sku_id};return 1==this.kefuConfig.system?(t.$util.redirectTo("/otherpages/chat/room/room",i),!1):void 0}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+t.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var e=this;return c(o.default.mark((function t(){var i,s,a,n,c;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/bargain/api/goods/detail",async:!1,data:{id:e.id}});case 2:if(i=t.sent,s=i.data,null!=s.goods_sku_detail){if(e.goodsSkuDetail=s.goods_sku_detail,e.skuId=e.goodsSkuDetail.sku_id,e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),e.goodsSkuDetail.video_url&&(e.switchMedia="video"),e.goodsSkuDetail.sku_images?e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.split(","):e.goodsSkuDetail.sku_images=[],e.goodsSkuDetail.goods_spec_format&&e.goodsSkuDetail.goods_image&&(e.goodsSkuDetail.goods_image=e.goodsSkuDetail.goods_image.split(","),e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.concat(e.goodsSkuDetail.goods_image)),e.goodsSkuDetail.unit=e.goodsSkuDetail.unit||"件",e.goodsSkuDetail.show_price=e.goodsSkuDetail.floor_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.goodsSkuDetail.sku_spec_format&&(e.goodsSkuDetail.sku_spec_format=JSON.parse(e.goodsSkuDetail.sku_spec_format)),e.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=e.$util.unique(a,"attr_id"),n=0;n<e.goodsSkuDetail.goods_attr_format.length;n++)for(c=0;c<a.length;c++)e.goodsSkuDetail.goods_attr_format[n].attr_id==a[c].attr_id&&e.goodsSkuDetail.goods_attr_format[n].attr_value_id!=a[c].attr_value_id&&(e.goodsSkuDetail.goods_attr_format[n].attr_value_name+="、"+a[c].attr_value_name);e.goodsSkuDetail.goods_spec_format&&(e.goodsSkuDetail.goods_spec_format=JSON.parse(e.goodsSkuDetail.goods_spec_format)),e.$langConfig.title(e.goodsSkuDetail.goods_name),e.goodsSkuDetail.goods_content&&(e.goodsSkuDetail.goods_content=(0,r.default)(e.goodsSkuDetail.goods_content)),e.contactData={title:e.goodsSkuDetail.sku_name,path:"/promotionpages/bargain/detail/detail?id="+e.id,img:e.$util.img(e.goodsSkuDetail.sku_image,{size:"big"})},""!=e.token&&e.getWhetherCollection(),e.setWechatShare(),e.$refs.loadingCover&&e.$refs.loadingCover.hide(),e.goodsSyncToGoodsCircle()}else e.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return t.stop()}}),t)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},bargain:function(){var t=this;e.getStorageSync("token")?this.$api.sendRequest({url:"/bargain/api/bargain/launch",data:{id:this.id},success:function(e){0==e.code?t.$util.redirectTo("/promotionpages/bargain/launch/launch",{id:e.data},"redirectTo"):t.$util.showToast({title:e.message})}}):this.$refs.login.open("/promotionpages/bargain/detail/detail?id="+this.id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),e.goodsEvaluate.again_images&&(e.goodsEvaluate.again_images=e.goodsEvaluate.again_images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/bargain/detail/detail?id="+this.id)},getCartCount:function(){var e=this;this.$api.sendRequest({url:"/api/cart/count",data:{},success:function(t){e.cartCount=t.data}})},goTopClick:function(){e.pageScrollTo({duration:200,scrollTop:0})},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));t.token,t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.id};this.memberId&&(t.source_member=this.memberId),this.$api.sendRequest({url:"/bargain/api/goods/poster",data:{page:"/promotionpages/bargain/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data,e.setWechatShare())}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,r.default)(t.data.content))}}})},setWechatShare:function(){},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;wx.openBusinessView&&wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/bargain/detail/detail?id="+this.id;this.memberId&&(t+="&source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))}}};t.default=u}).call(this,i("543d")["default"])},"7b23":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},"7d5c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"笔记详情"};t.lang=o},"7d77":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的积分",emptyTpis:"您暂时还没有积分记录哦!",pointExplain:"积分说明"};t.lang=o},"7e4c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"修改头像"};t.lang=o},"7e5c":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{fenxiaoWords:{}}},methods:{getFenxiaoWrods:function(){var t=this;this.$api.sendRequest({url:"/fenxiao/api/config/words",success:function(i){i.code>=0&&i.data&&(t.fenxiaoWords=i.data,e.setStorageSync("fenxiaoWords",i.data))}})}},onShow:function(){e.getStorageSync("fenxiaoWords")&&(this.fenxiaoWords=e.getStorageSync("fenxiaoWords")),this.getFenxiaoWrods()}};t.default=i}).call(this,i("543d")["default"])},"80b4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"收货地址",newAddAddress:"新增地址",getAddress:"一键获取地址",is_default:"默认",modify:"编辑",del:"删除"};t.lang=o},"83d9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"购物车",complete:"完成",edit:"编辑",allElection:"全选",total:"合计",settlement:"结算",emptyTips:"购物车空空如也!",goForStroll:"去逛逛",del:"删除",login:"去登录"};t.lang=o},84819:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("a34a")),r=n(i("7261")),s=n(i("ae41")),a=n(i("5f51"));n(i("2abe"));function n(e){return e&&e.__esModule?e:{default:e}}function c(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function u(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function a(e){c(s,o,r,a,n,"next",e)}function n(e){c(s,o,r,a,n,"throw",e)}a(void 0)}))}}var l={redirectTo:function(t,i,o){for(var r=t,s=["/pages/index/index/index","/pages/goods/category/category","/pages/goods/cart/cart","/pages/member/index/index"],a=0;a<s.length;a++)if(-1!=t.indexOf(s[a]))return void e.switchTab({url:r});switch(void 0!=i&&Object.keys(i).forEach((function(e){-1!=r.indexOf("?")?r+="&"+e+"="+i[e]:r+="?"+e+"="+i[e]})),o){case"tabbar":e.switchTab({url:r});break;case"redirectTo":e.redirectTo({url:r});break;case"reLaunch":e.reLaunch({url:r});break;default:e.navigateTo({url:r})}},img:function(e,t){var i="";if(e&&void 0!=e&&""!=e){if(t&&e!=this.getDefaultImage().default_goods_img){var o=e.split("."),s=o[o.length-1];o.pop(),o[o.length-1]=o[o.length-1]+"_"+t.size.toUpperCase(),o.push(s),e=o.join(".")}i=-1==e.indexOf("http://")&&-1==e.indexOf("https://")?r.default.imgDomain+"/"+e:e,i=i.replace("addons/NsGoodsAssist/","").replace("shop/goods/","")}return i},timeStampTurnTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0!=e&&""!=e&&e>0){var i=new Date;i.setTime(1e3*e);var o=i.getFullYear(),r=i.getMonth()+1;r=r<10?"0"+r:r;var s=i.getDate();s=s<10?"0"+s:s;var a=i.getHours();a=a<10?"0"+a:a;var n=i.getMinutes(),c=i.getSeconds();return n=n<10?"0"+n:n,c=c<10?"0"+c:c,t?o+"-"+r+"-"+s:o+"-"+r+"-"+s+" "+a+":"+n+":"+c}return""},timeTurnTimeStamp:function(e){var t=e.split(" ",2),i=(t[0]?t[0]:"").split("-",3),o=(t[1]?t[1]:"").split(":",3);return new Date(parseInt(i[0],10)||null,(parseInt(i[1],10)||1)-1,parseInt(i[2],10)||null,parseInt(o[0],10)||null,parseInt(o[1],10)||null,parseInt(o[2],10)||null).getTime()/1e3},countDown:function(e){var t=0,i=0,o=0,r=0;return e>0&&(t=Math.floor(e/86400),i=Math.floor(e/3600)-24*t,o=Math.floor(e/60)-24*t*60-60*i,r=Math.floor(e)-24*t*60*60-60*i*60-60*o),t<10&&(t="0"+t),i<10&&(i="0"+i),o<10&&(o="0"+o),r<10&&(r="0"+r),{d:t,h:i,i:o,s:r}},unique:function(e,t){var i=new Map;return e.filter((function(e){return!i.has(e[t])&&i.set(e[t],1)}))},inArray:function(e,t){return null==t?-1:t.indexOf(e)},getDay:function(e){var t=new Date,i=t.getTime()+864e5*e;t.setTime(i);var o=function(e){var t=e;return 1==e.toString().length&&(t="0"+e),t},r=t.getFullYear(),s=t.getMonth(),a=t.getDate(),n=t.getDay(),c=parseInt(t.getTime()/1e3);s=o(s+1),a=o(a);var u=["周日","周一","周二","周三","周四","周五","周六"];return{t:c,y:r,m:s,d:a,w:u[n]}},upload:function(t,i,s){var n="weapp",c="微信小程序",l={token:e.getStorageSync("token"),app_type:n,app_type_name:c};if(l=Object.assign(l,i),r.default.apiSecurity){var d=new a.default;d.setPublicKey(r.default.publicKey);var h=encodeURIComponent(d.encryptLong(JSON.stringify(l)));l={encrypt:h}}var f=t,p=this;e.chooseImage({count:f,sizeType:["compressed"],sourceType:["album","camera"],success:function(){var e=u(o.default.mark((function e(t){var r,a,n,c,u;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.tempFilePaths,a=l,n=[],c=0;case 4:if(!(c<r.length)){e.next=12;break}return e.next=7,p.upload_file_server(r[c],a,i.path);case 7:u=e.sent,n.push(u);case 9:c++,e.next=4;break;case 12:"function"==typeof s&&s(n);case 13:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()})},upload_file_server:function(t,i,o){return new Promise((function(s,a){e.uploadFile({url:r.default.baseUrl+"/api/upload/"+o,filePath:t,name:"file",formData:i,success:function(e){var t=JSON.parse(e.data);t.code>=0?s(t.data.pic_path):a("error")}})}))},copy:function(t,i){e.setClipboardData({data:t,success:function(){"function"==typeof i&&i()}})},isWeiXin:function(){var e=navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)},showToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.title=e.title||"",s.default.commit("updateShowToastValue",e),setTimeout((function(){s.default.commit("updateShowToastValue",{})}),1500),e.success&&e.success()},isIPhoneX:function(){var t=e.getSystemInfoSync();return-1!=t.model.search("iPhone X")},deepClone:function(e){var t=function(e){return"object"==typeof e};if(!t(e))throw new Error("obj 不是一个对象！");var i=Array.isArray(e),o=i?[]:{};for(var r in e)o[r]=t(e[r])?this.deepClone(e[r]):e[r];return o},refreshBottomNav:function(){var t=e.getStorageSync("bottom_nav");t=JSON.parse(t);for(var i=0;i<t.list.length;i++){var o=t.list[i],r={index:i};r.text=o.title,r.iconPath=this.img(o.iconPath),r.selectedIconPath=this.img(o.selectedIconPath),1==t.type||2==t.type||t.type,e.setTabBarItem(r)}},diyRedirectTo:function(e,t){null!=e&&""!=e&&e.wap_url&&(-1!=e.wap_url.indexOf("http")?this.redirectTo("/otherpages/web/web?src="+e.wap_url):this.redirectTo(e.wap_url))},getDefaultImage:function(){var t=e.getStorageSync("default_img");return t?(t=JSON.parse(t),t.default_goods_img=this.img(t.default_goods_img),t.default_headimg=this.img(t.default_headimg),t):{default_goods_img:"",default_headimg:""}},uniappIsIPhoneX:function(){var t=!1,i=e.getSystemInfoSync();return-1==i.model.search("iPhone X")&&-1==i.model.search("iPhone 11")&&-1==i.model.search("iPhone12")||(t=!0),t},uniappIsIPhone11:function(){var t=!1,i=e.getSystemInfoSync();return-1!=i.model.search("iPhone 11")&&(t=!0),t},jumpPage:function(t){for(var i=!0,o=getCurrentPages().reverse(),r=0;r<o.length;r++)if(-1!=t.indexOf(o[r].route)){i=!1,e.navigateBack({delta:r});break}i&&this.$util.diyRedirectTo(t)},getDistance:function(e,t,i,o){var r=e*Math.PI/180,s=i*Math.PI/180,a=r-s,n=t*Math.PI/180-o*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(s)*Math.pow(Math.sin(n/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4,c},goBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/index/index/index";1==getCurrentPages().length?this.redirectTo(t):e.navigateBack()},numberFixed:function(e,t){return t||(t=0),Number(e).toFixed(t)}};t.default=l}).call(this,i("543d")["default"])},"85c5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},"86ad":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"拼团专区"};t.lang=o},"882d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品咨询"};t.lang=o},"886c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("c2fc"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(t.date,t.selected),o=t.startDate,r=t.endDate,a=t.range;s(this,e),this.date=this.getDate(new Date),this.selected=i||[],this.startDate=o,this.endDate=r,this.range=a,this.cleanMultipleStatus(),this.weeks={}}return n(e,[{key:"setDate",value:function(e){this.selectDate=this.getDate(e),this._getWeek(this.selectDate.fullDate)}},{key:"cleanMultipleStatus",value:function(){this.multipleStatus={before:"",after:"",data:[]}}},{key:"resetSatrtDate",value:function(e){this.startDate=e}},{key:"resetEndDate",value:function(e){this.endDate=e}},{key:"getDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";e||(e=new Date),"object"!==typeof e&&(e=e.replace(/-/g,"/"));var o=new Date(e);switch(i){case"day":o.setDate(o.getDate()+t);break;case"month":31===o.getDate()?o.setDate(o.getDate()+t):o.setMonth(o.getMonth()+t);break;case"year":o.setFullYear(o.getFullYear()+t);break}var r=o.getFullYear(),s=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,a=o.getDate()<10?"0"+o.getDate():o.getDate();return{fullDate:r+"-"+s+"-"+a,year:r,month:s,date:a,day:o.getDay()}}},{key:"_getLastMonthDays",value:function(e,t){for(var i=[],o=e;o>0;o--){var r=new Date(t.year,t.month-1,1-o).getDate();i.push({date:r,month:t.month-1,lunar:this.getlunar(t.year,t.month-1,r),disable:!0})}return i}},{key:"_currentMonthDys",value:function(e,t){for(var i=this,o=[],r=this.date.fullDate,s=function(e){var s=t.year+"-"+(t.month,t.month+"-")+(e<10?"0"+e:e),a=r===s,n=i.selected&&i.selected.find((function(e){if(i.dateEqual(s,e.date))return e})),c=!0,u=!0;if(i.startDate){var l=i.dateCompare(i.startDate,r);c=i.dateCompare(l?i.startDate:r,s)}if(i.endDate){var d=i.dateCompare(r,i.endDate);u=i.dateCompare(s,d?i.endDate:r)}var h=i.multipleStatus.data,f=!1,p=-1;i.range&&(h&&(p=h.findIndex((function(e){return i.dateEqual(e,s)}))),-1!==p&&(f=!0));var g={fullDate:s,year:t.year,date:e,multiple:!!i.range&&f,beforeMultiple:i.dateEqual(i.multipleStatus.before,s),afterMultiple:i.dateEqual(i.multipleStatus.after,s),month:t.month,lunar:i.getlunar(t.year,t.month,e),disable:!c||!u,isDay:a};n&&(g.extraInfo=n),o.push(g)},a=1;a<=e;a++)s(a);return o}},{key:"_getNextMonthDays",value:function(e,t){for(var i=[],o=1;o<e+1;o++)i.push({date:o,month:Number(t.month)+1,lunar:this.getlunar(t.year,Number(t.month)+1,o),disable:!0});return i}},{key:"getInfo",value:function(e){var t=this;e||(e=new Date);var i=this.canlender.find((function(i){return i.fullDate===t.getDate(e).fullDate}));return i}},{key:"dateCompare",value:function(e,t){return e=new Date(e.replace("-","/").replace("-","/")),t=new Date(t.replace("-","/").replace("-","/")),e<=t}},{key:"dateEqual",value:function(e,t){return e=new Date(e.replace("-","/").replace("-","/")),t=new Date(t.replace("-","/").replace("-","/")),e.getTime()-t.getTime()===0}},{key:"geDateAll",value:function(e,t){var i=[],o=e.split("-"),r=t.split("-"),s=new Date;s.setFullYear(o[0],o[1]-1,o[2]);var a=new Date;a.setFullYear(r[0],r[1]-1,r[2]);for(var n=s.getTime()-864e5,c=a.getTime()-864e5,u=n;u<=c;)u+=864e5,i.push(this.getDate(new Date(parseInt(u))).fullDate);return i}},{key:"getlunar",value:function(e,t,i){return o.default.solar2lunar(e,t,i)}},{key:"setSelectInfo",value:function(e,t){this.selected=t,this._getWeek(e)}},{key:"setMultiple",value:function(e){var t=this.multipleStatus,i=t.before,o=t.after;this.range&&(i&&o?(this.multipleStatus.before="",this.multipleStatus.after="",this.multipleStatus.data=[]):i?(this.multipleStatus.after=e,this.dateCompare(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before)):this.multipleStatus.before=e,this._getWeek(e))}},{key:"_getWeek",value:function(e){var t=this.getDate(e),i=(t.fullDate,t.year),o=t.month,r=(t.date,t.day,new Date(i,o-1,1).getDay()),s=new Date(i,o,0).getDate(),a={lastMonthDays:this._getLastMonthDays(r,this.getDate(e)),currentMonthDys:this._currentMonthDys(s,this.getDate(e)),nextMonthDays:[],weeks:[]},n=[],c=42-(a.lastMonthDays.length+a.currentMonthDys.length);a.nextMonthDays=this._getNextMonthDays(c,this.getDate(e)),n=n.concat(a.lastMonthDays,a.currentMonthDys,a.nextMonthDays);for(var u={},l=0;l<n.length;l++)l%7===0&&(u[parseInt(l/7)]=new Array(7)),u[parseInt(l/7)][l%7]=n[l];this.canlender=n,this.weeks=u}}]),e}(),u=c;t.default=u},8877:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"搜索",history:"历史搜索",hot:"热门搜索",find:"搜索发现",hidefind:"当前搜索发现已隐藏",inputPlaceholder:"搜索商品"};t.lang=o},"88e5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"砍价专区"};t.lang=o},"88f8":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},pintuan_info:{},pintuan_group_info:{},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/pintuan/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("pintuanOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/pintuan/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="";for(var i=0;i<this.orderPaymentData.shop_goods_list.goods_list.length;i++)this.orderPaymentData.shop_goods_list.goods_list[i].goods_image=this.orderPaymentData.shop_goods_list.goods_list[i].goods_image?this.orderPaymentData.shop_goods_list.goods_list[i].goods_image.split(",")[0]:"";var o=this.orderPaymentData;if(void 0!=o.shop_goods_list.express_type&&void 0!=o.shop_goods_list.express_type[0]){var r=o.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var s=e.getStorageSync("delivery");if(s){var a=s.name,n=s.title;"store"==a&&o.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else a=r[0].name,n=r[0].title;this.orderCreateData.delivery.delivery_type=a,this.orderCreateData.delivery.delivery_type_name=n,"store"==r[0].name&&this.storeSelected(r[0])}if(void 0!=o.shop_goods_list.coupon_list&&void 0!=o.shop_goods_list.coupon_list[0]){var c=o.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=c[0].coupon_id,this.orderCreateData.coupon.coupon_money=c[0].money}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var u=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;u.length&&(this.orderCreateData.invoice_content=u[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{var l=this.orderPaymentData.shop_goods_list.local_config.info.time_week,d=!1;for(i=0;i<l.length;i++)if(i+1<l.length){var h=l[i+1]-l[i];if(h>1){d=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(d){var p=[];for(i=0;i<l.length;i++)p.push(f[l[i]]);this.deliveryWeek=p.join("、")}else this.deliveryWeek=f[l[0]]+"至"+f[l[l.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var g=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=g+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),b=y.getHours(),D=y.getMinutes(),S=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),C=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(S==k&&w==C||((b<S||b==S&&D<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==S.toString().length?"0"+S:S)+":"+(1==w.toString().length?"0"+w:w)),(b>k||b==k&&D>C)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/pintuan/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),"store"==this.orderCreateData.delivery.delivery_type?o.member_address=JSON.stringify(this.member_address):o.member_address=JSON.stringify(o.member_address),this.$api.sendRequest({url:"/pintuan/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?e.removeStorage({key:"pintuanOrderCreateData",success:function(){0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(t.data)}}):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].goods_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&this.$refs.choosePaymentPopup.open()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=i}).call(this,i("543d")["default"])},"89f4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"支付方式",paymentAmount:"支付金额",confirmPayment:"确认支付",seeOrder:"查看订单"};t.lang=o},"8b99":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分兑换",emptyTips:"暂无更多数据了"};t.lang=o},"8ca8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},9420:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"946a":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{authInfo:{}}},methods:{getCode:function(t){var i=this;this.getUserInfo(),e.login({provider:"weixin",timeout:3e3,success:function(e){e.code?i.$api.sendRequest({url:"/weapp/api/weapp/authcodetoopenid",data:{code:e.code},success:function(e){e.code>=0&&(e.data.openid&&(i.authInfo.weapp_openid=e.data.openid),e.data.unionid&&(i.authInfo.wx_unionid=e.data.unionid),"function"==typeof t&&t(i.authInfo))}}):"function"==typeof t&&t()},fail:function(){"function"==typeof t&&t()}})},getUserInfo:function(){var t=this;e.getUserInfo({success:function(e){"getUserInfo:ok"==e.errMsg&&(e.userInfo.nickName&&(t.authInfo.nickName=e.userInfo.nickName),e.userInfo.avatarUrl&&(t.authInfo.avatarUrl=e.userInfo.avatarUrl))}})},handleAuthInfo:function(){try{this.checkOpenidIsExits()}catch(e){}}},onLoad:function(e){var t=this;e.code&&this.$util.isWeiXin()&&this.$api.sendRequest({url:"/wechat/api/wechat/authcodetoopenid",data:{code:e.code},success:function(e){e.code>=0&&(e.data.openid&&(t.authInfo.wx_openid=e.data.openid),e.data.unionid&&(t.authInfo.wx_unionid=e.data.unionid),Object.assign(t.authInfo,e.data.userinfo),t.handleAuthInfo())}})}};t.default=i}).call(this,i("543d")["default"])},9533:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我要评价"};t.lang=o},9545:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"96cf":function(e,t){!function(t){"use strict";var i,o=Object.prototype,r=o.hasOwnProperty,s="function"===typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",n=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{l=t.regeneratorRuntime=u?e.exports:{},l.wrap=b;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",g={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(j([])));_&&_!==o&&r.call(_,a)&&(m=_);var y=k.prototype=S.prototype=Object.create(m);w.prototype=y.constructor=k,k.constructor=w,k[c]=w.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},C($.prototype),$.prototype[n]=function(){return this},l.AsyncIterator=$,l.async=function(e,t,i,o){var r=new $(b(e,t,i,o));return l.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},C(y),y[c]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){while(t.length){var o=t.pop();if(o in e)return i.value=o,i.done=!1,i}return i.done=!0,i}},l.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,r){return n.type="throw",n.arg=e,t.next=o,r&&(t.method="next",t.arg=i),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],n=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),I(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var o=i.completion;if("throw"===o.type){var r=o.arg;I(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:j(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=i),g}}}function b(e,t,i,o){var r=t&&t.prototype instanceof S?t:S,s=Object.create(r.prototype),a=new O(o||[]);return s._invoke=P(e,i,a),s}function D(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(o){return{type:"throw",arg:o}}}function S(){}function w(){}function k(){}function C(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function $(e){function t(i,o,s,a){var n=D(e[i],e,o);if("throw"!==n.type){var c=n.arg,u=c.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,s,a)}),(function(e){t("throw",e,s,a)})):Promise.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return t("throw",e,s,a)}))}a(n.arg)}var i;function o(e,o){function r(){return new Promise((function(i,r){t(e,o,i,r)}))}return i=i?i.then(r,r):r()}this._invoke=o}function P(e,t,i){var o=d;return function(r,s){if(o===f)throw new Error("Generator is already running");if(o===p){if("throw"===r)throw s;return E()}i.method=r,i.arg=s;while(1){var a=i.delegate;if(a){var n=T(a,i);if(n){if(n===g)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===d)throw o=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var c=D(e,t,i);if("normal"===c.type){if(o=i.done?p:h,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=p,i.method="throw",i.arg=c.arg)}}}function T(e,t){var o=e.iterator[t.method];if(o===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,T(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=D(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var s=r.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,g):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function t(){while(++o<e.length)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=i,t.done=!0,t};return s.next=s}}return{next:E}}function E(){return{value:i,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},9810:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"会员等级",defaultLevelTips:"您已经是最高级别的会员了！",tag:"专属标签",tagDesc:"标签达人",discount:"专享折扣",discountDesc:"专享{0}折",service:"优质服务",serviceDesc:"360度全方位",memberLevel:"会员等级",condition:"条件",equity:"权益",giftPackage:"升级礼包",levelExplain:"等级说明",upgradeTips:"升级会员，享专属权益"};t.lang=o},"98c2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={};t.lang=o},"9e63":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},groupbuy_info:{name:""},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/groupbuy/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("groupbuyOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/groupbuy/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="";for(var i=0;i<this.orderPaymentData.shop_goods_list.goods_list.length;i++)this.orderPaymentData.shop_goods_list.goods_list[i].goods_image=this.orderPaymentData.shop_goods_list.goods_list[i].goods_image?this.orderPaymentData.shop_goods_list.goods_list[i].goods_image.split(",")[0]:"";var o=this.orderPaymentData;if(void 0!=o.shop_goods_list.express_type&&void 0!=o.shop_goods_list.express_type[0]){var r=o.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var s=e.getStorageSync("delivery");if(s){var a=s.name,n=s.title;"store"==a&&o.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else a=r[0].name,n=r[0].title;this.orderCreateData.delivery.delivery_type=a,this.orderCreateData.delivery.delivery_type_name=n,"store"==r[0].name&&this.storeSelected(r[0])}if(void 0!=o.shop_goods_list.coupon_list&&void 0!=o.shop_goods_list.coupon_list[0]){var c=o.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=c[0].coupon_id,this.orderCreateData.coupon.coupon_money=c[0].money}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var u=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;u.length&&(this.orderCreateData.invoice_content=u[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{var l=this.orderPaymentData.shop_goods_list.local_config.info.time_week,d=!1;for(i=0;i<l.length;i++)if(i+1<l.length){var h=l[i+1]-l[i];if(h>1){d=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(d){var p=[];for(i=0;i<l.length;i++)p.push(f[l[i]]);this.deliveryWeek=p.join("、")}else this.deliveryWeek=f[l[0]]+"至"+f[l[l.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var g=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=g+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),b=y.getHours(),D=y.getMinutes(),S=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),C=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(S==k&&w==C||((b<S||b==S&&D<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==S.toString().length?"0"+S:S)+":"+(1==w.toString().length?"0"+w:w)),(b>k||b==k&&D>C)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/groupbuy/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),"store"==this.orderCreateData.delivery.delivery_type?o.member_address=JSON.stringify(this.member_address):o.member_address=JSON.stringify(o.member_address),this.$api.sendRequest({url:"/groupbuy/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?e.removeStorage({key:"groupbuyOrderCreateData",success:function(){0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(t.data)}}):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].goods_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&this.$refs.choosePaymentPopup.open()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=i}).call(this,i("543d")["default"])},"9ec3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"9f97":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"兑换结果",exchangeSuccess:"兑换成功",see:"查看兑换记录",goHome:"回到首页"};t.lang=o},a01a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},a207:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function n(e){s(a,o,r,n,c,"next",e)}function c(e){s(a,o,r,n,c,"throw",e)}n(void 0)}))}}var n={data:function(){return{categoryAdvImage:"",cartList:[],cateList:[],isLoadingCate:!1,twoCateList:[],threeCateList:[],join_cart:"join_cart",oneCategoryId:0,oneCategoryIndex:0,TwoCategoryId:0,TwoCategoryIndex:0,threeCategoryId:0,threeCategoryIndex:0,goodsList:[],isAll:!1,isToken:!1,size:10,num:1,isNetwork:1,isLoading:!1,newheight:0,iphoneX:!1,goodsSkuDetail:{},currentRoute:"",token:"",isSafari:!1,cartFlag:!1,showEmpty:!1}},props:{value:{type:Object},autoHeight:{type:Boolean},bottom:{type:[String,Number]}},computed:{type:function(){return this.value.template},height:function(){return this.newheight+"px"},addonIsExit:function(){return this.$store.state.addonIsExit},storeToken:function(){return this.isAll=!1,this.$store.state.token}},created:function(){var t=this;return a(o.default.mark((function i(){var r;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.iphoneX=t.$util.uniappIsIPhoneX(),r=getCurrentPages()[getCurrentPages().length-1],t.currentRoute="/"+r.route,i.next=5,t.getCategoryList();case 5:t.token=e.getStorageSync("token");case 6:case"end":return i.stop()}}),i)})))()},watch:{storeToken:function(e,t){e&&this.getGoodsList()}},methods:{getToken:function(){this.token=e.getStorageSync("token"),this.token||this.isToken||this.getCategoryList()},getCartData:function(){var t=this,i=this;e.getStorageSync("token")?this.$api.sendRequest({url:"/api/cart/lists",success:function(e){e.code>=0&&(i.cartList=e.data,3!=t.value.level?i.modifyGoodsCartNum():i.modifyGoodsCartThree(),t.$emit("netFinish",!0))},fail:function(e){}}):this.$emit("netFinish",!0)},modifyGoodsCartNum:function(e,t){var i=this,o=i.goodsList,r=i.cartList;for(var s in e=e||1,o){var a=o[s],n=a.sku_id,c=0,u="";if(1==e){for(var l in r){var d=r[l];n==d.sku_id&&(c+=d.num,u=d.cart_id)}a.num=c,a.cart_id=u}else if(2==e&&(c=parseInt(a.num||0),"undefined"!==typeof t&&!app.isEmptyObject(t)&&t.sku_id==n)){"add"==t.type?a.num+=parseInt(t.num||0):"minus"==t.type&&(a.num-=parseInt(t.num||0),a.num<0&&(a.num=0));break}"undefined"!==typeof a.num&&null!==a.num||(a.num=0)}this.goodsList=o,this.$forceUpdate()},modifyGoodsCartThree:function(){var e=this.cateList,t=this.cartList;for(var i in e){var o=e[i];o.sku_id;if(e[i].child_list.length)for(var r in e[i].child_list){var s=e[i].child_list[r],a=s.sku_id,n=0,c="";for(var u in t){var l=t[u];a==s.sku_id&&(n=s.num,c=l.cart_id)}if(s.num=n,s.cart_id=c,s.child_list.length)for(var d in s.child_list){var h=s.child_list[d],f=h.sku_id,p=0,g="";for(var m in t){var v=t[m];f==v.sku_id&&(p=h.num,g=v.cart_id)}if(h.num=p,h.cart_id=g,h.goods_list.length>0)for(var _ in h.goods_list){var y=h.goods_list[_],b=y.sku_id,D=0,S="";for(var w in t){var k=t[w];b==k.sku_id&&(D=k.num,S=k.cart_id)}y.num=D,y.cart_id=S}}}}this.cateList=e,this.$forceUpdate()},cartNumChange:function(t,i,o,r){var s=this;if(e.getStorageSync("token")){if(this.cartFlag)return!1;this.cartFlag=!0;var a,n={num:"",cart_id:o,sku_id:r},c={num:"",cart_id:o,sku_id:r},u="";""==o?(a="add",n.num=1,c.num=1,u="/api/cart/add"):"add"==t?(a="edit",n.num=i+1,c.num=i+1,u="/api/cart/edit"):"minus"==t&&(n.num=i-1?i-1:0,c.num=i-1?i-1:0,u=n.num>0?"/api/cart/edit":"/api/cart/delete",a=n.num>0?"edit":"delete"),this.shopDataChange(c),this.$api.sendRequest({url:u,data:n,success:function(e){if(e.code>=0&&e.data>0){if(s.$store.dispatch("getCartNumber"),"edit"==a)return s.cartFlag=!1,!1;c.cart_id="add"==a?e.data:"",s.shopDataChange(c)}else c.num=i,s.shopDataChange(c),s.$util.showToast({title:e.message});s.cartFlag=!1}})}else this.$refs.login.open("/pages/goods/category/category")},shopDataChange:function(e){if(3!=this.value.level)for(var t=0;t<this.goodsList.length;t++){var i=this.goodsList[t];e.sku_id==i.sku_id&&(i.num=e.num,i.cart_id=e.cart_id,this.$forceUpdate())}else for(t=0;t<this.threeCateList.length;t++){i=this.threeCateList[t];for(var o=0;o<i.goods_list.length;o++)i.goods_list[o].sku_id==e.sku_id&&(i.goods_list[o].num=e.num,i.goods_list[o].cart_id=e.cart_id,this.$forceUpdate())}},getCategoryList:function(){var t=this;this.isLoadingCate=!0,this.showEmpty=!1;var i="/api/goodscategory/tree";this.$api.sendRequest({url:i,data:{level:this.value.level,template:this.value.template},success:function(i){if(t.showEmpty=!0,0==i.code){if(t.isLoadingCate=!1,t.cateList=i.data,!t.cateList.length)return;t.categoryAdvImage=t.cateList[0].image_adv,i.data&&(t.oneCategoryId=i.data[0].category_id_1),console.log(i.data,t.oneCategoryId),1!=t.value.level&&i.data&&i.data[0].child_list&&(t.twoCateList=i.data[0].child_list,void 0!=i.data[0].child_list[0]&&(t.TwoCategoryId=i.data[0].child_list[0].category_id_2),3==t.value.level&&void 0!=i.data[0].child_list[0]&&(t.threeCateList=i.data[0].child_list[0].child_list,t.threeCategoryId=i.data[0].child_list[0].child_list.category_id_3)),2==t.value.level&&3==t.type||1==t.value.level&&3==t.type?t.getGoodsList():3==t.value.level&&3==t.type?t.getCartData():t.$emit("netFinish",!0),setTimeout((function(){var i=e.createSelectorQuery().in(t);i.select(".category-cate-top").boundingClientRect((function(e){t.newheight=e.height})).exec()}),100)}else t.$util.showToast({title:i.message})}})},getGoodsList:function(){var e=this,t=0;if(1==this.value.level?(t=this.oneCategoryId,1):2==this.value.level&&this.TwoCategoryId?(t=this.TwoCategoryId,2):2!=this.value.level||this.TwoCategoryId||(t=this.oneCategoryId,1),this.isNetwork&&!this.isAll){this.isNetwork=0,this.isLoading=!0;var i={page:this.num,page_size:this.size,category_id:t};this.categoryId&&(i.category_id=this.categoryId),this.$api.sendRequest({url:"/api/goodssku/page",data:i,success:function(t){if(e.$emit("netFinish",!0),e.num=e.num+1,e.isNetwork=1,e.isLoading=!1,0==t.code&&t.data){var i=[];0==t.code&&t.data&&(i=t.data.list),1==e.num&&(e.goodsList=[]),e.goodsList=e.goodsList.concat(i),e.goodsList.length==t.data.count&&(e.isAll=!0),e.getCartData()}}})}},getGoodsSkuDetail:function(t){var i=this;return a(o.default.mark((function r(){var s,a,n,c,u;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e.getStorageSync("token")){o.next=3;break}return i.$refs.login.open(i.currentRoute),o.abrupt("return");case 3:return o.next=5,i.$api.sendRequest({url:"/api/goodssku/detail",async:!1,data:{sku_id:t}});case 5:if(s=o.sent,a=s.data,null!=a.goods_sku_detail){if(i.goodsSkuDetail=a.goods_sku_detail,i.goodsSkuDetail.preview=i.preview,i.shopInfo=a.shop_info,0==i.skuId&&(i.skuId=i.goodsSkuDetail.sku_id),i.goodsSkuDetail.video_url&&(i.switchMedia="video"),i.goodsSkuDetail.sku_images?i.goodsSkuDetail.sku_images=i.goodsSkuDetail.sku_images.split(","):i.goodsSkuDetail.sku_images=[],i.goodsSkuDetail.goods_spec_format&&i.goodsSkuDetail.goods_image&&(i.goodsSkuDetail.goods_image=i.goodsSkuDetail.goods_image.split(","),i.goodsSkuDetail.sku_images=i.goodsSkuDetail.sku_images.concat(i.goodsSkuDetail.goods_image)),i.goodsSkuDetail.unit=i.goodsSkuDetail.unit||"件",i.goodsSkuDetail.show_price=i.goodsSkuDetail.discount_price,i.goodsSkuDetail.sku_spec_format&&(i.goodsSkuDetail.sku_spec_format=JSON.parse(i.goodsSkuDetail.sku_spec_format)),i.goodsSkuDetail.goods_attr_format)for(n=JSON.parse(i.goodsSkuDetail.goods_attr_format),i.goodsSkuDetail.goods_attr_format=i.$util.unique(n,"attr_id"),c=0;c<i.goodsSkuDetail.goods_attr_format.length;c++)for(u=0;u<n.length;u++)i.goodsSkuDetail.goods_attr_format[c].attr_id==n[u].attr_id&&i.goodsSkuDetail.goods_attr_format[c].attr_value_id!=n[u].attr_value_id&&(i.goodsSkuDetail.goods_attr_format[c].attr_value_name+="、"+n[u].attr_value_name);i.goodsSkuDetail.goods_spec_format&&(i.goodsSkuDetail.goods_spec_format=JSON.parse(i.goodsSkuDetail.goods_spec_format)),i.contactData={title:i.goodsSkuDetail.sku_name,path:"/pages/goods/detail/detail?sku_id="+i.skuId,img:i.$util.img(i.goodsSkuDetail.sku_image,{size:"big"})},i.$refs.goodSkuNew.show("join_cart",i.goodsSkuDetail,(function(){i.getCartCount()}))}else i.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 8:case"end":return o.stop()}}),r)})))()},refreshGoodsSkuDetail:function(e){Object.assign(this.goodsSkuDetail,e)},getCartCount:function(){var e=this;this.preview||this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},toDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},toListDetail:function(e){var t="/pages/goods/list/list",i={category_id:e};this.$util.redirectTo(t,i)},selectOneCategory:function(t,i,o){var r=this;this.oneCategoryId=t,this.oneCategoryIndex=i,this.categoryAdvImage=this.cateList[this.oneCategoryIndex].image_adv,this.value.level>1&&(this.twoCateList=this.cateList[this.oneCategoryIndex].child_list?this.cateList[this.oneCategoryIndex].child_list:[],this.twoCateList.length?(this.TwoCategoryId=this.twoCateList[0].category_id_2,this.TwoCategoryIndex=0):this.TwoCategoryId=0,3==this.value.level&&(this.twoCateList.length?this.threeCateList=this.twoCateList[this.TwoCategoryIndex].child_list:this.threeCateList=[])),2==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),1==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),setTimeout((function(){var t=e.createSelectorQuery().in(r);t.select(".category-cate-top").boundingClientRect((function(e){r.newheight=e.height})).exec()}),100)},selectTwoCategory:function(e,t,i){this.TwoCategoryId=e,this.TwoCategoryIndex=t,2==this.value.level&&0==i&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),3==this.value.level&&this.twoCateList.length&&(this.threeCateList=this.twoCateList[t].child_list),2==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),1==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList())},selectThreeCategory:function(){this.toListDetail()},goodsImageError:function(e,t){this.goodsList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},cateImageError:function(e,t){1==t?(this.cateList[e].image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()):2==t&&(this.twoCateList[e].image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate())},threeGoodsImageError:function(e,t){this.threeCateList[e].goods_list[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},threeCateImageError:function(e,t){this.twoCateList[e].child_list[t].image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()}}};t.default=n}).call(this,i("543d")["default"])},a28b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},a319:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"公告详情"};t.lang=o},a34a:function(e,t,i){e.exports=i("bbdd")},a47d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},a57f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"充值记录"};t.lang=o},a717:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"礼品订单"};t.lang=o},a71f:function(e,t,i){var o={"./en-us/common.js":"16d3","./zh-cn/bargain/detail.js":"3ac8","./zh-cn/bargain/launch.js":"79a5","./zh-cn/bargain/list.js":"88e5","./zh-cn/bargain/my_bargain.js":"1739","./zh-cn/bargain/payment.js":"310e","./zh-cn/combo/detail.js":"09e9","./zh-cn/combo/payment.js":"d057","./zh-cn/common.js":"6ec1","./zh-cn/diy/diy.js":"078a","./zh-cn/fenxiao/apply.js":"72dc","./zh-cn/fenxiao/bill.js":"3dbd","./zh-cn/fenxiao/follow.js":"385e","./zh-cn/fenxiao/goods_list.js":"0caa","./zh-cn/fenxiao/index.js":"01e1","./zh-cn/fenxiao/level.js":"fd36","./zh-cn/fenxiao/order.js":"1cb5","./zh-cn/fenxiao/order_detail.js":"9420","./zh-cn/fenxiao/promote_code.js":"de90","./zh-cn/fenxiao/team.js":"c677","./zh-cn/fenxiao/withdraw_apply.js":"f7ce","./zh-cn/fenxiao/withdraw_list.js":"1273","./zh-cn/game/cards.js":"eeec","./zh-cn/game/record.js":"ee5a","./zh-cn/game/smash_eggs.js":"dfd5","./zh-cn/game/turntable.js":"48f5","./zh-cn/goods/brand.js":"0ca0","./zh-cn/goods/cart.js":"83d9","./zh-cn/goods/category.js":"4aab","./zh-cn/goods/consult.js":"882d","./zh-cn/goods/consult_edit.js":"e3bc","./zh-cn/goods/coupon.js":"01e8","./zh-cn/goods/coupon_receive.js":"3a2d","./zh-cn/goods/detail.js":"e970","./zh-cn/goods/evaluate.js":"d377","./zh-cn/goods/list.js":"dc89","./zh-cn/goods/point.js":"f030","./zh-cn/goods/search.js":"8877","./zh-cn/groupbuy/detail.js":"36c3","./zh-cn/groupbuy/list.js":"318f","./zh-cn/groupbuy/payment.js":"a47d","./zh-cn/help/detail.js":"d175","./zh-cn/help/list.js":"3629","./zh-cn/index/index.js":"1528","./zh-cn/live/list.js":"d112","./zh-cn/login/find.js":"6a21","./zh-cn/login/login.js":"4358","./zh-cn/login/register.js":"1f0e","./zh-cn/member/account.js":"4ed1","./zh-cn/member/account_edit.js":"4385","./zh-cn/member/address.js":"80b4","./zh-cn/member/address_edit.js":"52f6","./zh-cn/member/apply_withdrawal.js":"3a78","./zh-cn/member/assets.js":"7205","./zh-cn/member/balance.js":"12a3","./zh-cn/member/balance_detail.js":"5084","./zh-cn/member/cancellation.js":"f47c","./zh-cn/member/cancelrefuse.js":"7b23","./zh-cn/member/cancelstatus.js":"48b3","./zh-cn/member/cancelsuccess.js":"a01a","./zh-cn/member/collection.js":"52e8","./zh-cn/member/coupon.js":"a8a0","./zh-cn/member/footprint.js":"6620","./zh-cn/member/gift.js":"6856","./zh-cn/member/gift_detail.js":"a717","./zh-cn/member/index.js":"b821","./zh-cn/member/info.js":"ab5f","./zh-cn/member/level.js":"9810","./zh-cn/member/message.js":"31e5","./zh-cn/member/modify_face.js":"7e4c","./zh-cn/member/pay_password.js":"6403","./zh-cn/member/point.js":"7d77","./zh-cn/member/signin.js":"a8f8","./zh-cn/member/withdrawal.js":"c71c","./zh-cn/member/withdrawal_detail.js":"1dd2","./zh-cn/notice/detail.js":"a319","./zh-cn/notice/list.js":"c032","./zh-cn/order/activist.js":"437e","./zh-cn/order/detail.js":"bf96","./zh-cn/order/detail_local_delivery.js":"9ec3","./zh-cn/order/detail_pickup.js":"512d","./zh-cn/order/detail_point.js":"ea71","./zh-cn/order/detail_virtual.js":"ac1c","./zh-cn/order/evaluate.js":"9533","./zh-cn/order/list.js":"aa45","./zh-cn/order/logistics.js":"e1d9","./zh-cn/order/payment.js":"a28b","./zh-cn/order/refund.js":"099b","./zh-cn/order/refund_detail.js":"48df","./zh-cn/pay/index.js":"89f4","./zh-cn/pay/result.js":"f9fe","./zh-cn/pintuan/detail.js":"8ca8","./zh-cn/pintuan/list.js":"86ad","./zh-cn/pintuan/my_spell.js":"fb0d","./zh-cn/pintuan/payment.js":"9545","./zh-cn/pintuan/share.js":"0bf9","./zh-cn/point/detail.js":"3c73","./zh-cn/point/goods_detail.js":"98c2","./zh-cn/point/list.js":"4e67","./zh-cn/point/order_detail.js":"ed44","./zh-cn/point/order_list.js":"8b99","./zh-cn/point/payment.js":"1279","./zh-cn/point/result.js":"9f97","./zh-cn/recharge/detail.js":"c8f2","./zh-cn/recharge/list.js":"4994","./zh-cn/recharge/order_list.js":"a57f","./zh-cn/seckill/detail.js":"85c5","./zh-cn/seckill/list.js":"5dd3","./zh-cn/seckill/payment.js":"bbd6","./zh-cn/store_notes/note_detail.js":"7d5c","./zh-cn/store_notes/note_list.js":"45e1","./zh-cn/storeclose/storeclose.js":"b03e","./zh-cn/topics/detail.js":"4a64","./zh-cn/topics/goods_detail.js":"594a","./zh-cn/topics/list.js":"383b","./zh-cn/topics/payment.js":"45d9","./zh-cn/verification/detail.js":"bf59","./zh-cn/verification/index.js":"52fd","./zh-cn/verification/list.js":"729f"};function r(e){var t=s(e);return i(t)}function s(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id="a71f"},a8a0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的优惠券"};t.lang=o},a8f8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"签到有礼"};t.lang=o},aa45:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单列表",emptyTips:"暂无相关订单",all:"全部",waitPay:"待付款",readyDelivery:"待发货",waitDelivery:"待收货",waitEvaluate:"待评价",update:"释放刷新",updateIng:"加载中..."};t.lang=o},aacb:function(e,t,i){"use strict";(function(e){function i(e,t){var i=this;i.version="1.2.3",i.options=e||{},i.isScrollBody=t||!1,i.isDownScrolling=!1,i.isUpScrolling=!1;var o=i.options.down&&i.options.down.callback;i.initDownScroll(),i.initUpScroll(),setTimeout((function(){i.optDown.use&&i.optDown.auto&&o&&(i.optDown.autoShowLoading?i.triggerDownScroll():i.optDown.callback&&i.optDown.callback(i)),setTimeout((function(){i.optUp.use&&i.optUp.auto&&!i.isUpAutoLoad&&i.triggerUpScroll()}),100)}),30)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.extendDownScroll=function(e){i.extend(e,{use:!0,auto:!0,native:!1,autoShowLoading:!1,isLock:!1,offset:80,startTop:100,fps:80,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",inited:null,inOffset:null,outOffset:null,onMoving:null,beforeLoading:null,showLoading:null,afterLoading:null,endDownScroll:null,callback:function(e){e.resetUpScroll()}})},i.prototype.extendUpScroll=function(e){i.extend(e,{use:!0,auto:!0,isLock:!1,isBoth:!0,isBounce:!1,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:80,textLoading:"加载中 ...",textNoMore:"-- END --",inited:null,showLoading:null,showNoMore:null,hideUpScroll:null,errDistance:60,toTop:{src:null,offset:1e3,duration:300,btnClick:null,onShow:null,zIndex:9990,left:null,right:20,bottom:120,safearea:!1,width:72,radius:"50%"},empty:{use:!0,icon:null,tip:"~ 暂无相关数据 ~",btnText:"",btnClick:null,onShow:null,fixed:!1,top:"100rpx",zIndex:99},onScroll:!1})},i.extend=function(e,t){if(!e)return t;for(var o in t)if(null==e[o]){var r=t[o];e[o]=null!=r&&"object"===typeof r?i.extend({},r):r}else"object"===typeof e[o]&&i.extend(e[o],t[o]);return e},i.prototype.initDownScroll=function(){var e=this;e.optDown=e.options.down||{},e.extendDownScroll(e.optDown),e.isScrollBody&&e.optDown.native?e.optDown.use=!1:e.optDown.native=!1,e.downHight=0,e.optDown.use&&e.optDown.inited&&setTimeout((function(){e.optDown.inited(e)}),0)},i.prototype.touchstartEvent=function(e){this.optDown.use&&(this.startPoint=this.getPoint(e),this.startTop=this.getScrollTop(),this.lastPoint=this.startPoint,this.maxTouchmoveY=this.getBodyHeight()-this.optDown.bottomOffset,this.inTouchend=!1)},i.prototype.touchmoveEvent=function(e){if(this.optDown.use&&this.startPoint){var t=this,i=(new Date).getTime();if(!(t.moveTime&&i-t.moveTime<t.moveTimeDiff)){t.moveTime=i,t.moveTimeDiff||(t.moveTimeDiff=1e3/t.optDown.fps);var o=t.getScrollTop(),r=t.getPoint(e),s=r.y-t.startPoint.y;if(s>0&&(t.isScrollBody&&o<=0||!t.isScrollBody&&(o<=0||o<=t.optDown.startTop&&o===t.startTop))&&!t.inTouchend&&!t.isDownScrolling&&!t.optDown.isLock&&(!t.isUpScrolling||t.isUpScrolling&&t.optUp.isBoth)){var a=t.getAngle(t.lastPoint,r);if(a<t.optDown.minAngle)return;if(t.maxTouchmoveY>0&&r.y>=t.maxTouchmoveY)return t.inTouchend=!0,void t.touchendEvent();t.preventDefault(e);var n=r.y-t.lastPoint.y;t.downHight<t.optDown.offset?(1!==t.movetype&&(t.movetype=1,t.optDown.inOffset&&t.optDown.inOffset(t),t.isMoveDown=!0),t.downHight+=n*t.optDown.inOffsetRate):(2!==t.movetype&&(t.movetype=2,t.optDown.outOffset&&t.optDown.outOffset(t),t.isMoveDown=!0),t.downHight+=n>0?Math.round(n*t.optDown.outOffsetRate):n);var c=t.downHight/t.optDown.offset;t.optDown.onMoving&&t.optDown.onMoving(t,c,t.downHight)}t.lastPoint=r}}},i.prototype.touchendEvent=function(e){if(this.optDown.use)if(this.isMoveDown)this.downHight>=this.optDown.offset?this.triggerDownScroll():(this.downHight=0,this.optDown.endDownScroll&&this.optDown.endDownScroll(this)),this.movetype=0,this.isMoveDown=!1;else if(!this.isScrollBody&&this.getScrollTop()===this.startTop){var t=this.getPoint(e).y-this.startPoint.y<0;if(t){var i=this.getAngle(this.getPoint(e),this.startPoint);i>80&&this.triggerUpScroll(!0)}}},i.prototype.getPoint=function(e){return e?e.touches&&e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.clientX,y:e.clientY}:{x:0,y:0}},i.prototype.getAngle=function(e,t){var i=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),r=Math.sqrt(i*i+o*o),s=0;return 0!==r&&(s=Math.asin(o/r)/Math.PI*180),s},i.prototype.triggerDownScroll=function(){this.optDown.beforeLoading&&this.optDown.beforeLoading(this)||(this.showDownScroll(),this.optDown.callback&&this.optDown.callback(this))},i.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.native?(e.startPullDownRefresh(),this.optDown.showLoading&&this.optDown.showLoading(this,0)):(this.downHight=this.optDown.offset,this.optDown.showLoading&&this.optDown.showLoading(this,this.downHight))},i.prototype.onPullDownRefresh=function(){this.isDownScrolling=!0,this.optDown.showLoading&&this.optDown.showLoading(this,0),this.optDown.callback&&this.optDown.callback(this)},i.prototype.endDownScroll=function(){if(this.optDown.native)return this.isDownScrolling=!1,this.optDown.endDownScroll&&this.optDown.endDownScroll(this),void e.stopPullDownRefresh();var t=this,i=function(){t.downHight=0,t.isDownScrolling=!1,t.optDown.endDownScroll&&t.optDown.endDownScroll(t),!t.isScrollBody&&t.setScrollHeight(0)},o=0;t.optDown.afterLoading&&(o=t.optDown.afterLoading(t)),"number"===typeof o&&o>0?setTimeout(i,o):i()},i.prototype.lockDownScroll=function(e){null==e&&(e=!0),this.optDown.isLock=e},i.prototype.lockUpScroll=function(e){null==e&&(e=!0),this.optUp.isLock=e},i.prototype.initUpScroll=function(){var e=this;e.optUp=e.options.up||{use:!1},e.extendUpScroll(e.optUp),e.optUp.isBounce||e.setBounce(!1),!1!==e.optUp.use&&(e.optUp.hasNext=!0,e.startNum=e.optUp.page.num+1,e.optUp.inited&&setTimeout((function(){e.optUp.inited(e)}),0))},i.prototype.onReachBottom=function(){this.isScrollBody&&!this.isUpScrolling&&!this.optUp.isLock&&this.optUp.hasNext&&this.triggerUpScroll()},i.prototype.onPageScroll=function(e){this.isScrollBody&&(this.setScrollTop(e.scrollTop),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn())},i.prototype.scroll=function(e,t){this.setScrollTop(e.scrollTop),this.setScrollHeight(e.scrollHeight),null==this.preScrollY&&(this.preScrollY=0),this.isScrollUp=e.scrollTop-this.preScrollY>0,this.preScrollY=e.scrollTop,this.isScrollUp&&this.triggerUpScroll(!0),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn(),this.optUp.onScroll&&t&&t()},i.prototype.triggerUpScroll=function(e){if(!this.isUpScrolling&&this.optUp.use&&this.optUp.callback){if(!0===e){var t=!1;if(!this.optUp.hasNext||this.optUp.isLock||this.isDownScrolling||this.getScrollBottom()<=this.optUp.offset&&(t=!0),!1===t)return}this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.num=this.optUp.page.num,this.size=this.optUp.page.size,this.time=this.optUp.page.time,this.optUp.callback(this)}},i.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.optUp.showLoading&&this.optUp.showLoading(this)},i.prototype.showNoMore=function(){this.optUp.hasNext=!1,this.optUp.showNoMore&&this.optUp.showNoMore(this)},i.prototype.hideUpScroll=function(){this.optUp.hideUpScroll&&this.optUp.hideUpScroll(this)},i.prototype.endUpScroll=function(e){null!=e&&(e?this.showNoMore():this.hideUpScroll()),this.isUpScrolling=!1},i.prototype.resetUpScroll=function(e){if(this.optUp&&this.optUp.use){var t=this.optUp.page;this.prePageNum=t.num,this.prePageTime=t.time,t.num=this.startNum,t.time=null,this.isDownScrolling||!1===e||(null==e?(this.removeEmpty(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.num=t.num,this.size=t.size,this.time=t.time,this.optUp.callback&&this.optUp.callback(this)}},i.prototype.setPageNum=function(e){this.optUp.page.num=e-1},i.prototype.setPageSize=function(e){this.optUp.page.size=e},i.prototype.endByPage=function(e,t,i){var o;this.optUp.use&&null!=t&&(o=this.optUp.page.num<t),this.endSuccess(e,o,i)},i.prototype.endBySize=function(e,t,i){var o;if(this.optUp.use&&null!=t){var r=(this.optUp.page.num-1)*this.optUp.page.size+e;o=r<t}this.endSuccess(e,o,i)},i.prototype.endSuccess=function(e,t,i){var o=this;if(o.isDownScrolling&&o.endDownScroll(),o.optUp.use){var r;if(null!=e){var s=o.optUp.page.num,a=o.optUp.page.size;if(1===s&&i&&(o.optUp.page.time=i),e<a||!1===t)if(o.optUp.hasNext=!1,0===e&&1===s)r=!1,o.showEmpty();else{var n=(s-1)*a+e;r=!(n<o.optUp.noMoreSize),o.removeEmpty()}else r=!1,o.optUp.hasNext=!0,o.removeEmpty()}o.endUpScroll(r)}},i.prototype.endErr=function(e){if(this.isDownScrolling){var t=this.optUp.page;t&&this.prePageNum&&(t.num=this.prePageNum,t.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1),this.isScrollBody&&0!==e&&(e||(e=this.optUp.errDistance),this.scrollTo(this.getScrollTop()-e,0)))},i.prototype.showEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!0)},i.prototype.removeEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!1)},i.prototype.showTopBtn=function(){this.topBtnShow||(this.topBtnShow=!0,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!0))},i.prototype.hideTopBtn=function(){this.topBtnShow&&(this.topBtnShow=!1,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!1))},i.prototype.getScrollTop=function(){return this.scrollTop||0},i.prototype.setScrollTop=function(e){this.scrollTop=e},i.prototype.scrollTo=function(e,t){this.myScrollTo&&this.myScrollTo(e,t)},i.prototype.resetScrollTo=function(e){this.myScrollTo=e},i.prototype.getScrollBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},i.prototype.getStep=function(e,t,i,o,r){var s=t-e;if(0!==o&&0!==s){o=o||300,r=r||30;var a=o/r,n=s/a,c=0,u=setInterval((function(){c<a-1?(e+=n,i&&i(e,u),c++):(i&&i(t,u),clearInterval(u))}),r)}else i&&i(t)},i.prototype.getClientHeight=function(e){var t=this.clientHeight||0;return 0===t&&!0!==e&&(t=this.getBodyHeight()),t},i.prototype.setClientHeight=function(e){this.clientHeight=e},i.prototype.getScrollHeight=function(){return this.scrollHeight||0},i.prototype.setScrollHeight=function(e){this.scrollHeight=e},i.prototype.getBodyHeight=function(){return this.bodyHeight||0},i.prototype.setBodyHeight=function(e){this.bodyHeight=e},i.prototype.preventDefault=function(e){e&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()},i.prototype.setBounce=function(e){}}).call(this,i("543d")["default"])},ab5f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"个人资料",headImg:"头像",account:"账号",nickname:"昵称",realName:"真实姓名",sex:"性别",birthday:"生日",password:"密码",paypassword:"支付密码",mobilePhone:"手机",bindMobile:"绑定手机",cancellation:"注销账号",lang:"语言",logout:"退出登录",save:"保存",noset:"未设置",nickPlaceholder:"请输入新昵称",pleaseRealName:"请输入真实姓名",nowPassword:"当前密码",newPassword:"新密码",confirmPassword:"确认新密码",phoneNumber:"手机号",confirmCode:"验证码",confirmCodeInput:"请输入验证码",confirmCodeInputerror:"验证码错误",findanimateCode:"获取动态码",animateCode:"动态码",animateCodeInput:"请输入动态码",modifyNickname:"修改昵称",modifyPassword:"修改密码",bindPhone:"绑定手机",alikeNickname:"与原昵称一致，无需修改",noEmityNickname:"昵称不能为空",updateSuccess:"修改成功",pleaseInputOldPassword:"请输入原始密码",pleaseInputNewPassword:"请输入新密码",passwordLength:"密码长度不能小于6位",alikePassword:"两次密码不一致",samePassword:"新密码不能与原密码相同",surePhoneNumber:"请输入正确的手机号",alikePhone:"与原手机号一致，无需修改",modify:"修改"};t.lang=o},ac1c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},ad25:function(e,t,i){var o={"./en-us/common.js":"16d3","./zh-cn/common.js":"6ec1"};function r(e){var t=s(e);return i(t)}function s(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id="ad25"},ae41:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("66fd")),r=a(i("2f62")),s=a(i("2abe"));function a(e){return e&&e.__esModule?e:{default:e}}o.default.use(r.default);var n=new r.default.Store({state:{siteState:1,showToastValue:{title:"",icon:"",duration:1500},tabbarList:{},cartNumber:0,themeStyle:"",Development:1,addonIsExit:{bundling:0,coupon:0,discount:0,fenxiao:0,gift:0,groupbuy:0,manjian:0,memberconsume:0,memberrecharge:0,memberregister:0,membersignin:0,memberwithdraw:0,pintuan:0,pointexchange:0,seckill:0,store:0,topic:0,bargain:0,membercancel:0},sourceMember:0,authInfo:{},token:null},mutations:{setSiteState:function(e,t){e.siteState=t},setCartNumber:function(e,t){e.cartNumber=t},setThemeStyle:function(e,t){e.themeStyle=t},setAddonIsexit:function(e,t){e.addonIsExit=Object.assign(e.addonIsExit,t)},updateShowToastValue:function(e,t){e.showToastValue=t},setTabbarList:function(e,t){e.tabbarList=t},setToken:function(e,t){e.token=t},setAuthinfo:function(e,t){e.authInfo=t},setSourceMember:function(e,t){e.sourceMember=t}},actions:{getCartNumber:function(){var t=this;if(e.getStorageSync("token"))return new Promise((function(e,i){s.default.sendRequest({url:"/api/cart/count",success:function(i){0==i.code&&(t.commit("setCartNumber",i.data),e(i.data))}})}));this.commit("setCartNumber",0)},getThemeStyle:function(){var t=this;e.getStorageSync("setThemeStyle")&&this.commit("setThemeStyle",e.getStorageSync("setThemeStyle")),s.default.sendRequest({url:"/api/diyview/style",success:function(i){0==i.code&&(t.commit("setThemeStyle",i.data.style_theme),e.setStorageSync("setThemeStyle",i.data.style_theme))}})},getAddonIsexit:function(){var t=this;e.getStorageSync("memberAddonIsExit")&&this.commit("setAddonIsexit",e.getStorageSync("memberAddonIsExit")),s.default.sendRequest({url:"/api/addon/addonisexit",success:function(i){0==i.code&&(e.setStorageSync("memberAddonIsExit",i.data),t.commit("setAddonIsexit",i.data))}})},getTabbarList:function(){var e=this;s.default.sendRequest({url:"/api/diyview/bottomNav",data:{},success:function(t){var i=t.data;i&&i.value.length&&e.commit("setTabbarList",JSON.parse(i.value))}})}}}),c=n;t.default=c}).call(this,i("543d")["default"])},ae6c:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i("a34a")),r=s(i("d5e1"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function n(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function n(e){a(s,o,r,n,c,"next",e)}function c(e){a(s,o,r,n,c,"throw",e)}n(void 0)}))}}var c={data:function(){return{registerConfig:{},indent:"all",customNavTitle:"",memberInfo:{headimg:""},formData:{userHeadImg:"",number:"",nickName:"",sex:"",realName:"",birthday:"",currentPassword:"",newPassword:"",confirmPassword:"",mobile:"",mobileVercode:"",mobileDynacode:"",mobileCodeText:""},memberInfoformData:{userHeadImg:"",number:"",nickName:"",sex:"",realName:"",birthday:"",currentPassword:"",newPassword:"",confirmPassword:"",mobile:"",mobileVercode:"",mobileDynacode:"",mobileCodeText:""},langList:[],langIndex:0,seconds:120,timer:null,isSend:!1,captcha:{id:"",img:""},isIphoneX:!1,items:[{value:"0",name:"未知"},{value:"1",name:"男",checked:"true"},{value:"2",name:"女"}],current:0}},onLoad:function(e){this.customNavTitle=this.$lang("title"),this.formData.mobileCodeText=this.$lang("findanimateCode"),e.back&&(this.back=e.back),this.getCaptcha(),"mobile"==e.action&&(this.indent="mobile",this.customNavTitle=this.$lang("bindPhone")),this.getRegisterConfig(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onShow:function(){this.initLang(),this.getInfo()},onHide:function(){this.seconds=120,this.formData.mobileCodeText="获取动态码",this.isSend=!1,clearInterval(this.timer)},watch:{seconds:function(e){0==e&&(this.seconds=120,this.formData.mobileCodeText="获取动态码",this.isSend=!1,clearInterval(this.timer))}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},methods:{initLang:function(){if(this.langList=this.$langConfig.list(),e.getStorageSync("lang")){for(var t=0;t<this.langList.length;t++)if(this.langList[t].value==e.getStorageSync("lang")){this.langIndex=t;break}}else this.langIndex=0;this.$langConfig.refresh()},getInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code&&(e.indent="all",e.memberInfo=t.data,e.memberInfoformData.userHeadImg=e.memberInfo.headimg,e.memberInfoformData.number=e.memberInfo.username,e.memberInfoformData.nickName=e.memberInfo.nickname,e.memberInfoformData.realName=e.memberInfo.realname?e.memberInfo.realname:"请输入真实姓名",e.memberInfoformData.sex=0==e.memberInfo.sex?"未知":1==e.memberInfo.sex?"男":"女",e.memberInfoformData.birthday=e.memberInfo.birthday?e.$util.timeStampTurnTime(e.memberInfo.birthday,"YYYY-MM-DD"):"请选择生日",e.memberInfoformData.mobile=e.memberInfo.mobile,e.formData.nickName=e.memberInfo.nickname,e.formData.realName=e.memberInfo.realname,e.formData.sex=e.memberInfo.sex,e.formData.birthday=e.memberInfo.birthday?e.$util.timeStampTurnTime(e.memberInfo.birthday,"YYYY-MM-DD"):"请选择生日"),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},modifyInfo:function(t){var i=this,o=this;if("name"==t&&(this.indent=t,this.customNavTitle=this.$lang("modifyNickname")),"password"==t&&(this.indent=t,this.customNavTitle=this.$lang("modifyPassword")),"realName"==t&&(this.indent=t,this.customNavTitle=this.$lang("realName")),"sex"==t&&(this.indent=t,this.customNavTitle=this.$lang("sex")),"birthday"==t&&(this.indent=t,this.customNavTitle=this.$lang("birthday")),"paypassword"==t&&(""==this.memberInfo.mobile?e.showModal({title:"提示",content:"设置支付密码需要先绑定手机号,是否立即绑定?",success:function(e){e.confirm&&(i.indent="mobile",i.getCaptcha(),i.customNavTitle=i.$lang("bindPhone"))}}):this.$util.redirectTo("/otherpages/member/pay_password/pay_password",{back:"/pages/member/info/info"})),"mobile"==t&&(this.indent=t,this.getCaptcha(),this.customNavTitle=this.$lang("bindPhone")),"language"==t){for(var r=[],s=0;s<this.langList.length;s++)r.push(this.langList[s].name);e.showActionSheet({itemList:r,success:function(e){o.langIndex!=e.tapIndex&&o.$langConfig.change(o.langList[e.tapIndex].value)}})}"cancellation"==t&&(this.indent=t,this.customNavTitle=this.$lang("cancellation"),this.getCancelStatus())},getCancelStatus:function(){var e=this;this.$api.sendRequest({url:"/membercancel/api/membercancel/info",success:function(t){t.code>=0&&(t.data?0==t.data.status?e.$util.redirectTo("/otherpages/member/cancelstatus/cancelstatus",{back:"/pages/member/info/info"}):1==t.data.status?e.$util.redirectTo("/otherpages/member/cancelsuccess/cancelsuccess",{back:"/pages/member/info/info"}):e.$util.redirectTo("/otherpages/member/cancelrefuse/cancelrefuse",{back:"/pages/member/info/info"}):e.$util.redirectTo("/otherpages/member/cancellation/cancellation",{back:"/pages/member/info/info"}))}})},NavReturn:function(){"all"==this.indent?this.back?this.$util.redirectTo(this.back,{},"redirectTo"):this.$util.redirectTo("/pages/member/index/index",{},"reLaunch"):(this.indent="all",this.customNavTitle=this.$lang("title"),this.initFormData())},getCaptcha:function(){var e=this;this.$api.sendRequest({url:"/api/captcha/captcha",data:{captcha_id:this.captcha.id},success:function(t){t.code>=0&&(e.captcha=t.data,e.captcha.img=e.captcha.img.replace(/\r\n/g,""))}})},logout:function(){var t=this;0==this.memberInfo.password&&""==this.memberInfo.mobile?e.showModal({icon:"none",title:"提示",content:"退出前请先绑定您的手机号",showCancel:!1}):e.showModal({title:"提示",content:"确定要退出登录吗",success:function(i){i.confirm&&e.removeStorage({key:"token",success:function(i){e.setStorageSync("loginLock",1),e.removeStorageSync("userInfo"),t.$store.dispatch("getCartNumber").then((function(e){})),t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}})}})},headImage:function(){this.$util.redirectTo("/otherpages/member/modify_face/modify_face")},testBinding:function(e){var t=this;return n(o.default.mark((function e(){var i;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkMobile();case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))()},save:function(e){switch(e){case"name":this.modifyNickName();break;case"realName":this.modifyRealName();break;case"sex":this.modifySex();break;case"birthday":this.modifyBirthday();break;case"password":this.modifyPassword();break;case"mobile":this.modifyMobile();break}},modifyNickName:function(){var e=this;if(this.formData.nickName!=this.memberInfo.nickname){var t=[{name:"nickName",checkType:"required",errorMsg:this.$lang("noEmityNickname")}];if(t.length){var i=r.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifynickname",data:{nickname:this.formData.nickName},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn(),e.getInfo()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:r.default.error})}}else this.$util.showToast({title:this.$lang("alikeNickname")})},modifyRealName:function(){var e=this;if(this.formData.realName==this.memberInfo.realname&&this.memberInfo.realname)this.$util.showToast({title:"与原真实姓名一致，无需修改"});else{var t=[{name:"realName",checkType:"required",errorMsg:"真实姓名不能为空"}];if(t.length){var i=r.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifyrealname",data:{realname:this.formData.realName},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn(),e.getInfo()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:r.default.error})}}},radioChange:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].value===e.target.value){this.formData.sex=t;break}},modifySex:function(){var e=this;this.$api.sendRequest({url:"/api/member/modifysex",data:{sex:this.formData.sex},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn(),e.getInfo()):e.$util.showToast({title:t.message})}})},bindDateChange:function(e){this.formData.birthday=e.target.value},getDate:function(e){var t=new Date,i=t.getFullYear(),o=t.getMonth()+1,r=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=2),o=o>9?o:"0"+o,r=r>9?r:"0"+r,"".concat(i,"-").concat(o,"-").concat(r)},modifyBirthday:function(){var e=this;this.$api.sendRequest({url:"/api/member/modifybirthday",data:{birthday:this.$util.timeTurnTimeStamp(this.formData.birthday)},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn(),e.getInfo()):e.$util.showToast({title:t.message})}})},getRegisterConfig:function(){var e=this;this.$api.sendRequest({url:"/api/register/config",success:function(t){t.code>=0&&(e.registerConfig=t.data.value)}})},modifyPassword:function(){var t=this;if(this.memberInfo.password)var i=[{name:"currentPassword",checkType:"required",errorMsg:this.$lang("pleaseInputOldPassword")},{name:"newPassword",checkType:"required",errorMsg:this.$lang("pleaseInputNewPassword")}];else i=[{name:"mobileVercode",checkType:"required",errorMsg:this.$lang("confirmCodeInput")},{name:"mobileDynacode",checkType:"required",errorMsg:this.$lang("animateCodeInput")},{name:"newPassword",checkType:"required",errorMsg:this.$lang("pleaseInputNewPassword")}];var o=this.registerConfig;if(o.pwd_len>0&&i.push({name:"newPassword",checkType:"lengthMin",checkRule:o.pwd_len,errorMsg:"新密码长度不能小于"+o.pwd_len+"位"}),o.pwd_complexity){var s="密码需包含",a="";-1!=o.pwd_complexity.indexOf("number")&&(a+="(?=.*?[0-9])",s+="数字"),-1!=o.pwd_complexity.indexOf("letter")&&(a+="(?=.*?[a-z])",s+="、小写字母"),-1!=o.pwd_complexity.indexOf("upper_case")&&(a+="(?=.*?[A-Z])",s+="、大写字母"),-1!=o.pwd_complexity.indexOf("symbol")&&(a+="(?=.*?[#?!@$%^&*-])",s+="、特殊字符"),i.push({name:"newPassword",checkType:"reg",checkRule:a,errorMsg:s})}var n=r.default.check(this.formData,i);if(n){if(this.formData.currentPassword==this.formData.newPassword)return void this.$util.showToast({title:"新密码不能与原密码相同"});if(this.formData.newPassword!=this.formData.confirmPassword)return void this.$util.showToast({title:"两次密码不一致"});this.$api.sendRequest({url:"/api/member/modifypassword",data:{new_password:this.formData.newPassword,old_password:this.formData.currentPassword,code:this.formData.mobileDynacode,key:e.getStorageSync("password_mobile_key")},success:function(i){0==i.code?(t.$util.showToast({title:t.$lang("updateSuccess")}),t.NavReturn(),t.getInfo(),e.removeStorageSync("password_mobile_key")):t.$util.showToast({title:i.message})}})}else this.$util.showToast({title:r.default.error})},vertifyMobile:function(){var e=[{name:"mobile",checkType:"required",errorMsg:"请输入手机号"},{name:"mobile",checkType:"phoneno",errorMsg:"请输入正确的手机号"}],t=r.default.check(this.formData,e);return!!t||(this.$util.showToast({title:r.default.error}),!1)},checkMobile:function(){var e=this;return n(o.default.mark((function t(){var i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.vertifyMobile()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$api.sendRequest({url:"/api/member/checkmobile",data:{mobile:e.formData.mobile},async:!1});case 4:if(i=t.sent,0==i.code){t.next=8;break}return e.$util.showToast({title:i.message}),t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()},bindMoblieCode:function(){var t=this;return n(o.default.mark((function i(){var s,a;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(120==t.seconds){i.next=2;break}return i.abrupt("return");case 2:s=[{name:"mobile",checkType:"phoneno",errorMsg:t.$lang("surePhoneNumber")},{name:"mobileVercode",checkType:"required",errorMsg:t.$lang("confirmCodeInput")}],a=r.default.check(t.formData,s),a&&!t.isSend?(t.isSend=!0,t.$api.sendRequest({url:"/api/member/bindmobliecode",data:{mobile:t.formData.mobile,captcha_id:t.captcha.id,captcha_code:t.formData.mobileVercode},success:function(i){var o=i.data;o.key?(120==t.seconds&&null==t.timer&&(t.timer=setInterval((function(){t.seconds--,t.formData.mobileCodeText="已发送("+t.seconds+"s)"}),1e3)),e.setStorageSync("mobile_key",o.key)):(t.$util.showToast({title:i.message}),t.isSend=!1)},fail:function(e){t.isSend=!1,t.getCaptcha()}})):t.$util.showToast({title:r.default.error?r.default.error:"请勿重复点击"});case 5:case"end":return i.stop()}}),i)})))()},modifyMobile:function(){var t=this;return n(o.default.mark((function i(){var s,a;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=[{name:"mobile",checkType:"phoneno",errorMsg:t.$lang("surePhoneNumber")},{name:"mobileVercode",checkType:"required",errorMsg:t.$lang("confirmCodeInput")},{name:"mobileDynacode",checkType:"required",errorMsg:t.$lang("animateCodeInput")}],a=r.default.check(t.formData,s),!a){i.next=9;break}if(t.formData.mobile!=t.memberInfo.mobile){i.next=6;break}return t.$util.showToast({title:t.$lang("alikePhone")}),i.abrupt("return");case 6:t.$api.sendRequest({url:"/api/member/modifymobile",data:{mobile:t.formData.mobile,captcha_id:t.captcha.id,captcha_code:t.formData.mobileVercode,code:t.formData.mobileDynacode,key:e.getStorageSync("mobile_key")},success:function(e){0==e.code?(t.$util.showToast({title:t.$lang("updateSuccess")}),t.back?t.$util.redirectTo("/otherpages/member/pay_password/pay_password",{back:t.back},"redirectTo"):(t.NavReturn(),t.getInfo())):t.$util.showToast({title:e.message})},fail:function(e){t.isSend=!1,t.getCaptcha()}}),i.next=10;break;case 9:t.$util.showToast({title:r.default.error});case 10:case"end":return i.stop()}}),i)})))()},passwordMoblieCode:function(){var t=this;120==this.seconds&&(""!=this.formData.mobileVercode?this.isSend?this.$util.showToast({title:"请勿重复点击"}):(this.isSend=!0,this.$api.sendRequest({url:"/api/member/pwdmobliecode",data:{captcha_id:this.captcha.id,captcha_code:this.formData.mobileVercode},success:function(i){var o=i.data;o.key?(120==t.seconds&&null==t.timer&&(t.timer=setInterval((function(){t.seconds--,t.formData.mobileCodeText="已发送("+t.seconds+"s)"}),1e3)),e.setStorageSync("password_mobile_key",o.key)):(t.$util.showToast({title:i.message}),t.isSend=!1)},fail:function(e){t.isSend=!1,t.getCaptcha()}})):this.$util.showToast({title:this.$lang("confirmCodeInput")}))},initFormData:function(){this.formData.currentPassword="",this.formData.newPassword="",this.formData.confirmPassword="",this.formData.mobileVercode="",this.formData.mobileDynacode="",this.formData.mobile=""}}};t.default=c}).call(this,i("543d")["default"])},b03e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"店铺打烊"};t.lang=o},b4de:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={contact:"",person:"",personadd:"","contact-filled":"","person-filled":"","personadd-filled":"",phone:"",email:"",chatbubble:"",chatboxes:"","phone-filled":"","email-filled":"","chatbubble-filled":"","chatboxes-filled":"",weibo:"",weixin:"",pengyouquan:"",chat:"",qq:"",videocam:"",camera:"",mic:"",location:"","mic-filled":"",speech:"","location-filled":"",micoff:"",image:"",map:"",compose:"",trash:"",upload:"",download:"",close:"",redo:"",undo:"",refresh:"",star:"",plus:"",minus:"",circle:"",checkbox:"","close-filled":"",clear:"","refresh-filled":"","star-filled":"","plus-filled":"","minus-filled":"","circle-filled":"","checkbox-filled":"",closeempty:"",refreshempty:"",reload:"",starhalf:"",spinner:"","spinner-cycle":"",search:"",plusempty:"",forward:"",back:"","left-nav":"",checkmarkempty:"",home:"",navigate:"",gear:"",paperplane:"",info:"",help:"",locked:"",more:"",flag:"","home-filled":"","gear-filled":"","info-filled":"","help-filled":"","more-filled":"",settings:"",list:"",bars:"",loop:"",paperclip:"",eye:"",arrowup:"",arrowdown:"",arrowleft:"",arrowright:"",arrowthinup:"",arrowthindown:"",arrowthinleft:"",arrowthinright:"",pulldown:"",closefill:"",sound:"",scan:""};t.default=o},b7e5:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("a34a")),r=a(i("df06")),s=(i("c025"),a(i("7261")));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function a(e){n(s,o,r,a,c,"next",e)}function c(e){n(s,o,r,a,c,"throw",e)}a(void 0)}))}}var u={data:function(){return{id:0,skuId:0,groupId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:"",again_images:[]},pintuanList:[],currentPintuan:{headimg:"",timeMachine:{}},openPopup:!1,memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:null,goodsCircle:!1,timestamp:"",newList:[],evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.id=t.id||0,this.groupId=t.group_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("id")&&(i.id=t.split("-")[1]),-1!=t.indexOf("group_id")&&(i.group_id=t.split("-")[1]),-1!=t.indexOf("source_member")&&e.setStorageSync("source_member",t.split("-")[1])}))}this.getService()},onShow:function(){var t=this;return c(o.default.mark((function i(){return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),t.token=e.getStorageSync("token"),i.next=4,t.getGoodsSkuDetail();case 4:t.modifyGoodsInfo(),""!=t.token&&(t.getCartCount(),t.getMemberId()),t.getEvaluateConfig(),t.getPintuanGroupList();case 8:case"end":return i.stop()}}),i)})))()},onHide:function(){},methods:{goConnect:function(){var t=this;if(e.getStorageSync("token")){var i={siteId:s.default.siteId,skuId:t.goodsSkuDetail.sku_id};return 1==this.kefuConfig.system?(t.$util.redirectTo("/otherpages/chat/room/room",i),!1):void 0}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+t.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var e=this;return c(o.default.mark((function t(){var i,s,a,n,c;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/pintuan/api/goods/detail",async:!1,data:{id:e.id}});case 2:if(i=t.sent,s=i.data,null!=s.goods_sku_detail){if(e.goodsSkuDetail=s.goods_sku_detail,e.skuId=e.goodsSkuDetail.sku_id,e.goodsSkuDetail.group_id=e.groupId,e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),e.goodsSkuDetail.video_url&&(e.switchMedia="video"),e.goodsSkuDetail.sku_images?e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.split(","):e.goodsSkuDetail.sku_images=[],e.goodsSkuDetail.goods_spec_format&&e.goodsSkuDetail.goods_image&&(e.goodsSkuDetail.goods_image=e.goodsSkuDetail.goods_image.split(","),e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.concat(e.goodsSkuDetail.goods_image)),e.goodsSkuDetail.unit=e.goodsSkuDetail.unit||"件",e.goodsSkuDetail.show_price=e.goodsSkuDetail.group_id>0?e.goodsSkuDetail.promotion_price:e.goodsSkuDetail.pintuan_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.goodsSkuDetail.sku_spec_format&&(e.goodsSkuDetail.sku_spec_format=JSON.parse(e.goodsSkuDetail.sku_spec_format)),e.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=e.$util.unique(a,"attr_id"),n=0;n<e.goodsSkuDetail.goods_attr_format.length;n++)for(c=0;c<a.length;c++)e.goodsSkuDetail.goods_attr_format[n].attr_id==a[c].attr_id&&e.goodsSkuDetail.goods_attr_format[n].attr_value_id!=a[c].attr_value_id&&(e.goodsSkuDetail.goods_attr_format[n].attr_value_name+="、"+a[c].attr_value_name);e.goodsSkuDetail.goods_spec_format&&(e.goodsSkuDetail.goods_spec_format=JSON.parse(e.goodsSkuDetail.goods_spec_format)),e.$langConfig.title(e.goodsSkuDetail.goods_name),e.goodsSkuDetail.goods_content&&(e.goodsSkuDetail.goods_content=(0,r.default)(e.goodsSkuDetail.goods_content)),e.contactData={title:e.goodsSkuDetail.sku_name,path:"/promotionpages/pintuan/detail/detail?id="+e.id,img:e.$util.img(e.goodsSkuDetail.sku_image,{size:"big"})},""!=e.token&&e.getWhetherCollection(),e.setWechatShare(),e.$refs.loadingCover&&e.$refs.loadingCover.hide(),e.goodsSyncToGoodsCircle()}else e.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return t.stop()}}),t)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},pintuan:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("pintuan",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/pintuan/detail/detail?id="+this.id)},buyNow:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/pintuan/detail/detail?id="+this.id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),e.goodsEvaluate.again_images&&(e.goodsEvaluate.again_images=e.goodsEvaluate.again_images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/pintuan/detail/detail?id="+this.id)},getCartCount:function(){var e=this;this.$api.sendRequest({url:"/api/cart/count",data:{},success:function(t){e.cartCount=t.data}})},goTopClick:function(){e.pageScrollTo({duration:200,scrollTop:0})},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));t.token,t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.id};this.memberId&&(t.source_member=this.memberId),this.$api.sendRequest({url:"/pintuan/api/goods/poster",data:{page:"/promotionpages/pintuan/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},getPintuanGroupList:function(){var e=this;this.$api.sendRequest({url:"/pintuan/api/pintuangroup/lists",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(e.timestamp=t.timestamp,null!=i&&i.length){e.pintuanList=i;for(var o=0;o<e.pintuanList.length;o++)e.pintuanList[o]["end_time"]>t.timestamp?(e.pintuanList[o].timeMachine=e.$util.countDown(e.pintuanList[o]["end_time"]-t.timestamp),e.pintuanList[o].currentTime=t.timestamp):e.pintuanList[o].timeMachine=null;e.newList=e.pintuanList.filter((function(e){return e.end_time>t.timestamp}))}}})},openPinTuan:function(e,t,i,o){var r=this;this.openPopup=!0,this.currentPintuan={groupId:e,pintuan_num:t,timeMachine:this.$util.countDown(i),headimg:o},this.$refs.pintuanPopup.open((function(){r.goodsSkuDetail.group_id=0,r.openPopup=!1}))},closePinTuanPopup:function(){this.$refs.pintuanPopup.close()},joinPintuan:function(){this.closePinTuanPopup(),this.goodsSkuDetail.group_id=this.currentPintuan.groupId,this.pintuan()},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},pintuanImageError:function(e){this.pintuanList[e].headimg=this.$util.getDefaultImage().default_headimg,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data,e.setWechatShare())}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,r.default)(t.data.content))}}})},setWechatShare:function(){},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;wx.openBusinessView&&wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/pintuan/detail/detail?id="+this.id+"&group_id="+this.groupId;this.memberId&&(t+="&source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))}}};t.default=u}).call(this,i("543d")["default"])},b821:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"会员中心",login:"立即登录",loginTpis:"登录体验更多功能",memberLevel:"会员等级",moreAuthority:"更多权限",allOrders:"全部订单",seeAllOrders:"查看全部订单",waitPay:"待付款",readyDelivery:"待发货",waitDelivery:"待收货",waitEvaluate:"待评价",refunding:"退款",sign:"签到",personInfo:"个人资料",receivingAddress:"收货地址",accountList:"账户列表",couponList:"优惠券",mySpellList:"我的拼单",myBargain:"我的砍价",virtualCode:"虚拟码",winningRecord:"我的礼品",myCollection:"我的关注",myTracks:"我的足迹",pintuanOrder:"拼团订单",yushouOrder:"预售订单",verification:"核销台",message:"我的消息",exchangeOrder:"积分兑换",balance:"余额",point:"积分",coupon:"优惠券"};t.lang=o},bbd6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},bbdd:function(e,t,i){var o=function(){return this||"object"===typeof self&&self}()||Function("return this")(),r=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,s=r&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=i("96cf"),r)o.regeneratorRuntime=s;else try{delete o.regeneratorRuntime}catch(a){o.regeneratorRuntime=void 0}},bf59:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"核销明细"};t.lang=o},bf96:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},c025:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Weixin=void 0;var o=function(){var e=i("0768");this.init=function(t){e.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseWXPay","openAddress","updateAppMessageShareData","updateTimelineShareData","scanQRCode"]})},this.pay=function(t,i){e.ready((function(){e.chooseWXPay({timestamp:t.timestamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(e){"function"==typeof i&&i(e)}})}))},this.openAddress=function(t){e.ready((function(){e.openAddress({success:function(e){"function"==typeof t&&t(e)},fail:function(e){alert(JSON.stringify(e))}})}))},this.setShareData=function(t,i){e.ready((function(){e.updateAppMessageShareData({title:t.title||"",desc:t.desc||"",link:t.link||"",imgUrl:t.imgUrl||"",success:function(){"function"==typeof i&&i(res)}}),e.updateTimelineShareData({title:t.title||"",link:t.link||"",imgUrl:t.imgUrl||"",success:function(){"function"==typeof i&&i(res)}})}))},this.scanQRCode=function(t){e.ready((function(){e.scanQRCode({needResult:1,scanType:["qrCode"],success:function(e){"function"==typeof t&&t(e)}})}))}};t.Weixin=o},c032:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"公告列表",emptyText:"当前暂无更多信息",contentTitle:"升级公告"};t.lang=o},c063:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("886c"));function r(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{rule:[],hasSign:0,signDaysSeries:0,timestamp:"",time:"",MonthData:[],signList:[],back:"",redirect:"",successTip:{},startDate:null,endDate:null,isActive:"",signState:1}},methods:{getSignState:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/getSignStatus",success:function(t){0==t.code&&(e.signState=t.data.is_use)}})},itemActive:function(e,t){t||(this.isActive=e)},navigateBack:function(){""!=this.back?this.$util.redirectTo(this.back,{},this.redirect):this.$util.redirectTo("/pages/member/index/index",{},"reLaunch")},getRule:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/award",success:function(t){0==t.code&&(e.rule=t.data)}})},getSignInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){e.signDaysSeries=t.data.sign_days_series,e.timestamp=t.timestamp,e.time=e.$util.timeStampTurnTime(e.timestamp).slice(0,10),e.getMonthInfo()}})},getMonthInfo:function(){var e=new o.default({selected:[],startDate:null,endDate:null,range:!1});e.setDate(this.time),this.getSignList(e)},getIsSign:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/issign",success:function(t){0==t.code&&(e.hasSign=t.data,e.getSignInfo())}})},getSignList:function(e){var t=this;this.$api.sendRequest({url:"/api/membersignin/getsignrecords",success:function(i){0==i.code&&(i.data.forEach((function(i,o){var r=t.$util.timeStampTurnTime(i.create_time),s=r.split(" ")[0],a=s.split("-")[1],n=s.split("-")[2];e.canlender.forEach((function(t,i){if(t.disable){if(n==t.date&&parseInt(a)==parseInt(e.date.month)-1)return void(t.issign=!0)}else if(s==t.fullDate)return void(t.issign=!0)}))})),t.MonthData=e.weeks,t.$refs.loadingCover&&t.$refs.loadingCover.hide())}})},getTimeList:function(e,t,i){new Date(e);var o=[],r=864e5;if(1==i)if(t>4)for(var s=-3;s<4;s++){var a=new Date(e+r*s),n=a.getMonth()+1,c=a.getDate(),u=!1;s<=0&&(u=!0);var l={day:n+"."+c,isSign:u};o.push(l)}else for(var d=-1*t+1;d<8+-1*t;d++){var h=new Date(e+r*d),f=h.getDate(),p=h.getMonth()+1,g=!1;d<=0&&(g=!0);var m={day:p+"."+f,isSign:g};o.push(m)}else if(t>4)for(var v=-3;v<4;v++){var _=new Date(e+r*v),y=_.getMonth()+1,b=_.getDate(),D=!1;v<0&&(D=!0),0==v&&(D=i);var S={day:y+"."+b,isSign:D};o.push(S)}else for(var w=-1*t;w<7+-1*t;w++){var k=new Date(e+r*w),C=k.getDate(),$=k.getMonth()+1,P=!1;w<0&&(P=!0);var T={day:$+"."+C,isSign:P};o.push(T)}this.signList=o},sign:function(){var e=this;0==this.signState&&this.$util.showToast({title:"签到未开启"}),this.hasSign||1!=this.signState||this.$api.sendRequest({url:"/api/membersignin/signin",success:function(t){0==t.code?(e.successTip=t.data,e.$refs.uniPopup.open(),e.hasSign=1,e.signDaysSeries=e.signDaysSeries+1,e.getMonthInfo()):e.$util.showToast({title:t.message})}})},close:function(){this.$refs.uniPopup.close()},updateTimeList:function(){var e=new Date(1e3*this.timestamp),t=e.getDate();this.signDaysSeries>0&&(this.hasSign?(this.startDate=t-this.signDaysSeries+1>0?t-this.signDaysSeries+1:1,this.endDate=t):(this.startDate=t-this.signDaysSeries>0?t-this.signDaysSeries:1,this.endDate=t-1))}}};t.default=s},c2fc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Zhi:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarTerm:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["日","一","二","三","四","五","六","七","八","九","十"],nStr2:["初","十","廿","卅"],nStr3:["正","二","三","四","五","六","七","八","九","十","冬","腊"],lYearDays:function(e){var t,i=348;for(t=32768;t>8;t>>=1)i+=this.lunarInfo[e-1900]&t?1:0;return i+this.leapDays(e)},leapMonth:function(e){return 15&this.lunarInfo[e-1900]},leapDays:function(e){return this.leapMonth(e)?65536&this.lunarInfo[e-1900]?30:29:0},monthDays:function(e,t){return t>12||t<1?-1:this.lunarInfo[e-1900]&65536>>t?30:29},solarDays:function(e,t){if(t>12||t<1)return-1;var i=t-1;return 1==i?e%4==0&&e%100!=0||e%400==0?29:28:this.solarMonth[i]},toGanZhiYear:function(e){var t=(e-3)%10,i=(e-3)%12;return 0==t&&(t=10),0==i&&(i=12),this.Gan[t-1]+this.Zhi[i-1]},toAstro:function(e,t){var i="魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯",o=[20,19,21,21,21,22,23,23,23,23,22,22];return i.substr(2*e-(t<o[e-1]?2:0),2)+"座"},toGanZhi:function(e){return this.Gan[e%10]+this.Zhi[e%12]},getTerm:function(e,t){if(e<1900||e>2100)return-1;if(t<1||t>24)return-1;var i=this.sTermInfo[e-1900],o=[parseInt("0x"+i.substr(0,5)).toString(),parseInt("0x"+i.substr(5,5)).toString(),parseInt("0x"+i.substr(10,5)).toString(),parseInt("0x"+i.substr(15,5)).toString(),parseInt("0x"+i.substr(20,5)).toString(),parseInt("0x"+i.substr(25,5)).toString()],r=[o[0].substr(0,1),o[0].substr(1,2),o[0].substr(3,1),o[0].substr(4,2),o[1].substr(0,1),o[1].substr(1,2),o[1].substr(3,1),o[1].substr(4,2),o[2].substr(0,1),o[2].substr(1,2),o[2].substr(3,1),o[2].substr(4,2),o[3].substr(0,1),o[3].substr(1,2),o[3].substr(3,1),o[3].substr(4,2),o[4].substr(0,1),o[4].substr(1,2),o[4].substr(3,1),o[4].substr(4,2),o[5].substr(0,1),o[5].substr(1,2),o[5].substr(3,1),o[5].substr(4,2)];return parseInt(r[t-1])},toChinaMonth:function(e){if(e>12||e<1)return-1;var t=this.nStr3[e-1];return t+="月",t},toChinaDay:function(e){var t;switch(e){case 10:t="初十";break;case 20:t="二十";break;case 30:t="三十";break;default:t=this.nStr2[Math.floor(e/10)],t+=this.nStr1[e%10]}return t},getAnimal:function(e){return this.Animals[(e-4)%12]},solar2lunar:function(e,t,i){if(e<1900||e>2100)return-1;if(1900==e&&1==t&&i<31)return-1;if(e)o=new Date(e,parseInt(t)-1,i);else var o=new Date;var r,s=0,a=0,n=(e=o.getFullYear(),t=o.getMonth()+1,i=o.getDate(),(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())-Date.UTC(1900,0,31))/864e5);for(r=1900;r<2101&&n>0;r++)a=this.lYearDays(r),n-=a;n<0&&(n+=a,r--);var c=new Date,u=!1;c.getFullYear()==e&&c.getMonth()+1==t&&c.getDate()==i&&(u=!0);var l=o.getDay(),d=this.nStr1[l];0==l&&(l=7);var h=r,f=(s=this.leapMonth(r),!1);for(r=1;r<13&&n>0;r++)s>0&&r==s+1&&0==f?(--r,f=!0,a=this.leapDays(h)):a=this.monthDays(h,r),1==f&&r==s+1&&(f=!1),n-=a;0==n&&s>0&&r==s+1&&(f?f=!1:(f=!0,--r)),n<0&&(n+=a,--r);var p=r,g=n+1,m=t-1,v=this.toGanZhiYear(h),_=this.getTerm(e,2*t-1),y=this.getTerm(e,2*t),b=this.toGanZhi(12*(e-1900)+t+11);i>=_&&(b=this.toGanZhi(12*(e-1900)+t+12));var D=!1,S=null;_==i&&(D=!0,S=this.solarTerm[2*t-2]),y==i&&(D=!0,S=this.solarTerm[2*t-1]);var w=Date.UTC(e,m,1,0,0,0,0)/864e5+25567+10,k=this.toGanZhi(w+i-1),C=this.toAstro(t,i);return{lYear:h,lMonth:p,lDay:g,Animal:this.getAnimal(h),IMonthCn:(f?"闰":"")+this.toChinaMonth(p),IDayCn:this.toChinaDay(g),cYear:e,cMonth:t,cDay:i,gzYear:v,gzMonth:b,gzDay:k,isToday:u,isLeap:f,nWeek:l,ncWeek:"星期"+d,isTerm:D,Term:S,astro:C}},lunar2solar:function(e,t,i,o){o=!!o;var r=this.leapMonth(e);this.leapDays(e);if(o&&r!=t)return-1;if(2100==e&&12==t&&i>1||1900==e&&1==t&&i<31)return-1;var s=this.monthDays(e,t),a=s;if(o&&(a=this.leapDays(e,t)),e<1900||e>2100||i>a)return-1;for(var n=0,c=1900;c<e;c++)n+=this.lYearDays(c);var u=0,l=!1;for(c=1;c<t;c++)u=this.leapMonth(e),l||u<=c&&u>0&&(n+=this.leapDays(e),l=!0),n+=this.monthDays(e,c);o&&(n+=s);var d=Date.UTC(1900,1,30,0,0,0),h=new Date(864e5*(n+i-31)+d),f=h.getUTCFullYear(),p=h.getUTCMonth()+1,g=h.getUTCDate();return this.solar2lunar(f,p,g)}},r=o;t.default=r},c677:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},c71c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"提现记录"};t.lang=o},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(o){"object"===typeof window&&(i=window)}e.exports=i},c8f2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"充值详情"};t.lang=o},c94a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,is_point:1,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,manjian:[],storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/pages/order/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("orderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.is_point=1,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="";var i=this.orderPaymentData;if(void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var s=r.name,a=r.title;"store"==s&&i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else s=o[0].name,a=o[0].title;this.orderCreateData.delivery.delivery_type=s,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(void 0!=i.shop_goods_list.coupon_list&&void 0!=i.shop_goods_list.coupon_list[0]){var n=i.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=n[0].coupon_id,this.orderCreateData.coupon.coupon_money=n[0].money}if(void 0!=i.shop_goods_list.promotion&&void 0!=i.shop_goods_list.promotion.manjian&&(this.manjian=i.shop_goods_list.promotion.manjian),this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{for(var u=this.orderPaymentData.shop_goods_list.local_config.info.time_week,l=!1,d=0;d<u.length;d++)if(d+1<u.length){var h=u[d+1]-u[d];if(h>1){l=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(l){var p=[];for(d=0;d<u.length;d++)p.push(f[u[d]]);this.deliveryWeek=p.join("、")}else this.deliveryWeek=f[u[0]]+"至"+f[u[u.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var g=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=g+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),b=y.getHours(),D=y.getMinutes(),S=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),C=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(S==k&&w==C||((b<S||b==S&&D<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==S.toString().length?"0"+S:S)+":"+(1==w.toString().length?"0"+w:w)),(b>k||b==k&&D>C)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.orderPaymentData.point_money=t.data.point_money,e.orderPaymentData.shop_goods_list.max_usable_point=t.data.shop_goods_list.max_usable_point,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),"store"==this.orderCreateData.delivery.delivery_type?o.member_address=JSON.stringify(this.member_address):o.member_address=JSON.stringify(o.member_address),this.$api.sendRequest({url:"/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?e.removeStorage({key:"orderCreateData",success:function(){0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(t.data)}}):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message})),i.getCartNumber()},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},usePoint:function(){this.orderCreateData.is_point?this.orderCreateData.is_point=0:this.orderCreateData.is_point=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},getCartNumber:function(){var t=this;e.getStorageSync("token")&&this.$api.sendRequest({url:"/api/cart/count",success:function(e){t.$store.dispatch("getCartNumber")}})},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&this.$refs.choosePaymentPopup.open()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)},pointDeduct:function(){if(this.orderPaymentData.shop_goods_list.max_usable_point>0&&void 0!=this.orderPaymentData.shop_goods_list.point_cash_config){var e=this.orderPaymentData.shop_goods_list.max_usable_point,t=this.orderPaymentData.shop_goods_list.point_cash_config;return parseFloat(e*(1/t.cash_rate)).toFixed(2)}return"0.00"}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){e[i];"manjian"==i&&(t+="满减送　")})),t}}};t.default=i}).call(this,i("543d")["default"])},ccd8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={computed:{Development:function(){return this.$store.state.Development},themeStyleScore:function(){return this.$store.state.themeStyle},themeStyle:function(){return"theme-"+this.$store.state.themeStyle},addonIsExit:function(){return this.$store.state.addonIsExit},showToastValue:function(){return this.$store.state.showToastValue}}};t.default=o},cd64:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=["zh-cn","en-us"],r=e.getStorageSync("lang")||"zh-cn",s={langList:["zh-cn","en-us"],lang:function(e){var t=getCurrentPages()[getCurrentPages().length-1];if(t){var o,s="";try{var a=i("ad25")("./"+r+"/common.js").lang,n=t.route.split("/");o=n.slice(1,n.length-1);var c=i("a71f")("./"+r+"/"+o.join("/")+".js").lang;for(var u in c)a[u]=c[u];var l=e.split(".");if(l.length>1)for(var d in l){var h=parseInt(d)+1;h<l.length&&(s=a[l[d]][l[h]])}else s=a[e]}catch(p){s=-1!=e.indexOf("common.")||-1!=e.indexOf("tabBar.")?a[e]:e}if(arguments.length>1)for(var f=1;f<arguments.length;f++)s=s.replace("{"+(f-1)+"}",arguments[f]);return(void 0==s||"title"==s&&"title"==e)&&(s=""),s}},change:function(t){var i=getCurrentPages()[getCurrentPages().length-1];i&&(e.setStorageSync("lang",t),r=e.getStorageSync("lang")||"zh-cn",this.refresh(),e.reLaunch({url:"/pages/member/index/index"}))},refresh:function(){var t=getCurrentPages()[getCurrentPages().length-1];t&&(this.title(this.lang("title")),e.setTabBarItem({index:0,text:this.lang("tabBar.home")}),e.setTabBarItem({index:1,text:this.lang("tabBar.category")}),e.setTabBarItem({index:2,text:this.lang("tabBar.cart")}),e.setTabBarItem({index:3,text:this.lang("tabBar.member")}))},title:function(t){t&&e.setNavigationBarTitle({title:t})},list:function(){var e=[];try{for(var t=0;t<o.length;t++){var r=i("ad25")("./"+o[t]+"/common.js").lang;e.push({name:r.common.name,value:o[t]})}}catch(s){}return e}};t.default=s}).call(this,i("543d")["default"])},d057:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},d112:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"直播"};t.lang=o},d175:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"帮助详情"};t.lang=o},d377:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品评价"};t.lang=o},d5e1:function(e,t){e.exports={error:"",check:function(e,t){for(var i=0;i<t.length;i++){if(!t[i].checkType)return!0;if(!t[i].name)return!0;if(!t[i].errorMsg)return!0;if(!e[t[i].name])return this.error=t[i].errorMsg,!1;switch(t[i].checkType){case"custom":if("function"==typeof t[i].validate&&!t[i].validate(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"required":var o=new RegExp("/[S]+/");if(o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"string":o=new RegExp("^.{"+t[i].checkRule+"}$");if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"int":o=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[i].checkRule+"}$");if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[i].name]))return this.error=t[i].errorMsg,!1;var r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"betweenD":o=/^-?[1-9][0-9]?$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"betweenF":o=/^-?[0-9][0-9]?.+[0-9]+$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"same":if(e[t[i].name]!=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notsame":if(e[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"email":o=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phoneno":o=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"zipcode":o=/^[0-9]{6}$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"reg":o=new RegExp(t[i].checkRule);if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"in":if(-1==t[i].checkRule.indexOf(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"notnull":if(0==e[t[i].name]||void 0==e[t[i].name]||null==e[t[i].name]||e[t[i].name].length<1)return this.error=t[i].errorMsg,!1;break;case"lengthMin":if(e[t[i].name].length<t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"lengthMax":if(e[t[i].name].length>t[i].checkRule)return this.error=t[i].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}},da1a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},bunding_info:{bl_name:""},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},member_address:{mobile:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/combo/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("comboOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o));var r=e.getStorageSync("store");r&&(this.orderCreateData.default_store_id=r.store_id),this.$api.sendRequest({url:"/bundling/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="";var i=this.orderPaymentData;if(void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var s=r.name,a=r.title;"store"==s&&i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else s=o[0].name,a=o[0].title;this.orderCreateData.delivery.delivery_type=s,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(void 0!=i.shop_goods_list.coupon_list&&void 0!=i.shop_goods_list.coupon_list[0]){var n=i.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=n[0].coupon_id,this.orderCreateData.coupon.coupon_money=n[0].money}if(this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0)if(7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length)this.deliveryWeek="全天";else{for(var u=this.orderPaymentData.shop_goods_list.local_config.info.time_week,l=!1,d=0;d<u.length;d++)if(d+1<u.length){var h=u[d+1]-u[d];if(h>1){l=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(l){var p=[];for(d=0;d<u.length;d++)p.push(f[u[d]]);this.deliveryWeek=p.join("、")}else this.deliveryWeek=f[u[0]]+"至"+f[u[u.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var g=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=g+":"+m;var v=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(v);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var y=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),b=y.getHours(),D=y.getMinutes(),S=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),k=parseInt(this.timeInfo.end_time.split(":")[0]),C=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(S==k&&w==C||((b<S||b==S&&D<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==S.toString().length?"0"+S:S)+":"+(1==w.toString().length?"0"+w:w)),(b>k||b==k&&D>C)&&(this.canLocalDelicery=!1)))}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/bundling/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),"store"==this.orderCreateData.delivery.delivery_type?o.member_address=JSON.stringify(this.member_address):o.member_address=JSON.stringify(o.member_address),this.$api.sendRequest({url:"/bundling/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?e.removeStorage({key:"comboOrderCreateData",success:function(){0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(t.data)}}):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=s||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),s=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<s||t==o&&i>r||t==o&&i>=r&&t<s))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var n=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){n=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!n)return!1}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&this.$refs.choosePaymentPopup.open()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)},promotionMoney:function(){return this.orderPaymentData.bunding_info.goods_money-this.orderPaymentData.bunding_info.bl_price}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=i}).call(this,i("543d")["default"])},dada:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{showTop:!1,scrollTop:0,oldLocation:0}},methods:{scrollToTopNative:function(){e.pageScrollTo({duration:200,scrollTop:0})}},onReachBottom:function(){this.$refs.goodrecommend&&this.$refs.goodrecommend.getLikeList(10)},onPageScroll:function(e){this.oldLocation=e.scrollTop,e.scrollTop>400?this.showTop=!0:this.showTop=!1}};t.default=i}).call(this,i("543d")["default"])},dc18:function(e,t,i){(function(t){var o,r=i("6eb1"),s=r.blankChar,a=i("2de2"),n=t.getSystemInfoSync().windowWidth;function c(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.attrs={},this.CssHandler=new a(i.tagStyle,n),this.data=e,this.domain=i.domain,this.DOM=[],this.i=this.start=this.audioNum=this.imgNum=this.videoNum=0,i.prot=(this.domain||"").includes("://")?this.domain.split("://")[0]:"http",this.options=i,this.state=this.Text,this.STACK=[],this.bubble=function(){for(var e,i=t.STACK.length;e=t.STACK[--i];){if(r.richOnlyTags[e.name])return"table"!=e.name||Object.hasOwnProperty.call(e,"c")||(e.c=1),!1;e.c=1}return!0},this.decode=function(e,t){var i,o,s=-1;while(1){if(-1==(s=e.indexOf("&",s+1)))break;if(-1==(i=e.indexOf(";",s+2)))break;"#"==e[s+1]?(o=parseInt(("x"==e[s+2]?"0":"")+e.substring(s+2,i)),isNaN(o)||(e=e.substr(0,s)+String.fromCharCode(o)+e.substr(i+1))):(o=e.substring(s+1,i),(r.entities[o]||o==t)&&(e=e.substr(0,s)+(r.entities[o]||"&")+e.substr(i+1)))}return e},this.getUrl=function(e){return"/"==e[0]?"/"==e[1]?e=t.options.prot+":"+e:t.domain&&(e=t.domain+e):t.domain&&0!=e.indexOf("data:")&&!e.includes("://")&&(e=t.domain+"/"+e),e},this.isClose=function(){return">"==t.data[t.i]||"/"==t.data[t.i]&&">"==t.data[t.i+1]},this.section=function(){return t.data.substring(t.start,t.i)},this.parent=function(){return t.STACK[t.STACK.length-1]},this.siblings=function(){return t.STACK.length?t.parent().children:t.DOM}}c.prototype.parse=function(){o&&(this.data=o.parseEmoji(this.data));for(var e;e=this.data[this.i];this.i++)this.state(e);this.state==this.Text&&this.setText();while(this.STACK.length)this.popNode(this.STACK.pop());return this.DOM},c.prototype.setAttr=function(){var e=this.attrName.toLowerCase(),t=this.attrVal;r.boolAttrs[e]?this.attrs[e]="T":t&&("src"==e||"data-src"==e&&!this.attrs.src?this.attrs.src=this.getUrl(this.decode(t,"amp")):"href"==e||"style"==e?this.attrs[e]=this.decode(t,"amp"):"data-"!=e.substr(0,5)&&(this.attrs[e]=t)),this.attrVal="";while(s[this.data[this.i]])this.i++;this.isClose()?this.setNode():(this.start=this.i,this.state=this.AttrName)},c.prototype.setText=function(){var e,t=this.section();if(t)if(t=r.onText&&r.onText(t,(function(){return e=!0}))||t,e){this.data=this.data.substr(0,this.start)+t+this.data.substr(this.i);var i=this.start+t.length;for(this.i=this.start;this.i<i;this.i++)this.state(this.data[this.i])}else{if(!this.pre){for(var o,a,n=[],c=t.length;a=t[--c];)s[a]?(" "!=n[0]&&n.unshift(" "),"\n"==a&&void 0==o&&(o=0)):(n.unshift(a),o||(o=1));if(0==o)return;t=n.join("")}this.siblings().push({type:"text",text:this.decode(t)})}},c.prototype.setNode=function(){var e={name:this.tagName.toLowerCase(),attrs:this.attrs},t=r.selfClosingTags[e.name];if(this.options.nodes.length&&(e.type="node"),this.attrs={},r.ignoreTags[e.name])if(t)if("source"==e.name){var i=this.parent();i&&("video"==i.name||"audio"==i.name)&&e.attrs.src&&i.attrs.source.push(e.attrs.src)}else"base"!=e.name||this.domain||(this.domain=e.attrs.href);else this.remove(e);else{var o=e.attrs,a=this.CssHandler.match(e.name,o,e)+(o.style||""),c={};switch(o.id&&(1&this.options.compress?o.id=void 0:this.options.useAnchor&&this.bubble()),2&this.options.compress&&o.class&&(o.class=void 0),e.name){case"a":case"ad":this.bubble();break;case"font":if(o.color&&(c["color"]=o.color,o.color=void 0),o.face&&(c["font-family"]=o.face,o.face=void 0),o.size){var u=parseInt(o.size);u<1?u=1:u>7&&(u=7);var l=["xx-small","x-small","small","medium","large","x-large","xx-large"];c["font-size"]=l[u-1],o.size=void 0}break;case"embed":var d=e.attrs.src||"",h=e.attrs.type||"";if(h.includes("video")||d.includes(".mp4")||d.includes(".3gp")||d.includes(".m3u8"))e.name="video";else{if(!(h.includes("audio")||d.includes(".m4a")||d.includes(".wav")||d.includes(".mp3")||d.includes(".aac")))break;e.name="audio"}e.attrs.autostart&&(e.attrs.autoplay="T"),e.attrs.controls="T";case"video":case"audio":o.id?this["".concat(e.name,"Num")]++:o.id=e.name+ ++this["".concat(e.name,"Num")],"video"==e.name&&(this.videoNum>3&&(e.lazyLoad=1),o.width&&(c.width=parseFloat(o.width)+(o.width.includes("%")?"%":"px"),o.width=void 0),o.height&&(c.height=parseFloat(o.height)+(o.height.includes("%")?"%":"px"),o.height=void 0)),o.controls||o.autoplay||(o.controls="T"),o.source=[],o.src&&(o.source.push(o.src),o.src=void 0),this.bubble();break;case"td":case"th":if(o.colspan||o.rowspan)for(var f,p=this.STACK.length;f=this.STACK[--p];)if("table"==f.name){f.c=void 0;break}}o.align&&(c["text-align"]=o.align,o.align=void 0);var g,m=a.split(";");a="";for(var v=0,_=m.length;v<_;v++){var y=m[v].split(":");if(!(y.length<2)){var b=y[0].trim().toLowerCase(),D=y.slice(1).join(":").trim();"-"==D[0]||D.includes("safe")?a+=";".concat(b,":").concat(D):c[b]&&!D.includes("import")&&c[b].includes("import")||(c[b]=D)}}if("img"==e.name)o.src&&!o.ignore&&(this.bubble()?o.i=(this.imgNum++).toString():o.ignore="T"),o.ignore&&(a+=";-webkit-touch-callout:none",c["max-width"]="100%"),c.width?g=c.width:o.width&&(g=o.width.includes("%")?o.width:parseFloat(o.width)+"px"),g&&(c.width=g,o.width="100%",parseInt(g)>n&&(c.height="",o.height&&(o.height=void 0))),c.height?(o.height=c.height,c.height=""):o.height&&!o.height.includes("%")&&(o.height=parseFloat(o.height)+"px");for(var S in c){var w=c[S];if(w){if((S.includes("flex")||"order"==S||"self-align"==S)&&(e.c=1),w.includes("url")){var k=w.indexOf("(");if(-1!=k++){while('"'==w[k]||"'"==w[k]||s[w[k]])k++;w=w.substr(0,k)+this.getUrl(w.substr(k))}}else w.includes("rpx")?w=w.replace(/[0-9.]+\s*rpx/g,(function(e){return parseFloat(e)*n/750+"px"})):"white-space"==S&&w.includes("pre")&&!t&&(this.pre=e.pre=!0);a+=";".concat(S,":").concat(w)}}a=a.substr(1),a&&(o.style=a),t?r.filter&&0==r.filter(e,this)||this.siblings().push(e):(e.children=[],"pre"==e.name&&r.highlight&&(this.remove(e),this.pre=e.pre=!0),this.siblings().push(e),this.STACK.push(e))}"/"==this.data[this.i]&&this.i++,this.start=this.i+1,this.state=this.Text},c.prototype.remove=function(e){var t=this,i=e.name,o=this.i,a=function(){var i=t.data.substring(o,t.i+1);e.attrs.xmlns||(i=' xmlns="http://www.w3.org/2000/svg"'+i);var r=o;while("<"!=t.data[o])o--;i=t.data.substring(o,r).replace("viewbox","viewBox")+i;var s=t.parent();"100%"==e.attrs.width&&s&&(s.attrs.style||"").includes("inline")&&(s.attrs.style="width:300px;max-width:100%;"+s.attrs.style),t.siblings().push({name:"img",attrs:{src:"data:image/svg+xml;utf8,"+i.replace(/#/g,"%23"),style:(/vertical[^;]+/.exec(e.attrs.style)||[]).shift(),ignore:"T"}})};if("svg"==e.name&&"/"==this.data[o])return a(this.i++);while(1){if(-1==(this.i=this.data.indexOf("</",this.i+1)))return void(this.i="pre"==i||"svg"==i?o:this.data.length);this.start=this.i+=2;while(!s[this.data[this.i]]&&!this.isClose())this.i++;if(this.section().toLowerCase()==i)return"pre"==i?(this.data=this.data.substr(0,o+1)+r.highlight(this.data.substring(o+1,this.i-5),e.attrs)+this.data.substr(this.i-5),this.i=o):("style"==i?this.CssHandler.getStyle(this.data.substring(o+1,this.i-7)):"title"==i&&(this.DOM.title=this.data.substring(o+1,this.i-7)),-1==(this.i=this.data.indexOf(">",this.i))&&(this.i=this.data.length),void("svg"==i&&a()))}},c.prototype.popNode=function(e){if(e.pre){e.pre=this.pre=void 0;for(var t=this.STACK.length;t--;)this.STACK[t].pre&&(this.pre=!0)}var i=this.siblings(),o=i.length,s=e.children;if("head"==e.name||r.filter&&0==r.filter(e,this))return i.pop();var a=e.attrs;if(r.blockTags[e.name]?e.name="div":r.trustTags[e.name]||(e.name="span"),e.c&&("ul"==e.name||"ol"==e.name))if((e.attrs.style||"").includes("list-style:none"))for(var n,c=0;n=s[c++];)"li"==n.name&&(n.name="div");else if("ul"==e.name){for(var u=1,l=this.STACK.length;l--;)"ul"==this.STACK[l].name&&u++;if(1!=u)for(var d=s.length;d--;)s[d].floor=u}else for(var h,f=0,p=1;h=s[f++];)"li"==h.name&&(h.type="ol",h.num=function(e,t){if("a"==t)return String.fromCharCode(97+(e-1)%26);if("A"==t)return String.fromCharCode(65+(e-1)%26);if("i"==t||"I"==t){e=(e-1)%99+1;var i=["I","II","III","IV","V","VI","VII","VIII","IX"],o=["X","XX","XXX","XL","L","LX","LXX","LXXX","XC"],r=(o[Math.floor(e/10)-1]||"")+(i[e%10-1]||"");return"i"==t?r.toLowerCase():r}return e}(p++,a.type)+".");if("table"==e.name){var g=a.cellpadding,m=a.cellspacing,v=a.border;if(e.c&&(this.bubble(),a.style=(a.style||"")+";display:table",g||(g=2),m||(m=2)),v&&(a.style="border:".concat(v,"px solid gray;").concat(a.style||"")),m&&(a.style="border-spacing:".concat(m,"px;").concat(a.style||"")),(v||g||e.c)&&function t(i){for(var o,r=0;o=i[r];r++)if("text"!=o.type){var s=o.attrs.style||"";e.c&&"t"==o.name[0]&&(o.c=1,s+=";display:table-"+("th"==o.name||"td"==o.name?"cell":"tr"==o.name?"row":"row-group")),"th"==o.name||"td"==o.name?(v&&(s="border:".concat(v,"px solid gray;").concat(s)),g&&(s="padding:".concat(g,"px;").concat(s))):t(o.children||[]),s&&(o.attrs.style=s)}}(s),this.options.autoscroll){var _=Object.assign({},e);e.name="div",e.attrs={style:"overflow:scroll"},e.children=[_]}}this.CssHandler.pop&&this.CssHandler.pop(e),"div"!=e.name||Object.keys(a).length||1!=s.length||"div"!=s[0].name||(i[o-1]=s[0])},c.prototype.Text=function(e){if("<"==e){var t=this.data[this.i+1],i=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"};i(t)?(this.setText(),this.start=this.i+1,this.state=this.TagName):"/"==t?(this.setText(),i(this.data[1+ ++this.i])?(this.start=this.i+1,this.state=this.EndTag):this.Comment()):"!"!=t&&"?"!=t||(this.setText(),this.Comment())}},c.prototype.Comment=function(){var e;e="--"==this.data.substring(this.i+2,this.i+4)?"--\x3e":"[CDATA["==this.data.substring(this.i+2,this.i+9)?"]]>":">",-1==(this.i=this.data.indexOf(e,this.i+2))?this.i=this.data.length:this.i+=e.length-1,this.start=this.i+1,this.state=this.Text},c.prototype.TagName=function(e){if(s[e]){this.tagName=this.section();while(s[this.data[this.i]])this.i++;this.isClose()?this.setNode():(this.start=this.i,this.state=this.AttrName)}else this.isClose()&&(this.tagName=this.section(),this.setNode())},c.prototype.AttrName=function(e){if("="==e||s[e]||this.isClose()){if(this.attrName=this.section(),s[e])while(s[this.data[++this.i]]);if("="==this.data[this.i]){while(s[this.data[++this.i]]);this.start=this.i--,this.state=this.AttrValue}else this.setAttr()}},c.prototype.AttrValue=function(e){if('"'==e||"'"==e){if(this.start++,-1==(this.i=this.data.indexOf(e,this.i+1)))return this.i=this.data.length;this.attrVal=this.section(),this.i++}else{for(;!s[this.data[this.i]]&&!this.isClose();this.i++);this.attrVal=this.section()}this.setAttr()},c.prototype.EndTag=function(e){if(s[e]||">"==e||"/"==e){for(var t=this.section().toLowerCase(),i=this.STACK.length;i--;)if(this.STACK[i].name==t)break;if(-1!=i){var o;while((o=this.STACK.pop()).name!=t)this.popNode(o);this.popNode(o)}else"p"!=t&&"br"!=t||this.siblings().push({name:t,attrs:{}});this.i=this.data.indexOf(">",this.i),this.start=this.i+1,-1==this.i?this.i=this.data.length:this.state=this.Text}},e.exports=c}).call(this,i("543d")["default"])},dc3c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{collectionList:[],isShowEmpty:!1}},methods:{toDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},getData:function(e){var t=this;this.isShowEmpty=!1;var i="/api/goodscollect/page",o=[];this.$api.sendRequest({url:i,data:{page_size:e.size,page:e.num},async:!1}).then((function(i){for(var r=i.data.list,s=0;s<r.length;s++)r[s].composite_score=Math.floor((parseFloat(r[s].shop_desccredit)+parseFloat(r[s].shop_servicecredit)+parseFloat(r[s].shop_deliverycredit))/3).toFixed(1);o=o.concat(r),1==e.num&&(t.collectionList=[]),t.collectionList=t.collectionList.concat(r),o.length<e.size?t.$refs.goodsRecommend.getLikeList(e.size).then((function(i){o=o.concat(i),e.endSuccess(o.length),1==e.num&&t.$refs.loadingCover&&t.$refs.loadingCover.hide()})):(e.endSuccess(o.length),t.$refs.loadingCover&&t.$refs.loadingCover.hide()),t.isShowEmpty=!0}))},listenRefresh:function(e){this.$refs.goodsRecommend.init()},deleteItem:function(e){var t=this;this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:e},success:function(i){if(0==i.code){t.$util.showToast({title:"删除成功"});var o=t.collectionList,r=o.filter((function(t){return t.goods_id!=e}));t.collectionList=r}else t.$util.showToast({title:i.message})}})},imageError:function(e){this.collectionList[e].logo=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},goodsImageError:function(e){this.collectionList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()}}};t.default=o},dc89:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品列表"};t.lang=o},dc98:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("7261"));function r(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{timeoutObj:null,servicer_id:null,pingInterval:o.default.pingInterval}},onLoad:function(){e.onSocketClose((function(e){console.log("WebSocket 已关闭！")}))},methods:{checkOpenSocket:function(){console.log("判断是否已连接");var t=this;e.sendSocketMessage({data:"ping",success:function(e){console.log("连接成功,检查")},fail:function(e){console.log("连接失败"),t.openConnection()}})},openConnection:function(){console.log("打开连接"),e.closeSocket(),e.connectSocket({url:o.default.webSocket,method:"POST",success:function(e){console.log("连接成功 connectSocket=",e)},fail:function(e){console.log("连接失败 connectSocket=",e)}}),e.onSocketOpen((function(e){console.log("连接成功",e)})),this.onSocketMessage()},onSocketMessage:function(){var t=this;console.log("开始监听");var i=this;this.pingInterval=o.default.pingInterval,this.timeoutObj=null,e.onSocketMessage((function(o){var r=JSON.parse(o.data);if(console.log("监听该服务器消息",o),"close"==r.type)return clearInterval(i.timeoutObj),i.timeoutObj=null,void e.closeSocket();t.reset(),t.getSocketMsg(o.data)}))},getSocketMsg:function(e){var t=this,i=this,o=JSON.parse(e),r={isItMe:!1};if(r.contentType=o.type,"init"==o.type)i.$api.sendRequest({url:"/servicer/api/chat/bind",data:{client_id:o.data.client_id,site_id:i.siteId},success:function(e){0==e.code?i.servicer_id=e.data.servicer_id:i.servicer_id=0,i.getChatList()}});else if("connect"==o.type){i.servicer_id=o.data.servicer_id;for(var s=i.messageList,a=null,n=0;n<s.length;n++)"online"!=s[n].contentType&&"noline"!=s[n].contentType||(a=n);s.splice(a,1),i.messageList=s;var c={};i.servicer_id>0?c.contentType="online":0==i.servicer_id&&(c.contentType="noline"),i.messageList.push(c)}else"string"==o.type?r.content=o.data.servicer_say:"image"==o.type?r.image=o.data.servicer_say:"order"==o.type?r.order_id=o.data.order_id:"goodssku"==o.type&&(r.sku_id=o.data.goods_sku_id);"init"!=o.type&&(i.messageList.push(r),this.$nextTick((function(){t.setPageScrollTo()})))},reset:function(){console.log("检测心跳"),clearInterval(this.timeoutObj),this.start()},start:function(){console.log("启动心跳");var t=this;this.timeoutObj=setInterval((function(){e.sendSocketMessage({data:"ping",success:function(e){console.log("连接中....")},fail:function(e){console.log("连接失败重新连接...."),t.openConnection()}})}),this.pingInterval)}},onHide:function(){clearInterval(this.timeoutObj),this.timeoutObj=null,this.$api.sendRequest({url:"/servicer/api/chat/bye",data:{servicer_id:this.servicer_id,site_id:this.siteId},success:function(t){e.closeSocket()},fail:function(t){e.closeSocket()}})},onUnload:function(){clearInterval(this.timeoutObj),this.timeoutObj=null,this.$api.sendRequest({url:"/servicer/api/chat/bye",data:{servicer_id:this.servicer_id,site_id:this.siteId},success:function(t){e.closeSocket()},fail:function(t){e.closeSocket()}})}};t.default=s}).call(this,i("543d")["default"])},dd21:function(e,t,i){"use strict";(function(e){function i(t,i){return new Promise((function(o,r){var s=i?e.createSelectorQuery().in(i):e.createSelectorQuery();return s.select(t).boundingClientRect(o).exec()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getClientRect=i}).call(this,i("543d")["default"])},de90:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"推广海报"};t.lang=o},df06:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("84819"));function r(e){return e&&e.__esModule?e:{default:e}}var s=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,a=/^<\/([-A-Za-z0-9_]+)[^>]*>/,n=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,c=g("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),u=g("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),l=g("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),d=g("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),h=g("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=g("script,style");function p(e,t){var i,o,r,p=[],g=e;p.last=function(){return this[this.length-1]};while(e){if(o=!0,p.last()&&f[p.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+p.last()+"[^>]*>"),(function(e,i){return i=i.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(i),""})),_("",p.last());else if(0==e.indexOf("\x3c!--")?(i=e.indexOf("--\x3e"),i>=0&&(t.comment&&t.comment(e.substring(4,i)),e=e.substring(i+3),o=!1)):0==e.indexOf("</")?(r=e.match(a),r&&(e=e.substring(r[0].length),r[0].replace(a,_),o=!1)):0==e.indexOf("<")&&(r=e.match(s),r&&(e=e.substring(r[0].length),r[0].replace(s,v),o=!1)),o){i=e.indexOf("<");var m=i<0?e:e.substring(0,i);e=i<0?"":e.substring(i),t.chars&&t.chars(m)}if(e==g)throw"Parse Error: "+e;g=e}function v(e,i,o,r){if(i=i.toLowerCase(),u[i])while(p.last()&&l[p.last()])_("",p.last());if(d[i]&&p.last()==i&&_("",i),r=c[i]||!!r,r||p.push(i),t.start){var s=[];o.replace(n,(function(e,t){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:h[t]?t:"";s.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})})),t.start&&t.start(i,s,r)}}function _(e,i){if(i){for(o=p.length-1;o>=0;o--)if(p[o]==i)break}else var o=0;if(o>=0){for(var r=p.length-1;r>=o;r--)t.end&&t.end(p[r]);p.length=o}}_()}function g(e){for(var t={},i=e.split(","),o=0;o<i.length;o++)t[i[o]]=!0;return t}function m(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function v(e){e=e.replace(/<!--[\s\S]*-->/gi,"");return e}function _(e){e=e.replace(/\\/g,"").replace(/<img/g,'<img style="width:100% !important;display:block;"');return e=e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){return'<img style="width:100% !important;display:block;" src="'+o.default.img(t)+'"/>'})),e}function y(e){e=e.replace(/style\s*=\s*["][^>]*;[^"]?/gi,(function(e,t){return e=e.replace(/[:](\s?)[\s\S]*/gi,(function(e,t){return e.replace(/"/g,"'")})),e}));return e}function b(e){return e.reduce((function(e,t){var i=t.value,o=t.name;return e[o]?e[o]=e[o]+" "+i:e[o]=i,e}),{})}function D(e){e=m(e),e=v(e),e=_(e),e=y(e);var t=[],i={node:"root",children:[]};return p(e,{start:function(e,o,r){var s={name:e};if(0!==o.length&&(s.attrs=b(o)),r){var a=t[0]||i;a.children||(a.children=[]),a.children.push(s)}else t.unshift(s)},end:function(e){var o=t.shift();if(o.name!==e&&console.error("invalid state: mismatch end tag"),0===t.length)i.children.push(o);else{var r=t[0];r.children||(r.children=[]),r.children.push(o)}},chars:function(e){var o={type:"text",text:e};if(0===t.length)i.children.push(o);else{var r=t[0];r.children||(r.children=[]),r.children.push(o)}},comment:function(e){var i={node:"comment",text:e},o=t[0];o.children||(o.children=[]),o.children.push(i)}}),i.children}var S=D;t.default=S},dfd5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"砸金蛋"};t.lang=o},e1d9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"物流信息"};t.lang=o},e3bc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我要咨询"};t.lang=o},e970:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},ea71:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},ed44:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分兑换订单详情"};t.lang=o},ee5a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"中奖纪录"};t.lang=o},eeec:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"刮刮乐"};t.lang=o},f030:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分中心"};t.lang=o},f0c5:function(e,t,i){"use strict";function o(e,t,i,o,r,s,a,n,c,u){var l,d="function"===typeof e?e.options:e;if(c){d.components||(d.components={});var h=Object.prototype.hasOwnProperty;for(var f in c)h.call(c,f)&&!h.call(d.components,f)&&(d.components[f]=c[f])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),o&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=l):r&&(l=n?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(d.functional){d._injectStyles=l;var p=d.render;d.render=function(e,t){return l.call(t),p(e,t)}}else{var g=d.beforeCreate;d.beforeCreate=g?[].concat(g,l):[l]}return{exports:e,options:d}}i.d(t,"a",(function(){return o}))},f236:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("a34a")),r=a(i("df06")),s=(i("c025"),a(i("7261")));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function a(e){n(s,o,r,a,c,"next",e)}function c(e){n(s,o,r,a,c,"throw",e)}a(void 0)}))}}var u={data:function(){return{id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:"",again_images:[]},pintuanList:[],currentPintuan:{timeMachine:{}},openPopup:!1,memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:null,goodsCircle:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.id=t.id||0,this.skuId=t.sku_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("id")&&(i.id=t.split("-")[1]),-1!=t.indexOf("sku_id")&&(i.skuId=t.split("-")[1]),-1!=t.indexOf("source_member")&&e.setStorageSync("source_member",t.split("-")[1])}))}this.getService()},onShow:function(){var t=this;return c(o.default.mark((function i(){return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),t.token=e.getStorageSync("token"),t.modifyGoodsInfo(),""!=t.token&&(t.getCartCount(),t.getMemberId()),i.next=6,t.getGoodsSkuDetail();case 6:t.getEvaluateConfig();case 7:case"end":return i.stop()}}),i)})))()},onHide:function(){},methods:{goConnect:function(){var t=this;if(e.getStorageSync("token")){var i={siteId:s.default.siteId,skuId:t.goodsSkuDetail.sku_id};return 1==this.kefuConfig.system?(t.$util.redirectTo("/otherpages/chat/room/room",i),!1):void 0}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+t.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var e=this;return c(o.default.mark((function t(){var i,s,a,n,c;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/groupbuy/api/goods/detail",async:!1,data:{id:e.id,sku_id:e.skuId}});case 2:if(i=t.sent,s=i.data,null!=s.goods_sku_detail){if(e.goodsSkuDetail=s.goods_sku_detail,0==e.skuId&&(e.skuId=e.goodsSkuDetail.sku_id),e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),e.goodsSkuDetail.video_url&&(e.switchMedia="video"),e.goodsSkuDetail.sku_images?e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.split(","):e.goodsSkuDetail.sku_images=[],e.goodsSkuDetail.goods_spec_format&&e.goodsSkuDetail.goods_image&&(e.goodsSkuDetail.goods_image=e.goodsSkuDetail.goods_image.split(","),e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.concat(e.goodsSkuDetail.goods_image)),e.goodsSkuDetail.unit=e.goodsSkuDetail.unit||"件",e.goodsSkuDetail.show_price=e.goodsSkuDetail.groupbuy_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.goodsSkuDetail.sku_spec_format&&(e.goodsSkuDetail.sku_spec_format=JSON.parse(e.goodsSkuDetail.sku_spec_format)),e.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=e.$util.unique(a,"attr_id"),n=0;n<e.goodsSkuDetail.goods_attr_format.length;n++)for(c=0;c<a.length;c++)e.goodsSkuDetail.goods_attr_format[n].attr_id==a[c].attr_id&&e.goodsSkuDetail.goods_attr_format[n].attr_value_id!=a[c].attr_value_id&&(e.goodsSkuDetail.goods_attr_format[n].attr_value_name+="、"+a[c].attr_value_name);e.goodsSkuDetail.goods_spec_format&&(e.goodsSkuDetail.goods_spec_format=JSON.parse(e.goodsSkuDetail.goods_spec_format)),e.$langConfig.title(e.goodsSkuDetail.goods_name),e.goodsSkuDetail.goods_content&&(e.goodsSkuDetail.goods_content=(0,r.default)(e.goodsSkuDetail.goods_content)),e.contactData={title:e.goodsSkuDetail.sku_name,path:"/promotionpages/groupbuy/detail/detail?id="+e.id,img:e.$util.img(e.goodsSkuDetail.sku_image,{size:"big"})},""!=e.token&&e.getWhetherCollection(),e.setWechatShare(),e.$refs.loadingCover&&e.$refs.loadingCover.hide(),e.goodsSyncToGoodsCircle()}else e.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return t.stop()}}),t)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},groupbuy:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("groupbuy",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/groupbuy/detail/detail?id="+this.id+"&sku_id="+this.skuId)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),e.goodsEvaluate.again_images&&(e.goodsEvaluate.again_images=e.goodsEvaluate.again_images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/groupbuy/detail/detail?id="+this.id+"&sku_id="+this.skuId)},getCartCount:function(){var e=this;this.$api.sendRequest({url:"/api/cart/count",data:{},success:function(t){e.cartCount=t.data}})},goTopClick:function(){e.pageScrollTo({duration:200,scrollTop:0})},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));""!=t.token?t.posterHeight=parseInt(1240/o):t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.id};this.memberId&&(t.source_member=this.memberId),this.$api.sendRequest({url:"/groupbuy/api/goods/poster",data:{page:"/promotionpages/groupbuy/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data,e.setWechatShare())}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,r.default)(t.data.content))}}})},setWechatShare:function(){},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;wx.openBusinessView&&wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/groupbuy/detail/detail?id="+this.id;this.memberId&&(t+="&source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))}}};t.default=u}).call(this,i("543d")["default"])},f47c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},f744:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("a34a")),r=a(i("df06")),s=(i("c025"),a(i("7261")));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function a(e){n(s,o,r,a,c,"next",e)}function c(e){n(s,o,r,a,c,"throw",e)}a(void 0)}))}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l={data:function(){var e;return e={id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},cartCount:0,whetherCollection:0,swiperCurrent:1,switchMedia:"img",token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:"",again_images:[]},memberId:0,contactData:{title:"",path:"",img:""},swiperInterval:1,swiperAutoplay:!1},u(e,"swiperCurrent",1),u(e,"switchMedia","img"),u(e,"detailTab",0),u(e,"service",null),u(e,"goodsCircle",!1),u(e,"evaluateConfig",{evaluate_audit:1,evaluate_show:0,evaluate_status:1}),e},onLoad:function(t){var i=this;if(this.id=t.id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("id")&&(i.id=t.split("-")[1]),-1!=t.indexOf("source_member")&&e.setStorageSync("source_member",t.split("-")[1])}))}this.getService()},onShow:function(){var t=this;return c(o.default.mark((function i(){return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),t.token=e.getStorageSync("token"),i.next=4,t.getGoodsSkuDetail();case 4:t.modifyGoodsInfo(),""!=t.token&&(t.getCartCount(),t.getMemberId()),t.getEvaluateConfig();case 7:case"end":return i.stop()}}),i)})))()},onHide:function(){},methods:{goConnect:function(){var t=this;if(e.getStorageSync("token")){var i={siteId:s.default.siteId,skuId:t.goodsSkuDetail.sku_id};return 1==this.kefuConfig.system?(t.$util.redirectTo("/otherpages/chat/room/room",i),!1):void 0}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+t.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var e=this;return c(o.default.mark((function t(){var i,s,a,n,c,u,l;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/seckill/api/seckillgoods/detail",async:!1,data:{id:e.id}});case 2:if(i=t.sent,s=i.data,null!=s.goods_sku_detail){if(e.goodsSkuDetail=s.goods_sku_detail,e.shopInfo=s.shop_info,e.skuId=e.goodsSkuDetail.sku_id,a=new Date(1e3*i.timestamp),n=60*a.getHours()*60+60*a.getMinutes()+a.getSeconds(),e.goodsSkuDetail.seckill_start_time<=n&&n<e.goodsSkuDetail.seckill_end_time?e.goodsSkuDetail.discountTimeMachine=e.$util.countDown(e.goodsSkuDetail.seckill_end_time-n):e.goodsSkuDetail.seckill_start_time>n&&n<e.goodsSkuDetail.seckill_end_time?(e.$util.showToast({title:"限时秒杀活动还未开始"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.goodsSkuDetail.sku_id},"redirectTo")}),1e3)):n<e.goodsSkuDetail.seckill_start_time&&n>e.goodsSkuDetail.seckill_end_time&&(e.$util.showToast({title:"限时秒杀活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),e.goodsSkuDetail.show_price=e.goodsSkuDetail.seckill_price,e.goodsSkuDetail.video_url&&(e.switchMedia="video"),e.goodsSkuDetail.sku_images?e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.split(","):e.goodsSkuDetail.sku_images=[],e.goodsSkuDetail.goods_spec_format&&e.goodsSkuDetail.goods_image&&(e.goodsSkuDetail.goods_image=e.goodsSkuDetail.goods_image.split(","),e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.concat(e.goodsSkuDetail.goods_image)),e.goodsSkuDetail.unit=e.goodsSkuDetail.unit||"件",e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.seckill_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.seckill_price).toFixed(2):0,e.goodsSkuDetail.sku_spec_format&&(e.goodsSkuDetail.sku_spec_format=JSON.parse(e.goodsSkuDetail.sku_spec_format)),e.goodsSkuDetail.goods_attr_format)for(c=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=e.$util.unique(c,"attr_id"),u=0;u<e.goodsSkuDetail.goods_attr_format.length;u++)for(l=0;l<c.length;l++)e.goodsSkuDetail.goods_attr_format[u].attr_id==c[l].attr_id&&e.goodsSkuDetail.goods_attr_format[u].attr_value_id!=c[l].attr_value_id&&(e.goodsSkuDetail.goods_attr_format[u].attr_value_name+="、"+c[l].attr_value_name);e.goodsSkuDetail.goods_spec_format&&(e.goodsSkuDetail.goods_spec_format=JSON.parse(e.goodsSkuDetail.goods_spec_format)),e.$langConfig.title(e.goodsSkuDetail.goods_name),e.goodsSkuDetail.goods_content&&(e.goodsSkuDetail.goods_content=(0,r.default)(e.goodsSkuDetail.goods_content)),e.contactData={title:e.goodsSkuDetail.sku_name,path:"/promotionpages/seckill/detail/detail?id="+e.id,img:e.$util.img(e.goodsSkuDetail.sku_image,{size:"big"})},e.setWechatShare(),""!=e.token&&e.getWhetherCollection(),e.$refs.loadingCover&&e.$refs.loadingCover.hide(),e.goodsSyncToGoodsCircle()}else e.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return t.stop()}}),t)})))()},goHome:function(){this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},seckill:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("seckill",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/seckill/detail/detail?id="+this.id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),e.goodsEvaluate.again_images&&(e.goodsEvaluate.again_images=e.goodsEvaluate.again_images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/seckill/detail/detail?id="+this.id)},getCartCount:function(){var e=this;this.$api.sendRequest({url:"/api/cart/count",data:{},success:function(t){e.cartCount=t.data}})},goTopClick:function(){e.pageScrollTo({duration:200,scrollTop:0})},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));""!=t.token?t.posterHeight=parseInt(1240/o):t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.id};this.memberId&&(t.source_member=this.memberId),this.$api.sendRequest({url:"/seckill/api/seckillgoods/poster",data:{page:"/promotionpages/seckill/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data,e.setWechatShare())}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,r.default)(t.data.content))}}})},setWechatShare:function(){},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;wx.openBusinessView&&wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/seckill/detail/detail?id="+this.id;this.memberId&&(t+="&source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))}}};t.default=l}).call(this,i("543d")["default"])},f7ce:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},f936:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i("a34a")),r=s(i("df06"));i("c025");function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(u){return void i(u)}n.done?t(c):Promise.resolve(c).then(o,r)}function n(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function n(e){a(s,o,r,n,c,"next",e)}function c(e){a(s,o,r,n,c,"throw",e)}n(void 0)}))}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u={data:function(){var e;return e={id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},cartCount:0,whetherCollection:0,swiperCurrent:1,switchMedia:"img",token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:"",again_images:[]},memberId:0,contactData:{title:"",path:"",img:""},swiperInterval:1,swiperAutoplay:!1},c(e,"swiperCurrent",1),c(e,"switchMedia","img"),c(e,"detailTab",0),c(e,"service",null),c(e,"goodsCircle",!1),c(e,"evaluateConfig",{evaluate_audit:1,evaluate_show:0,evaluate_status:1}),e},onLoad:function(t){var i=this;if(this.id=t.id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("id")&&(i.id=t.split("-")[1]),-1!=t.indexOf("source_member")&&e.setStorageSync("source_member",t.split("-")[1])}))}this.getService()},onShow:function(){var t=this;return n(o.default.mark((function i(){return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),t.token=e.getStorageSync("token"),i.next=4,t.getGoodsSkuDetail();case 4:t.modifyGoodsInfo(),""!=t.token&&(t.getCartCount(),t.getWhetherCollection(),t.getMemberId()),t.getEvaluateConfig();case 7:case"end":return i.stop()}}),i)})))()},onHide:function(){},methods:{goConnect:function(){var t=this;if(e.getStorageSync("token")){var i={siteId:Config.siteId,skuId:t.goodsSkuDetail.sku_id};1==this.kefuConfig.open?t.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(this.kefuConfig.open_url)}):1==this.kefuConfig.system&&t.$util.redirectTo("/otherpages/chat/room/room",i)}else this.$refs.login.open("/pages/goods/detail/detail?sku_id="+t.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var e=this;return n(o.default.mark((function t(){var i,s,a,n,c;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/topic/api/topicgoods/detail",async:!1,data:{id:e.id}});case 2:if(i=t.sent,s=i.data,null!=s.goods_sku_detail){if(e.goodsSkuDetail=s.goods_sku_detail,e.skuId=e.goodsSkuDetail.sku_id,i.timestamp>e.goodsSkuDetail.end_time?(e.$util.showToast({title:"专题活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.goodsSkuDetail.sku_id},"redirectTo")}),1e3)):e.goodsSkuDetail.discountTimeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp),e.goodsSkuDetail.show_price=e.goodsSkuDetail.topic_price,e.goodsSkuDetail.video_url&&(e.switchMedia="video"),e.goodsSkuDetail.sku_images?e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.split(","):e.goodsSkuDetail.sku_images=[],e.goodsSkuDetail.goods_spec_format&&e.goodsSkuDetail.goods_image&&(e.goodsSkuDetail.goods_image=e.goodsSkuDetail.goods_image.split(","),e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.concat(e.goodsSkuDetail.goods_image)),e.goodsSkuDetail.unit=e.goodsSkuDetail.unit||"件",e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.goodsSkuDetail.sku_spec_format&&(e.goodsSkuDetail.sku_spec_format=JSON.parse(e.goodsSkuDetail.sku_spec_format)),e.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=e.$util.unique(a,"attr_id"),n=0;n<e.goodsSkuDetail.goods_attr_format.length;n++)for(c=0;c<a.length;c++)e.goodsSkuDetail.goods_attr_format[n].attr_id==a[c].attr_id&&e.goodsSkuDetail.goods_attr_format[n].attr_value_id!=a[c].attr_value_id&&(e.goodsSkuDetail.goods_attr_format[n].attr_value_name+="、"+a[c].attr_value_name);e.goodsSkuDetail.goods_spec_format&&(e.goodsSkuDetail.goods_spec_format=JSON.parse(e.goodsSkuDetail.goods_spec_format)),e.$langConfig.title(e.goodsSkuDetail.goods_name),e.goodsSkuDetail.goods_content&&(e.goodsSkuDetail.goods_content=(0,r.default)(e.goodsSkuDetail.goods_content)),e.contactData={title:e.goodsSkuDetail.sku_name,path:"/promotionpages/topic/detail/detail?id="+e.id,img:e.$util.img(e.goodsSkuDetail.sku_image,{size:"big"})},e.setWechatShare(),e.$refs.loadingCover&&e.$refs.loadingCover.hide(),e.goodsSyncToGoodsCircle()}else e.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return t.stop()}}),t)})))()},goHome:function(){this.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},topic:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("topic",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/topics/goods_detail/goods_detail?id="+this.id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),e.goodsEvaluate.again_images&&(e.goodsEvaluate.again_images=e.goodsEvaluate.again_images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/topics/goods_detail/goods_detail?id="+this.id)},getCartCount:function(){var e=this;this.$api.sendRequest({url:"/api/cart/count",data:{},success:function(t){e.cartCount=t.data}})},goTopClick:function(){e.pageScrollTo({duration:200,scrollTop:0})},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));""!=t.token?t.posterHeight=parseInt(1240/o):t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.id};this.memberId&&(t.source_member=this.memberId),this.$api.sendRequest({url:"/topic/api/topicgoods/poster",data:{page:"/promotionpages/topics/goods_detail/goods_detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data,e.setWechatShare())}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,r.default)(t.data.content))}}})},setWechatShare:function(){},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;wx.openBusinessView&&wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/topic/goods_detail/goods_detail?id="+this.id;this.memberId&&(t+="&source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))}}};t.default=u}).call(this,i("543d")["default"])},f9fe:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"支付结果",paymentSuccess:"支付成功",paymentFail:"支付失败",goHome:"回到首页",memberCenter:"会员中心",payMoney:"支付金额",unit:"元"};t.lang=o},fb0d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的拼单"};t.lang=o},fc5b:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{orderId:null,orderNo:"",memberName:"",memberNeadimg:"",isAnonymous:1,goodsList:[],goodsEvalList:[],imgList:[],isEvaluate:0,flag:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},methods:{getUserInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code?(e.memberName=t.data.nickname,e.memberNeadimg=t.data.headimg):e.$util.showToast({title:t.message})}})},getOrderInfo:function(){var e=this,t={order_id:this.orderId};this.$api.sendRequest({url:"/api/order/evluateinfo",data:t,success:function(t){if(0==t.code)if(e.isEvaluate=t.data.evaluate_status,e.orderNo=t.data.list[0].order_no,e.goodsList=t.data.list,e.isEvaluate)for(var i=0;i<t.data.list.length;i++){var o=[];e.imgList.push(o),e.goodsEvalList.push({order_goods_id:t.data.list[i].order_goods_id,goods_id:t.data.list[i].goods_id,sku_id:t.data.list[i].sku_id,again_content:"",again_images:""})}else for(var r=0;r<t.data.list.length;r++){var s=[];e.imgList.push(s),e.goodsEvalList.push({content:"",images:"",scores:5,explain_type:1,order_goods_id:t.data.list[r].order_goods_id,goods_id:t.data.list[r].goods_id,sku_id:t.data.list[r].sku_id,sku_name:t.data.list[r].sku_name,sku_price:t.data.list[r].price,sku_image:t.data.list[r].sku_image})}else e.$util.showToast({title:"未获取到订单数据"}),setTimeout((function(){e.$util.redirectTo("/pages/order/list/list",{},"redirectTo")}),1e3);e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(){this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},setStar:function(e){this.goodsEvalList[e.index].scores=e.value,e.value>=4?this.goodsEvalList[e.index].explain_type=1:1<e.value&&e.value<4?this.goodsEvalList[e.index].explain_type=2:this.goodsEvalList[e.index].explain_type=3},isAll:function(){this.isAnonymous?this.isAnonymous=0:this.isAnonymous=1},addImg:function(e){var t=this,i=this.imgList[e].length?this.imgList[e].length:0;this.$util.upload(6-i,{path:"evaluateimg"},(function(i){var o=t.imgList[e];o=o.concat(i),t.imgList[e]=[],t.$set(t.imgList,e,o),t.isEvaluate?t.goodsEvalList[e].again_images=t.imgList[e].toString():t.goodsEvalList[e].images=t.imgList[e].toString()}))},deleteImg:function(e,t){this.imgList[t].splice(e,1),this.isEvaluate?this.goodsEvalList[t].again_images=this.imgList[t].toString():this.goodsEvalList[t].images=this.imgList[t].toString()},preview:function(t,i){for(var o=this.imgList[i],r=0;r<o.length;r++)o[r]=this.$util.img(o[r]);e.previewImage({urls:o,current:t})},save:function(){var e=this;if(0!=this.evaluateConfig.evaluate_status){for(var t=0;t<this.goodsEvalList.length;t++)if(this.isEvaluate&&!this.goodsEvalList[t].again_content.trim().length)return void this.$util.showToast({title:"商品的评价不能为空哦"});var i=JSON.stringify(this.goodsEvalList),o={order_id:this.orderId,goods_evaluate:i};this.isEvaluate||(o.order_no=this.orderNo,o.member_name=this.memberName,o.member_headimg=this.memberNeadimg,o.is_anonymous=this.isAnonymous),this.flag||(this.flag=!0,this.$api.sendRequest({url:this.isEvaluate?"/api/goodsevaluate/again":"/api/goodsevaluate/add",data:o,success:function(t){0==t.code?(e.$util.showToast({title:"评价成功"}),setTimeout((function(){e.$util.redirectTo("/pages/order/list/list",{},"redirectTo")}),1e3)):(e.$util.showToast({title:t.message}),e.flag=!1)},fail:function(t){e.flag=!1}}))}else this.$util.showToast({title:"商家未开启商品评价功能"})},imageError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i}}})}}};t.default=i}).call(this,i("543d")["default"])},fd13:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Function.prototype.asyAfter=function(e){var t=this;return function(){var i=t.apply(this,arguments);return"next"===i?e.apply(this,arguments):i}},Date.prototype.pattern=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},i={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+i[this.getDay()+""])),t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e};var o=function(e){return/^\[object\s(.*)\]$/.exec(Object.prototype.toString.call(e))[1]},r=function(){},s=r.prototype;s.getUnix=function(){return(new Date).getTime()},s.getTodayUnix=function(){var e=new Date,t="".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate()," 00:00:00");return new Date(t).getTime()},s.getYearUnix=function(){var e=new Date;return e.setMonth(0),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()},s.getLastDate=function(e){if(e){var t=new Date(e);if(t.pattern)return t.pattern("yyyy-MM-dd");var i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+i+"-"+o}};var a=function(e,t){var i=function(e){return e<=0||Math.floor(e/60)<=0?"刚刚":"next"},o=function(e){return e<3600?Math.floor(e/60)+"分钟前":"next"},r=function(e,t){var i=c.getTodayUnix();return e>=3600&&t-i>=0?Math.floor(e/60/60)+"小时前":"next"},s=function(e,t){var i=c.getTodayUnix();return e=(i-t)/1e3,e/86400<=31?Math.ceil(e/86400)+"天前":"next"},a=function(e,t){return c.getLastDate(t)},n=i.asyAfter(o).asyAfter(r).asyAfter(s).asyAfter(a);return n(e,t)},n=new RegExp("-","g");s.getFormatTime=function(e,t){if(!e)return"";switch(o(e)){case"Date":e=e.getTime();break;case"String":e=e.replace(n,"/");default:e=new Date(e).getTime();break}var i=this.getUnix(),r=(this.getYearUnix(),(i-e)/1e3);if(e>i&&t)return this.getLastDate(e);return a(r,e)};var c=new r,u=c;t.default=u},fd36:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o}}]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/vendor"],{"0175":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"专题活动列表"};t.lang=o},"01c2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"053b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分明细",emptyTpis:"您暂时还没有积分记录哦!",pointExplain:"积分说明"};t.lang=o},"0548":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{fenxiaoWords:{}}},methods:{getFenxiaoWrods:function(){var t=this;this.$api.sendRequest({url:"/fenxiao/api/config/words",success:function(i){i.code>=0&&i.data&&(t.fenxiaoWords=i.data,e.setStorageSync("fenxiaoWords",i.data))}})}},onShow:function(){e.getStorageSync("fenxiaoWords")&&(this.fenxiaoWords=e.getStorageSync("fenxiaoWords")),this.getFenxiaoWrods()}};t.default=i}).call(this,i("543d")["default"])},"060d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"089b":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{posterApi:"/pintuan/api/goods/poster",goodsRoute:"/pages_promotion/pintuan/detail",groupId:0,pintuan_id:0,pintuanList:[],currentPintuan:{headimg:"",timeMachine:{}},openPopup:!1,timestamp:"",newList:[]}},onLoad:function(e){var t=this;if(this.pintuan_id=e.pintuan_id||0,e.id&&(this.pintuan_id=e.id),this.groupId=e.group_id||0,e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("id")&&(t.pintuan_id=e.split("-")[1]),-1!=e.indexOf("group_id")&&(t.group_id=e.split("-")[1])}))}},onShow:function(){var e=this;return a(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsSkuDetail();case 2:e.getPintuanGroupList();case 3:case"end":return t.stop()}}),t)})))()},methods:{getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/pintuan/api/goods/detail",async:!1,data:{pintuan_id:e.pintuan_id}});case 2:i=t.sent,r=i.data,null!=r.goods_sku_detail?(e.goodsSkuDetail=r.goods_sku_detail,e.skuId=e.goodsSkuDetail.sku_id,e.goodsSkuDetail.group_id=e.groupId,e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)),e.shareQuery="pintuan_id="+e.pintuan_id+"&group_id="+e.groupId,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id,type:"pintuan",type_id:e.goodsSkuDetail.pintuan_id},e.posterParams={id:e.pintuan_id},e.handleGoodsSkuData(),e.goodsSkuDetail.show_price=0==e.goodsSkuDetail.group_id?e.goodsSkuDetail.promotion_price:e.goodsSkuDetail.pintuan_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.$refs.loadingCover&&e.$refs.loadingCover.hide()):e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 5:case"end":return t.stop()}}),t)})))()},pintuan:function(){var t=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.getStorageSync("token")?(i&&this.resetPrice(),this.$refs.goodsSku.show("pintuan",(function(){t.resetPrice(),t.getCartCount()}))):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)},buyNow:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)},getPintuanGroupList:function(){var e=this;this.$api.sendRequest({url:"/pintuan/api/pintuangroup/lists",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(e.timestamp=t.timestamp,null!=i&&i.length){e.pintuanList=i;for(var o=0;o<e.pintuanList.length;o++)e.pintuanList[o]["end_time"]>t.timestamp?(e.pintuanList[o].timeMachine=e.$util.countDown(e.pintuanList[o]["end_time"]-t.timestamp),e.pintuanList[o].currentTime=t.timestamp):e.pintuanList[o].timeMachine=null;e.newList=e.pintuanList.filter((function(e){return e.end_time>t.timestamp})),e.$forceUpdate()}}})},openPinTuan:function(e,t,i,o,r){var n=this;this.memberId!=r?(this.openPopup=!0,this.currentPintuan={groupId:e,pintuan_num:t,timeMachine:this.$util.countDown(i),headimg:o},this.$refs.pintuanPopup.open((function(){n.goodsSkuDetail.group_id=0,n.openPopup=!1}))):this.$util.showToast({title:"您不能参与自己的团"})},closePinTuanPopup:function(){this.$refs.pintuanPopup.close()},joinPintuan:function(){this.closePinTuanPopup(),this.goodsSkuDetail.group_id=this.currentPintuan.groupId,this.goodsSkuDetail.show_price=this.goodsSkuDetail.pintuan_price,this.goodsSkuDetail.save_price=this.goodsSkuDetail.price-this.goodsSkuDetail.show_price>0?(this.goodsSkuDetail.price-this.goodsSkuDetail.show_price).toFixed(2):0,this.$forceUpdate(),this.pintuan(!1)},pintuanImageError:function(e){this.pintuanList[e].headimg=this.$util.getDefaultImage().head,this.$forceUpdate()},resetPrice:function(){this.goodsSkuDetail.group_id=0,this.goodsSkuDetail.show_price=this.goodsSkuDetail.promotion_price,this.goodsSkuDetail.save_price=this.goodsSkuDetail.price-this.goodsSkuDetail.show_price>0?(this.goodsSkuDetail.price-this.goodsSkuDetail.show_price).toFixed(2):0,this.$forceUpdate()}}};t.default=s}).call(this,i("543d")["default"])},"0968":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{goodsRoute:"/pages_promotion/presale/detail",posterApi:"/presale/api/goods/poster",id:0,groupId:0}},onLoad:function(e){var t=this;if(this.id=e.id||0,this.skuId=e.sku_id||0,e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("id")&&(t.id=e.split("-")[1])}))}},onShow:function(){var e=this;return a(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsSkuDetail();case 2:case"end":return t.stop()}}),t)})))()},methods:{getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/presale/api/goods/detail",async:!1,data:{id:e.id,sku_id:e.skuId}});case 2:i=t.sent,r=i.data,null!=r.goods_sku_detail?(e.goodsSkuDetail=r.goods_sku_detail,e.goodsSkuDetail.purchased_num=e.goodsSkuDetail.purchased_num?e.goodsSkuDetail.purchased_num:0,e.skuId=e.goodsSkuDetail.sku_id,e.goodsSkuDetail.group_id=e.groupId,e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)),e.shareQuery="id="+e.id,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id,type:"presale",type_id:e.id},e.posterParams={id:e.id},e.handleGoodsSkuData(),e.goodsSkuDetail.show_price=e.goodsSkuDetail.goods_price,e.$refs.loadingCover&&e.$refs.loadingCover.hide()):e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 5:case"end":return t.stop()}}),t)})))()},presale:function(){var e=this;this.token?this.$refs.goodsSku.show("presale",(function(){e.getCartCount()})):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)},toOrderDetail:function(){this.$util.redirectTo("/pages_promotion/presale/order_list")}}};t.default=s},"0a3b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},"0e65":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"0f31":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"0ffb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的消息"};t.lang=o},"13b4":function(e,t,i){"use strict";(function(e){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){var e;return{currTime:"",isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:"",default_store_id:""},orderPaymentData:{shop_goods_list:(e={site_name:"",express_type:[],coupon_list:[]},i(e,"coupon_list",[]),i(e,"invoice",{invoice_content_array:[]}),e),member_account:{balance:0,is_pay_password:0},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,is_deposit_back:0,switch_state:!0,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,isFocus:!1,member_id:0,presale_id:0,pay_password:"",action:{icon:""},deliveryWeek:""}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/pages_tool/member/address",{back:"/pages_promotion/presale/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("presaleOrderCreateData"),this.location&&(this.orderCreateData.latitude=this.location.latitude,this.orderCreateData.longitude=this.location.longitude);var i=e.getStorageSync("store");i&&(this.orderCreateData.default_store_id=i.store_id),this.orderCreateData?this.$api.sendRequest({url:"/presale/api/ordercreate/depositPayment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.is_deposit_back=e.data.promotion_presale_info.is_deposit_back,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):t.$util.showToast({title:"未获取到创建订单所需数据!！",success:function(){}})},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}}):this.$util.showToast({title:"未获取到创建订单所需数据!！",success:function(){setTimeout((function(){t.$util.redirectTo("/pages/index/index",{},"reLaunch")}),1500)}})},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderPaymentData.shop_goods_list.invoice&&(this.orderPaymentData.shop_goods_list.invoice.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type.split(","),this.orderCreateData.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type[0]);var i=this.orderPaymentData;if(void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var n=r.name,a=r.title;"store"==n&&(i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)})),this.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""})}else{n=o[0].name;"store"==n&&(this.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""});a=o[0].title}this.orderCreateData.delivery.delivery_type=n,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(void 0!=i.shop_goods_list.coupon_list&&void 0!=i.shop_goods_list.coupon_list[0]){var s=i.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=s[0].coupon_id,this.orderCreateData.coupon.coupon_money=s[0].money}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1;var u=(new Date).getHours().toString(),l=(new Date).getMinutes().toString();1==u.length&&(u="0"+u),1==l.length&&(l="0"+l),this.orderCreateData.buyer_ask_delivery_time=u+":"+l;var d=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(d);var f=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(f)}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/presale/api/ordercreate/depositCalculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.orderPaymentData.final_money=t.data.final_money,e.orderPaymentData.shop_goods_list.delivery=t.data.shop_goods_list.delivery,e.createBtn(),e.$forceUpdate()):e.$util.showToast({title:t.message})}})},createBtn:function(){return!(this.orderPaymentData.delivery&&"local"==this.orderPaymentData.delivery.delivery_type&&this.orderPaymentData.shop_goods_list.delivery&&this.orderPaymentData.shop_goods_list.delivery.error&&this.orderPaymentData.shop_goods_list.delivery.start_money>this.orderPaymentData.presale_deposit_money)&&!(this.orderPaymentData.delivery&&"local"==this.orderPaymentData.delivery.delivery_type&&this.orderPaymentData.shop_goods_list.delivery&&this.orderPaymentData.shop_goods_list.delivery.error&&""!==this.orderPaymentData.shop_goods_list.delivery.error)},orderCreate:function(){var t=this;if(this.verify()){if(this.isSub)return;this.isSub=!0;var i=this.$util.deepClone(this.orderCreateData);i.delivery=JSON.stringify(i.delivery),i.coupon=JSON.stringify(i.coupon),"store"==this.orderCreateData.delivery.delivery_type?i.member_address=JSON.stringify(this.member_address):i.member_address=JSON.stringify(i.member_address),this.$api.sendRequest({url:"/presale/api/ordercreate/depositCreate",data:i,success:function(i){if(i.code>=0)if(0==t.orderPaymentData.pay_money){switch(t.orderCreateData.delivery.delivery_type){case"express":break;case"store":t.$util.subscribeMessage("ORDER_VERIFY_OUT_TIME,VERIFY_CODE_EXPIRE,VERIFY");break;case"local":break;default:t.$util.subscribeMessage("ORDER_VERIFY_OUT_TIME,VERIFY_CODE_EXPIRE,VERIFY")}t.$util.redirectTo("/pages_tool/pay/result",{code:i.data},"redirectTo")}else{var o=e.getStorageSync("presaleOrderCreateData");o.out_trade_no=i.data,e.setStorageSync("presaleOrderCreateData",o),t.$refs.choosePaymentPopup.getPayInfo(i.data),t.isSub=!1}else t.isSub=!1,e.hideLoading(),t.$refs.payPassword&&t.$refs.payPassword.close(),10==i.data.error_code||12==i.data.error_code?e.showModal({title:"订单未创建",content:i.message,confirmText:"去设置",success:function(e){e.confirm&&t.selectAddress()}}):t.$util.showToast({title:i.message})}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:"店铺未设置配送方式"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"店铺没有可提货的门店,请选择其他配送方式"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&(this.storeSelected(t),this.member_address.mobile||(this.member_address.mobile=""!=this.orderPaymentData.member_account.mobile?this.orderPaymentData.member_account.mobile:"")),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},setPayPassword:function(){this.$util.redirectTo("/pages_tool/member/pay_password",{back:"/pages_promotion/presale/payment"})},noSet:function(){this.orderCreateData.is_balance=0,this.$refs.payPassword.close(),this.orderCalculate(),this.$forceUpdate()},input:function(t){var i=this;6==t.length&&(e.showLoading({title:"支付中...",mask:!0}),this.$api.sendRequest({url:"/api/member/checkpaypassword",data:{pay_password:t},success:function(o){o.code>=0?i.finalPay?(i.finalPay.pay_password=t,i.finalPay.member_id=i.member_id,i.finalPay.is_balance=i.finalPay.is_use_balance):(i.orderCreateData.pay_password=t,i.orderCreate()):(e.hideLoading(),i.$util.showToast({title:o.message}))},fail:function(t){e.hideLoading()}}))},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address&&1==this.orderPaymentData.is_virtual)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},closeInvoicePopup:function(){this.$refs.invoicePopup.close()},switchChange:function(e){this.switch_state=e.detail.value},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail",{goods_id:e})},openChoosePayment:function(){if(1==this.is_deposit_back){if(!this.switch_state)return this.$util.showToast({title:"预售商品定金不支持退款，请确定同意定金不退款协议。"}),!1;this.$refs.depositRefund.open()}else if(e.setStorageSync("paySource","presale"),this.verify())switch(this.$refs.choosePaymentPopup.open(),this.orderCreateData.delivery.delivery_type){case"express":this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY,ORDER_DELIVERY");break;case"store":this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY");break;case"local":this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY,ORDER_DELIVERY");break;default:this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY")}},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})},toPayOrder:function(){e.setStorageSync("paySource","presale"),this.verify()&&(this.$refs.depositRefund.close(),this.$refs.choosePaymentPopup.open())},closeDepositRefund:function(){this.$refs.depositRefund.close()},presaleAgreement:function(){this.$refs.presaleAgreement.open()},closePresaleAgreement:function(){this.$refs.presaleAgreement.close()}},onShow:function(){e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages_tool/login/login");var t=e.getStorageSync("presaleOrderCreateData");t&&t.out_trade_no&&this.$util.redirectTo("/pages_promotion/presale/order_list",{},"redirectTo"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onLoad:function(t){t.id&&(this.presale_id=t.id),e.getStorageSync("userInfo")&&(this.member_id=e.getStorageSync("userInfo").member_id),this.location||this.$util.getLocation()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){var e=parseFloat(this.orderPaymentData.member_account.balance_total)<parseFloat(this.orderPaymentData.presale_deposit_money)?parseFloat(this.orderPaymentData.member_account.balance_total):parseFloat(this.orderPaymentData.presale_deposit_money);return e.toFixed(2)},presaleDiscount:function(){return(parseFloat(this.orderPaymentData.presale_money)-parseFloat(this.orderPaymentData.presale_deposit_money)).toFixed(2)},location:function(){return this.$store.state.location}},watch:{location:function(e){e&&this.getOrderPaymentData()}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=o}).call(this,i("543d")["default"])},"13b9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},1589:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},1903:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分商城"};t.lang=o},"197a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"会员等级",defaultLevelTips:"您已经是最高级别的会员了！",tag:"专属标签",tagDesc:"标签达人",discount:"专享折扣",discountDesc:"专享{0}折",service:"优质服务",serviceDesc:"360度全方位",memberLevel:"会员等级",condition:"条件",equity:"权益",giftPackage:"升级礼包",levelExplain:"等级说明",upgradeTips:"升级会员，享专属权益"};t.lang=o},"1ab7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分兑换",emptyTips:"暂无更多数据了"};t.lang=o},"1b22":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"登录",mobileLogin:"手机号登录",accountLogin:"账号登录",autoLogin:"一键授权登录",login:"登录",mobilePlaceholder:"手机号登录仅限中国大陆用户",dynacodePlaceholder:"请输入动态码",captchaPlaceholder:"请输入验证码",accountPlaceholder:"请输入账号",passwordPlaceholder:"请输入密码",rePasswordPlaceholder:"请确认密码",forgetPassword:"忘记密码",register:"注册",registerTips:"没有账号的用户快来",registerTips1:"注册",registerTips2:"吧",newUserRegister:"新用户注册"};t.lang=o},"1d3f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分中心"};t.lang=o},"1ebb":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("f27e"));function r(e){return e&&e.__esModule?e:{default:e}}var n={data:function(){return{timeoutObj:null,servicer_id:null,pingInterval:o.default.pingInterval}},onLoad:function(){var t=this;e.closeSocket(),t.checkOpenSocket()},methods:{checkOpenSocket:function(){console.log("判断是否已连接");var t=this;e.sendSocketMessage({data:"ping",success:function(e){console.log("连接成功,检查")},fail:function(e){console.log("连接失败"),t.openConnection()}})},openConnection:function(){console.log("打开连接"),e.connectSocket({url:o.default.webSocket,method:"POST",success:function(e){console.log("连接成功 connectSocket=",e)},fail:function(e){console.log("连接失败 connectSocket=",e)}}),this.onSocketMessage()},onSocketMessage:function(){var t=this;console.log("开始监听");var i=this;this.pingInterval=o.default.pingInterval,this.timeoutObj=null,e.onSocketMessage((function(o){var r=JSON.parse(o.data);if(console.log("监听该服务器消息",o),"close"==r.type)return clearInterval(i.timeoutObj),i.timeoutObj=null,void e.closeSocket();t.reset(),t.getSocketMsg(o.data)}))},getSocketMsg:function(e){var t=this,i=JSON.parse(e),o={isItMe:!1};if(o.contentType=i.type,"init"==i.type)t.$api.sendRequest({url:"/servicer/api/chat/bind",data:{client_id:i.data.client_id,site_id:t.siteId},success:function(e){0==e.code?t.servicer_id=e.data.servicer_id:t.servicer_id=0,t.getChatList()}});else{if("connect"==i.type)return!1;"string"==i.type?o.content=i.data.servicer_say:"image"==i.type?o.image=i.data.servicer_say:"order"==i.type?o.order_id=i.data.order_id:"goodssku"==i.type&&(o.sku_id=i.data.goods_sku_id)}"init"!=i.type&&(t.messageList.push(o),t.$nextTick((function(){t.setPageScrollTo()})))},reset:function(){console.log("检测心跳"),clearInterval(this.timeoutObj),this.start()},start:function(){console.log("启动心跳");var t=this;this.timeoutObj=setInterval((function(){e.sendSocketMessage({data:"ping",success:function(e){console.log("连接中....")},fail:function(e){console.log("连接失败重新连接...."),t.openConnection()}})}),this.pingInterval)}},onUnload:function(){clearInterval(this.timeoutObj),this.timeoutObj=null,this.$api.sendRequest({url:"/servicer/api/chat/bye",data:{servicer_id:this.servicer_id,site_id:this.siteId},success:function(t){e.closeSocket()},fail:function(t){e.closeSocket()}})}};t.default=n}).call(this,i("543d")["default"])},"1f69":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"提现详情"};t.lang=o},2221:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"公告列表",emptyText:"当前暂无更多信息",contentTitle:"升级公告"};t.lang=o},"235a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"提现记录"};t.lang=o},"261b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},"269c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},"26cb":function(e,t,i){"use strict";(function(t){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function i(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:o});else{var i=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[o].concat(e.init):o,i.call(this,e)}}function o(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}var o="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},r=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(e){r&&(e._devtoolHook=r,r.emit("vuex:init",e),r.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){r.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){r.emit("vuex:action",e,t)}),{prepend:!0}))}function a(e,t){return e.filter(t)[0]}function s(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var i=a(t,(function(t){return t.original===e}));if(i)return i.copy;var o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.keys(e).forEach((function(i){o[i]=s(e[i],t)})),o}function c(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function u(e){return null!==e&&"object"===typeof e}function l(e){return e&&"function"===typeof e.then}function d(e,t){return function(){return e(t)}}var f=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"===typeof i?i():i)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(e,t){this._children[e]=t},f.prototype.removeChild=function(e){delete this._children[e]},f.prototype.getChild=function(e){return this._children[e]},f.prototype.hasChild=function(e){return e in this._children},f.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},f.prototype.forEachChild=function(e){c(this._children,e)},f.prototype.forEachGetter=function(e){this._rawModule.getters&&c(this._rawModule.getters,e)},f.prototype.forEachAction=function(e){this._rawModule.actions&&c(this._rawModule.actions,e)},f.prototype.forEachMutation=function(e){this._rawModule.mutations&&c(this._rawModule.mutations,e)},Object.defineProperties(f.prototype,h);var p=function(e){this.register([],e,!1)};function m(e,t,i){if(t.update(i),i.modules)for(var o in i.modules){if(!t.getChild(o))return void 0;m(e.concat(o),t.getChild(o),i.modules[o])}}p.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},p.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")}),"")},p.prototype.update=function(e){m([],this.root,e)},p.prototype.register=function(e,t,i){var o=this;void 0===i&&(i=!0);var r=new f(t,i);if(0===e.length)this.root=r;else{var n=this.get(e.slice(0,-1));n.addChild(e[e.length-1],r)}t.modules&&c(t.modules,(function(t,r){o.register(e.concat(r),t,i)}))},p.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],o=t.getChild(i);o&&o.runtime&&t.removeChild(i)},p.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var g;var _=function(e){var t=this;void 0===e&&(e={}),!g&&"undefined"!==typeof window&&window.Vue&&j(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var o=e.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var r=this,a=this,s=a.dispatch,c=a.commit;this.dispatch=function(e,t){return s.call(r,e,t)},this.commit=function(e,t,i){return c.call(r,e,t,i)},this.strict=o;var u=this._modules.root.state;D(this,u,[],this._modules.root),w(this,u),i.forEach((function(e){return e(t)}));var l=void 0!==e.devtools?e.devtools:g.config.devtools;l&&n(this)},v={state:{configurable:!0}};function y(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function b(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;D(e,i,[],e._modules.root,!0),w(e,i,t)}function w(e,t,i){var o=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,n={};c(r,(function(t,i){n[i]=d(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var a=g.config.silent;g.config.silent=!0,e._vm=new g({data:{$$state:t},computed:n}),g.config.silent=a,e.strict&&x(e),o&&(i&&e._withCommit((function(){o._data.$$state=null})),g.nextTick((function(){return o.$destroy()})))}function D(e,t,i,o,r){var n=!i.length,a=e._modules.getNamespace(i);if(o.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=o),!n&&!r){var s=I(t,i.slice(0,-1)),c=i[i.length-1];e._withCommit((function(){g.set(s,c,o.state)}))}var u=o.context=S(e,a,i);o.forEachMutation((function(t,i){var o=a+i;$(e,o,t,u)})),o.forEachAction((function(t,i){var o=t.root?i:a+i,r=t.handler||t;P(e,o,r,u)})),o.forEachGetter((function(t,i){var o=a+i;C(e,o,t,u)})),o.forEachChild((function(o,n){D(e,t,i.concat(n),o,r)}))}function S(e,t,i){var o=""===t,r={dispatch:o?e.dispatch:function(i,o,r){var n=T(i,o,r),a=n.payload,s=n.options,c=n.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:o?e.commit:function(i,o,r){var n=T(i,o,r),a=n.payload,s=n.options,c=n.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(r,{getters:{get:o?function(){return e.getters}:function(){return k(e,t)}},state:{get:function(){return I(e.state,i)}}}),r}function k(e,t){if(!e._makeLocalGettersCache[t]){var i={},o=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,o)===t){var n=r.slice(o);Object.defineProperty(i,n,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}function $(e,t,i,o){var r=e._mutations[t]||(e._mutations[t]=[]);r.push((function(t){i.call(e,o.state,t)}))}function P(e,t,i,o){var r=e._actions[t]||(e._actions[t]=[]);r.push((function(t){var r=i.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return l(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):r}))}function C(e,t,i,o){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return i(o.state,o.getters,e.state,e.getters)})}function x(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function I(e,t){return t.reduce((function(e,t){return e[t]}),e)}function T(e,t,i){return u(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function j(e){g&&e===g||(g=e,i(g))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(e){0},_.prototype.commit=function(e,t,i){var o=this,r=T(e,t,i),n=r.type,a=r.payload,s=(r.options,{type:n,payload:a}),c=this._mutations[n];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,o.state)})))},_.prototype.dispatch=function(e,t){var i=this,o=T(e,t),r=o.type,n=o.payload,a={type:r,payload:n},s=this._actions[r];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,i.state)}))}catch(u){0}var c=s.length>1?Promise.all(s.map((function(e){return e(n)}))):s[0](n);return new Promise((function(e,t){c.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,i.state)}))}catch(u){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,i.state,e)}))}catch(u){0}t(e)}))}))}},_.prototype.subscribe=function(e,t){return y(e,this._subscribers,t)},_.prototype.subscribeAction=function(e,t){var i="function"===typeof e?{before:e}:e;return y(i,this._actionSubscribers,t)},_.prototype.watch=function(e,t,i){var o=this;return this._watcherVM.$watch((function(){return e(o.state,o.getters)}),t,i)},_.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},_.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),D(this,this.state,e,this._modules.get(e),i.preserveState),w(this,this.state)},_.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=I(t.state,e.slice(0,-1));g.delete(i,e[e.length-1])})),b(this)},_.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},_.prototype[[104,111,116,85,112,100,97,116,101].map(e=>String.fromCharCode(e)).join("")]=function(e){this._modules.update(e),b(this,!0)},_.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(_.prototype,v);var O=N((function(e,t){var i={};return R(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var o=U(this.$store,"mapState",e);if(!o)return;t=o.context.state,i=o.context.getters}return"function"===typeof r?r.call(this,t,i):t[r]},i[o].vuex=!0})),i})),M=N((function(e,t){var i={};return R(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var o=this.$store.commit;if(e){var n=U(this.$store,"mapMutations",e);if(!n)return;o=n.context.commit}return"function"===typeof r?r.apply(this,[o].concat(t)):o.apply(this.$store,[r].concat(t))}})),i})),E=N((function(e,t){var i={};return R(t).forEach((function(t){var o=t.key,r=t.val;r=e+r,i[o]=function(){if(!e||U(this.$store,"mapGetters",e))return this.$store.getters[r]},i[o].vuex=!0})),i})),A=N((function(e,t){var i={};return R(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var o=this.$store.dispatch;if(e){var n=U(this.$store,"mapActions",e);if(!n)return;o=n.context.dispatch}return"function"===typeof r?r.apply(this,[o].concat(t)):o.apply(this.$store,[r].concat(t))}})),i})),L=function(e){return{mapState:O.bind(null,e),mapGetters:E.bind(null,e),mapMutations:M.bind(null,e),mapActions:A.bind(null,e)}};function R(e){return F(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function F(e){return Array.isArray(e)||u(e)}function N(e){return function(t,i){return"string"!==typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function U(e,t,i){var o=e._modulesNamespaceMap[i];return o}function B(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var o=e.transformer;void 0===o&&(o=function(e){return e});var r=e.mutationTransformer;void 0===r&&(r=function(e){return e});var n=e.actionFilter;void 0===n&&(n=function(e,t){return!0});var a=e.actionTransformer;void 0===a&&(a=function(e){return e});var c=e.logMutations;void 0===c&&(c=!0);var u=e.logActions;void 0===u&&(u=!0);var l=e.logger;return void 0===l&&(l=console),function(e){var d=s(e.state);"undefined"!==typeof l&&(c&&e.subscribe((function(e,n){var a=s(n);if(i(e,d,a)){var c=V(),u=r(e),f="mutation "+e.type+c;z(l,f,t),l.log("%c prev state","color: #9E9E9E; font-weight: bold",o(d)),l.log("%c mutation","color: #03A9F4; font-weight: bold",u),l.log("%c next state","color: #4CAF50; font-weight: bold",o(a)),q(l)}d=a})),u&&e.subscribeAction((function(e,i){if(n(e,i)){var o=V(),r=a(e),s="action "+e.type+o;z(l,s,t),l.log("%c action","color: #03A9F4; font-weight: bold",r),q(l)}})))}}function z(e,t,i){var o=i?e.groupCollapsed:e.group;try{o.call(e,t)}catch(r){e.log(t)}}function q(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function V(){var e=new Date;return" @ "+G(e.getHours(),2)+":"+G(e.getMinutes(),2)+":"+G(e.getSeconds(),2)+"."+G(e.getMilliseconds(),3)}function H(e,t){return new Array(t+1).join(e)}function G(e,t){return H("0",t-e.toString().length)+e}var W={Store:_,install:j,version:"3.6.2",mapState:O,mapMutations:M,mapGetters:E,mapActions:A,createNamespacedHelpers:L,createLogger:B};e.exports=W}).call(this,i("c8ba"))},"28cb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{goodsRoute:"/pages_promotion/bargain/detail",posterApi:"/bargain/api/goods/poster",bargain_id:0,maxBuy:1}},onLoad:function(e){var t=this;return a(o.default.mark((function i(){var r;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.bargain_id=e.bargain_id||0,e.id&&(t.bargain_id=e.id),e.scene&&(r=decodeURIComponent(e.scene),r=r.split("&"),r.length&&r.forEach((function(e){-1!=e.indexOf("id")&&(t.bargain_id=e.split("-")[1])})));case 3:case"end":return i.stop()}}),i)})))()},onShow:function(){var e=this;return a(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsSkuDetail();case 2:case"end":return t.stop()}}),t)})))()},methods:{getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/bargain/api/goods/detail",async:!1,data:{bargain_id:e.bargain_id}});case 2:i=t.sent,r=i.data,null!=r.goods_sku_detail?(e.goodsSkuDetail=r.goods_sku_detail,e.goodsSkuDetail.stock=e.goodsSkuDetail.bargain_stock,e.skuId=e.goodsSkuDetail.sku_id,e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)),e.shareQuery="bargain_id="+e.bargain_id,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id,type:"bargain",type_id:e.goodsSkuDetail.bargain_id},e.posterParams={id:e.goodsSkuDetail.bargain_id},e.handleGoodsSkuData(),e.goodsSkuDetail.show_price=e.goodsSkuDetail.floor_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.$refs.loadingCover&&e.$refs.loadingCover.hide()):e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 5:case"end":return t.stop()}}),t)})))()},bargain:function(){var e=this;this.token?this.goodsSkuDetail.sku_spec_format?this.$refs.goodsSku.show("bargain",(function(){})):this.$api.sendRequest({url:"/bargain/api/bargain/launch",data:{id:this.goodsSkuDetail.id},success:function(t){0==t.code?e.$util.redirectTo("/pages_promotion/bargain/launch",{id:t.data},"redirectTo"):e.$util.showToast({title:t.message})}}):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)}}};t.default=s},"2a50":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"2b5c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品找不到"};t.lang=o},"2b6e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"2b8f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账单"};t.lang=o},"2cde":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"2d20":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"礼品订单"};t.lang=o},"2e19":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"支付方式",paymentAmount:"支付金额",confirmPayment:"确认支付",seeOrder:"查看订单"};t.lang=o},"2f60":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Zhi:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarTerm:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["日","一","二","三","四","五","六","七","八","九","十"],nStr2:["初","十","廿","卅"],nStr3:["正","二","三","四","五","六","七","八","九","十","冬","腊"],lYearDays:function(e){var t,i=348;for(t=32768;t>8;t>>=1)i+=this.lunarInfo[e-1900]&t?1:0;return i+this.leapDays(e)},leapMonth:function(e){return 15&this.lunarInfo[e-1900]},leapDays:function(e){return this.leapMonth(e)?65536&this.lunarInfo[e-1900]?30:29:0},monthDays:function(e,t){return t>12||t<1?-1:this.lunarInfo[e-1900]&65536>>t?30:29},solarDays:function(e,t){if(t>12||t<1)return-1;var i=t-1;return 1==i?e%4==0&&e%100!=0||e%400==0?29:28:this.solarMonth[i]},toGanZhiYear:function(e){var t=(e-3)%10,i=(e-3)%12;return 0==t&&(t=10),0==i&&(i=12),this.Gan[t-1]+this.Zhi[i-1]},toAstro:function(e,t){var i="魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯",o=[20,19,21,21,21,22,23,23,23,23,22,22];return i.substr(2*e-(t<o[e-1]?2:0),2)+"座"},toGanZhi:function(e){return this.Gan[e%10]+this.Zhi[e%12]},getTerm:function(e,t){if(e<1900||e>2100)return-1;if(t<1||t>24)return-1;var i=this.sTermInfo[e-1900],o=[parseInt("0x"+i.substr(0,5)).toString(),parseInt("0x"+i.substr(5,5)).toString(),parseInt("0x"+i.substr(10,5)).toString(),parseInt("0x"+i.substr(15,5)).toString(),parseInt("0x"+i.substr(20,5)).toString(),parseInt("0x"+i.substr(25,5)).toString()],r=[o[0].substr(0,1),o[0].substr(1,2),o[0].substr(3,1),o[0].substr(4,2),o[1].substr(0,1),o[1].substr(1,2),o[1].substr(3,1),o[1].substr(4,2),o[2].substr(0,1),o[2].substr(1,2),o[2].substr(3,1),o[2].substr(4,2),o[3].substr(0,1),o[3].substr(1,2),o[3].substr(3,1),o[3].substr(4,2),o[4].substr(0,1),o[4].substr(1,2),o[4].substr(3,1),o[4].substr(4,2),o[5].substr(0,1),o[5].substr(1,2),o[5].substr(3,1),o[5].substr(4,2)];return parseInt(r[t-1])},toChinaMonth:function(e){if(e>12||e<1)return-1;var t=this.nStr3[e-1];return t+="月",t},toChinaDay:function(e){var t;switch(e){case 10:t="初十";break;case 20:t="二十";break;case 30:t="三十";break;default:t=this.nStr2[Math.floor(e/10)],t+=this.nStr1[e%10]}return t},getAnimal:function(e){return this.Animals[(e-4)%12]},solar2lunar:function(e,t,i){if(e<1900||e>2100)return-1;if(1900==e&&1==t&&i<31)return-1;if(e)o=new Date(e,parseInt(t)-1,i);else var o=new Date;var r,n=0,a=0,s=(e=o.getFullYear(),t=o.getMonth()+1,i=o.getDate(),(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())-Date.UTC(1900,0,31))/864e5);for(r=1900;r<2101&&s>0;r++)a=this.lYearDays(r),s-=a;s<0&&(s+=a,r--);var c=new Date,u=!1;c.getFullYear()==e&&c.getMonth()+1==t&&c.getDate()==i&&(u=!0);var l=o.getDay(),d=this.nStr1[l];0==l&&(l=7);var f=r,h=(n=this.leapMonth(r),!1);for(r=1;r<13&&s>0;r++)n>0&&r==n+1&&0==h?(--r,h=!0,a=this.leapDays(f)):a=this.monthDays(f,r),1==h&&r==n+1&&(h=!1),s-=a;0==s&&n>0&&r==n+1&&(h?h=!1:(h=!0,--r)),s<0&&(s+=a,--r);var p=r,m=s+1,g=t-1,_=this.toGanZhiYear(f),v=this.getTerm(e,2*t-1),y=this.getTerm(e,2*t),b=this.toGanZhi(12*(e-1900)+t+11);i>=v&&(b=this.toGanZhi(12*(e-1900)+t+12));var w=!1,D=null;v==i&&(w=!0,D=this.solarTerm[2*t-2]),y==i&&(w=!0,D=this.solarTerm[2*t-1]);var S=Date.UTC(e,g,1,0,0,0,0)/864e5+25567+10,k=this.toGanZhi(S+i-1),$=this.toAstro(t,i);return{lYear:f,lMonth:p,lDay:m,Animal:this.getAnimal(f),IMonthCn:(h?"闰":"")+this.toChinaMonth(p),IDayCn:this.toChinaDay(m),cYear:e,cMonth:t,cDay:i,gzYear:_,gzMonth:b,gzDay:k,isToday:u,isLeap:h,nWeek:l,ncWeek:"星期"+d,isTerm:w,Term:D,astro:$}},lunar2solar:function(e,t,i,o){o=!!o;var r=this.leapMonth(e);this.leapDays(e);if(o&&r!=t)return-1;if(2100==e&&12==t&&i>1||1900==e&&1==t&&i<31)return-1;var n=this.monthDays(e,t),a=n;if(o&&(a=this.leapDays(e,t)),e<1900||e>2100||i>a)return-1;for(var s=0,c=1900;c<e;c++)s+=this.lYearDays(c);var u=0,l=!1;for(c=1;c<t;c++)u=this.leapMonth(e),l||u<=c&&u>0&&(s+=this.leapDays(e),l=!0),s+=this.monthDays(e,c);o&&(s+=n);var d=Date.UTC(1900,1,30,0,0,0),f=new Date(864e5*(s+i-31)+d),h=f.getUTCFullYear(),p=f.getUTCMonth()+1,m=f.getUTCDate();return this.solar2lunar(h,p,m)}},r=o;t.default=r},"30e8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"充值详情"};t.lang=o},"34b0":function(e,t){},3507:function(e,t,i){"use strict";(function(e){function i(e,t){var i=this;i.version="1.2.3",i.options=e||{},i.isScrollBody=t||!1,i.isDownScrolling=!1,i.isUpScrolling=!1;var o=i.options.down&&i.options.down.callback;i.initDownScroll(),i.initUpScroll(),setTimeout((function(){i.optDown.use&&i.optDown.auto&&o&&(i.optDown.autoShowLoading?i.triggerDownScroll():i.optDown.callback&&i.optDown.callback(i)),setTimeout((function(){i.optUp.use&&i.optUp.auto&&!i.isUpAutoLoad&&i.triggerUpScroll()}),100)}),30)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.extendDownScroll=function(e){i.extend(e,{use:!0,auto:!0,native:!1,autoShowLoading:!1,isLock:!1,offset:80,startTop:100,fps:80,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",inited:null,inOffset:null,outOffset:null,onMoving:null,beforeLoading:null,showLoading:null,afterLoading:null,endDownScroll:null,callback:function(e){e.resetUpScroll()}})},i.prototype.extendUpScroll=function(e){i.extend(e,{use:!0,auto:!0,isLock:!1,isBoth:!0,isBounce:!1,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:80,textLoading:"加载中 ...",textNoMore:"-- END --",inited:null,showLoading:null,showNoMore:null,hideUpScroll:null,errDistance:60,toTop:{src:null,offset:1e3,duration:300,btnClick:null,onShow:null,zIndex:9990,left:null,right:20,bottom:120,safearea:!1,width:72,radius:"50%"},empty:{use:!0,icon:null,tip:"~ 暂无相关数据 ~",btnText:"",btnClick:null,onShow:null,fixed:!1,top:"100rpx",zIndex:99},onScroll:!1})},i.extend=function(e,t){if(!e)return t;for(var o in t)if(null==e[o]){var r=t[o];e[o]=null!=r&&"object"===typeof r?i.extend({},r):r}else"object"===typeof e[o]&&i.extend(e[o],t[o]);return e},i.prototype.initDownScroll=function(){var e=this;e.optDown=e.options.down||{},e.extendDownScroll(e.optDown),e.isScrollBody&&e.optDown.native?e.optDown.use=!1:e.optDown.native=!1,e.downHight=0,e.optDown.use&&e.optDown.inited&&setTimeout((function(){e.optDown.inited(e)}),0)},i.prototype.touchstartEvent=function(e){this.optDown.use&&(this.startPoint=this.getPoint(e),this.startTop=this.getScrollTop(),this.lastPoint=this.startPoint,this.maxTouchmoveY=this.getBodyHeight()-this.optDown.bottomOffset,this.inTouchend=!1)},i.prototype.touchmoveEvent=function(e){if(this.optDown.use&&this.startPoint){var t=this,i=(new Date).getTime();if(!(t.moveTime&&i-t.moveTime<t.moveTimeDiff)){t.moveTime=i,t.moveTimeDiff||(t.moveTimeDiff=1e3/t.optDown.fps);var o=t.getScrollTop(),r=t.getPoint(e),n=r.y-t.startPoint.y;if(n>0&&(t.isScrollBody&&o<=0||!t.isScrollBody&&(o<=0||o<=t.optDown.startTop&&o===t.startTop))&&!t.inTouchend&&!t.isDownScrolling&&!t.optDown.isLock&&(!t.isUpScrolling||t.isUpScrolling&&t.optUp.isBoth)){var a=t.getAngle(t.lastPoint,r);if(a<t.optDown.minAngle)return;if(t.maxTouchmoveY>0&&r.y>=t.maxTouchmoveY)return t.inTouchend=!0,void t.touchendEvent();t.preventDefault(e);var s=r.y-t.lastPoint.y;t.downHight<t.optDown.offset?(1!==t.movetype&&(t.movetype=1,t.optDown.inOffset&&t.optDown.inOffset(t),t.isMoveDown=!0),t.downHight+=s*t.optDown.inOffsetRate):(2!==t.movetype&&(t.movetype=2,t.optDown.outOffset&&t.optDown.outOffset(t),t.isMoveDown=!0),t.downHight+=s>0?Math.round(s*t.optDown.outOffsetRate):s);var c=t.downHight/t.optDown.offset;t.optDown.onMoving&&t.optDown.onMoving(t,c,t.downHight)}t.lastPoint=r}}},i.prototype.touchendEvent=function(e){if(this.optDown.use)if(this.isMoveDown)this.downHight>=this.optDown.offset?this.triggerDownScroll():(this.downHight=0,this.optDown.endDownScroll&&this.optDown.endDownScroll(this)),this.movetype=0,this.isMoveDown=!1;else if(!this.isScrollBody&&this.getScrollTop()===this.startTop){var t=this.getPoint(e).y-this.startPoint.y<0;if(t){var i=this.getAngle(this.getPoint(e),this.startPoint);i>80&&this.triggerUpScroll(!0)}}},i.prototype.getPoint=function(e){return e?e.touches&&e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.clientX,y:e.clientY}:{x:0,y:0}},i.prototype.getAngle=function(e,t){var i=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),r=Math.sqrt(i*i+o*o),n=0;return 0!==r&&(n=Math.asin(o/r)/Math.PI*180),n},i.prototype.triggerDownScroll=function(){this.optDown.beforeLoading&&this.optDown.beforeLoading(this)||(this.showDownScroll(),this.optDown.callback&&this.optDown.callback(this))},i.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.native?(e.startPullDownRefresh(),this.optDown.showLoading&&this.optDown.showLoading(this,0)):(this.downHight=this.optDown.offset,this.optDown.showLoading&&this.optDown.showLoading(this,this.downHight))},i.prototype.onPullDownRefresh=function(){this.isDownScrolling=!0,this.optDown.showLoading&&this.optDown.showLoading(this,0),this.optDown.callback&&this.optDown.callback(this)},i.prototype.endDownScroll=function(){if(this.optDown.native)return this.isDownScrolling=!1,this.optDown.endDownScroll&&this.optDown.endDownScroll(this),void e.stopPullDownRefresh();var t=this,i=function(){t.downHight=0,t.isDownScrolling=!1,t.optDown.endDownScroll&&t.optDown.endDownScroll(t),!t.isScrollBody&&t.setScrollHeight(0)},o=0;t.optDown.afterLoading&&(o=t.optDown.afterLoading(t)),"number"===typeof o&&o>0?setTimeout(i,o):i()},i.prototype.lockDownScroll=function(e){null==e&&(e=!0),this.optDown.isLock=e},i.prototype.lockUpScroll=function(e){null==e&&(e=!0),this.optUp.isLock=e},i.prototype.initUpScroll=function(){var e=this;e.optUp=e.options.up||{use:!1},e.extendUpScroll(e.optUp),e.optUp.isBounce||e.setBounce(!1),!1!==e.optUp.use&&(e.optUp.hasNext=!0,e.startNum=e.optUp.page.num+1,e.optUp.inited&&setTimeout((function(){e.optUp.inited(e)}),0))},i.prototype.onReachBottom=function(){this.isScrollBody&&!this.isUpScrolling&&!this.optUp.isLock&&this.optUp.hasNext&&this.triggerUpScroll()},i.prototype.onPageScroll=function(e){this.isScrollBody&&(this.setScrollTop(e.scrollTop),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn())},i.prototype.scroll=function(e,t){this.setScrollTop(e.scrollTop),this.setScrollHeight(e.scrollHeight),null==this.preScrollY&&(this.preScrollY=0),this.isScrollUp=e.scrollTop-this.preScrollY>0,this.preScrollY=e.scrollTop,this.isScrollUp&&this.triggerUpScroll(!0),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn(),this.optUp.onScroll&&t&&t()},i.prototype.triggerUpScroll=function(e){if(!this.isUpScrolling&&this.optUp.use&&this.optUp.callback){if(!0===e){var t=!1;if(!this.optUp.hasNext||this.optUp.isLock||this.isDownScrolling||this.getScrollBottom()<=this.optUp.offset&&(t=!0),!1===t)return}this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.num=this.optUp.page.num,this.size=this.optUp.page.size,this.time=this.optUp.page.time,this.optUp.callback(this)}},i.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.optUp.showLoading&&this.optUp.showLoading(this)},i.prototype.showNoMore=function(){this.optUp.hasNext=!1,this.optUp.showNoMore&&this.optUp.showNoMore(this)},i.prototype.hideUpScroll=function(){this.optUp.hideUpScroll&&this.optUp.hideUpScroll(this)},i.prototype.endUpScroll=function(e){null!=e&&(e?this.showNoMore():this.hideUpScroll()),this.isUpScrolling=!1},i.prototype.resetUpScroll=function(e){if(this.optUp&&this.optUp.use){var t=this.optUp.page;this.prePageNum=t.num,this.prePageTime=t.time,t.num=this.startNum,t.time=null,this.isDownScrolling||!1===e||(null==e?(this.removeEmpty(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.num=t.num,this.size=t.size,this.time=t.time,this.optUp.callback&&this.optUp.callback(this)}},i.prototype.setPageNum=function(e){this.optUp.page.num=e-1},i.prototype.setPageSize=function(e){this.optUp.page.size=e},i.prototype.endByPage=function(e,t,i){var o;this.optUp.use&&null!=t&&(o=this.optUp.page.num<t),this.endSuccess(e,o,i)},i.prototype.endBySize=function(e,t,i){var o;if(this.optUp.use&&null!=t){var r=(this.optUp.page.num-1)*this.optUp.page.size+e;o=r<t}this.endSuccess(e,o,i)},i.prototype.endSuccess=function(e,t,i){var o=this;if(o.isDownScrolling&&o.endDownScroll(),o.optUp.use){var r;if(null!=e){var n=o.optUp.page.num,a=o.optUp.page.size;if(1===n&&i&&(o.optUp.page.time=i),e<a||!1===t)if(o.optUp.hasNext=!1,0===e&&1===n)r=!1,o.showEmpty();else{var s=(n-1)*a+e;r=!(s<o.optUp.noMoreSize),o.removeEmpty()}else r=!1,o.optUp.hasNext=!0,o.removeEmpty()}o.endUpScroll(r)}},i.prototype.endErr=function(e){if(this.isDownScrolling){var t=this.optUp.page;t&&this.prePageNum&&(t.num=this.prePageNum,t.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1),this.isScrollBody&&0!==e&&(e||(e=this.optUp.errDistance),this.scrollTo(this.getScrollTop()-e,0)))},i.prototype.showEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!0)},i.prototype.removeEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!1)},i.prototype.showTopBtn=function(){this.topBtnShow||(this.topBtnShow=!0,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!0))},i.prototype.hideTopBtn=function(){this.topBtnShow&&(this.topBtnShow=!1,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!1))},i.prototype.getScrollTop=function(){return this.scrollTop||0},i.prototype.setScrollTop=function(e){this.scrollTop=e},i.prototype.scrollTo=function(e,t){this.myScrollTo&&this.myScrollTo(e,t)},i.prototype.resetScrollTo=function(e){this.myScrollTo=e},i.prototype.getScrollBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},i.prototype.getStep=function(e,t,i,o,r){var n=t-e;if(0!==o&&0!==n){o=o||300,r=r||30;var a=o/r,s=n/a,c=0,u=setInterval((function(){c<a-1?(e+=s,i&&i(e,u),c++):(i&&i(t,u),clearInterval(u))}),r)}else i&&i(t)},i.prototype.getClientHeight=function(e){var t=this.clientHeight||0;return 0===t&&!0!==e&&(t=this.getBodyHeight()),t},i.prototype.setClientHeight=function(e){this.clientHeight=e},i.prototype.getScrollHeight=function(){return this.scrollHeight||0},i.prototype.setScrollHeight=function(e){this.scrollHeight=e},i.prototype.getBodyHeight=function(){return this.bodyHeight||0},i.prototype.setBodyHeight=function(e){this.bodyHeight=e},i.prototype.preventDefault=function(e){e&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()},i.prototype.setBounce=function(e){}}).call(this,i("543d")["default"])},3589:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"砍价详情"};t.lang=o},"358f":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{authInfo:{}}},methods:{getCode:function(t){var i=this;e.login({provider:"weixin",timeout:3e3,success:function(e){e.code&&i.$api.sendRequest({url:"/weapp/api/weapp/authcodetoopenid",data:{code:e.code},success:function(e){e.code>=0&&(e.data.openid&&(i.authInfo.weapp_openid=e.data.openid),e.data.unionid&&(i.authInfo.wx_unionid=e.data.unionid),"function"==typeof t&&t(i.authInfo))}})},fail:function(){i.$util.showToast({title:"请求失败"})}})},getUserInfo:function(){var t=this;wx.getUserProfile||e.getUserInfo({success:function(e){"getUserInfo:ok"==e.errMsg&&(e.userInfo.nickName&&(t.authInfo.nickName=e.userInfo.nickName),e.userInfo.avatarUrl&&(t.authInfo.avatarUrl=e.userInfo.avatarUrl))}})},handleAuthInfo:function(){try{this.checkOpenidIsExits()}catch(e){}}},onLoad:function(e){var t=this;e.code&&this.$util.isWeiXin()&&this.$api.sendRequest({url:"/wechat/api/wechat/authcodetoopenid",data:{code:e.code},success:function(e){e.code>=0&&(e.data.openid&&(t.authInfo.wx_openid=e.data.openid),e.data.unionid&&(t.authInfo.wx_unionid=e.data.unionid),Object.assign(t.authInfo,e.data.userinfo),t.handleAuthInfo())}})}};t.default=i}).call(this,i("543d")["default"])},"35e1":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(i("b29b"));function o(e){return e&&e.__esModule?e:{default:e}}var r=e.getSystemInfoSync(),n={data:function(){return{diyData:{global:{title:"",popWindow:{imageUrl:"",count:-1,link:{},imgWidth:"",imgHeight:""}}},memberId:0,name:"",isDefault:"",store:{},storeId:0,pageHeight:"0",headerHeight:"0",bottomHeight:"0",topIndexValue:null,statusBarHeight:r.statusBarHeight,collectTop:44,showTip:!1,mpCollect:!1,mpShareData:null,diyPageReturn:[]}},onLoad:function(t){if(e.hideTabBar(),this.name=t.name||"DIY_VIEW_INDEX",this.isDefault=t.is_default||"",this.storeId=t.store_id||0,t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var i=decodeURIComponent(t.scene);i=i.split("&"),i.length&&i.forEach((function(t){-1!=t.indexOf("m")&&e.setStorageSync("source_member",t.split("-")[1])}))}},onShow:function(){var t=this;e.getStorageSync("token")&&this.$util.getMemberId().then((function(e){t.memberId=e})),"DIY_VIEW_INDEX"==this.name&&this.siteInfo&&this.$langConfig.title(this.siteInfo.site_name),this.store=e.getStorageSync("store")?e.getStorageSync("store"):{},this.store&&(this.storeId=this.store.store_id),this.getDiyInfo(),this.getHeight(),e.getStorageSync("token")&&e.getStorageSync("source_member")&&this.$util.onSourceMember(e.getStorageSync("source_member")),this.$util.getMpShare().then((function(e){t.mpShareData=e}))},computed:{bgColor:function(){var e="";return this.diyData&&this.diyData.global&&(e=this.diyData.global.pageBgColor),e},bgImg:function(){var e="";return this.diyData&&this.diyData.global&&(e=this.diyData.global.topNavBg?"url("+this.$util.img(this.diyData.global.bgUrl)+")":this.diyData.global.pageBgColor),e},bgUrl:function(){var e="";return this.diyData&&this.diyData.global&&(e=this.diyData.global.topNavBg?"transparent":this.diyData.global.bgUrl),e},bgNav:function(){return this.diyData.global.topNavColor?{background:this.diyData.global.topNavColor}:{background:"#ffffff"}},backgroundUrl:function(){var e=this.bgUrl&&"transparent"!=this.bgUrl?"background:url("+this.$util.img(this.bgUrl)+") no-repeat 0 0/100%":"";return e},textNavColor:function(){return this.diyData&&this.diyData.global&&this.diyData.global.textNavColor?this.diyData.global.textNavColor:"#ffffff"},openBottomNav:function(){var e=!1;return this.diyData&&this.diyData.global&&(e=this.diyData.global.openBottomNav),e},globalS:function(){return this.diyData.global},popWindowStyle:function(){var e,t,i=290,o=410,r=290,n=290,a=this.diyData.global.popWindow.imgHeight/this.diyData.global.popWindow.imgWidth;a<n/r?(e=i,t=e*a):(t=o,e=t/a);var s="";return this.diyData.global.popWindow&&-1!=this.diyData.global.popWindow.count&&this.diyData.global.popWindow.imageUrl&&(s+="height:"+2*t+"rpx;",s+="width:"+2*e+"rpx;"),s},scrollHeight:function(){return void 0!=this.pageHeight&&void 0!=this.headerHeight&&void 0!=this.bottomHeight?"calc("+2*this.pageHeight+"rpx - "+this.headerHeight+" - "+this.bottomHeight+")":"100vh"},scrollTopHeight:function(){return void 0!=this.pageHeight&&void 0!=this.headerHeight&&void 0!=this.bottomHeight?"calc("+2*this.pageHeight+"rpx - "+this.headerHeight+" - "+this.bottomHeight+" - 80rpx)":"100vh"}},methods:{callback:function(){this.$refs.indexPage&&this.$refs.indexPage.initPageIndex()},getHeight:function(){var t=this;e.getSystemInfo({success:function(e){t.pageHeight=e.screenHeight}}),this.$nextTick((function(){var i=e.createSelectorQuery().in(t);i.select(".page-header").boundingClientRect((function(e){t.headerHeight=2*e.height+"rpx"})).exec()})),this.$nextTick((function(){var i=e.createSelectorQuery().in(t);i.select(".page-bottom").boundingClientRect((function(e){t.bottomHeight="110rpx"})).exec()}))},getDiyInfo:function(t){var i=this;this.diyPageReturn=e.getStorageSync("diy_page_route"),e.getStorageSync("diy_name")&&(this.name=e.getStorageSync("diy_name"),t=!0,e.removeStorageSync("diy_name")),this.$api.sendRequest({url:"/api/diyview/info",data:{name:this.name,is_default:this.isDefault},success:function(o){if(0!=o.code||!o.data)return i.$refs.loadingCover&&i.$refs.loadingCover.hide(),void(i.diyData={});var r=o.data;if(r.value){i.diyData=JSON.parse(r.value),"DIY_VIEW_INDEX"==i.name&&i.siteInfo?i.diyData.global.title=i.siteInfo.site_name:i.$langConfig.title(i.diyData.global.title),i.mpCollect=i.diyData.global.mpCollect,i.diyData.global.popWindow&&i.diyData.global.popWindow.imageUrl&&setTimeout((function(){if(1==i.diyData.global.popWindow.count){var t=e.getStorageSync(i.name+"_popwindow_count");(i.$refs.uniPopupWindow&&""==t||i.$refs.uniPopupWindow&&1==t)&&(i.$refs.uniPopupWindow.open(),e.setStorageSync(i.name+"_popwindow_count",1))}else 0==i.diyData.global.popWindow.count&&(i.$refs.uniPopupWindow.open(),e.setStorageSync(i.name+"_popwindow_count",0))}),500);for(var n=0;n<i.diyData.value.length;n++)if("TopCategory"==i.diyData.value[n].componentName){i.topIndexValue=i.diyData.value[n];break}!e.getStorageSync("isCollect")&&i.diyData.global.mpCollect&&(i.$refs.collectPopupWindow.open(),i.showTip=!0),t&&i.$refs.diyGroup&&i.$refs.diyGroup.refresh(i.diyData)}setTimeout((function(){i.$refs.loadingCover&&i.$refs.loadingCover.hide()}),150)}})},diyPageFn:function(){var t={wap_url:"/pages/index/index?&is_default="+this.isDefault+"name="};t.wap_url+=this.diyPageReturn[this.diyPageReturn.length-2],t.name=this.diyPageReturn[this.diyPageReturn.length-2],this.diyPageReturn.pop(),e.setStorageSync("diy_page_route",this.diyPageReturn),this.$util.diyRedirectTo(t)},closePopupWindow:function(){this.$refs.uniPopupWindow.close(),e.setStorageSync(this.name+"_popwindow_count",-1)},closeCollectPopupWindow:function(){this.$refs.collectPopupWindow.close(),e.setStorageSync("isCollect",!0)}},onPageScroll:function(e){this.$refs.topNav&&(e.scrollTop>=20?this.$refs.topNav.navTopBg():this.$refs.topNav.unSetnavTopBg())},onShareAppMessage:function(){return this.mpShareData.appMessage},onShareTimeline:function(){return this.mpShareData.timeLine}};t.default=n}).call(this,i("543d")["default"])},"37dc":function(e,t,i){"use strict";(function(e,i){function o(e,t){return c(e)||s(e,t)||n(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"===typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function s(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],o=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0)if(i.push(a.value),t&&i.length===t)break}catch(c){r=!0,n=c}finally{try{o||null==s["return"]||s["return"]()}finally{if(r)throw n}}return i}}function c(e){if(Array.isArray(e))return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t.compileI18nJsonStr=N,t.hasI18nJson=R,t.initVueI18n=E,t.isI18nStr=U,t.normalizeLocale=T,t.parseI18nJson=F,t.resolveLocale=H,t.isString=t.LOCALE_ZH_HANT=t.LOCALE_ZH_HANS=t.LOCALE_FR=t.LOCALE_ES=t.LOCALE_EN=t.I18n=t.Formatter=void 0;var f=Array.isArray,h=function(e){return null!==e&&"object"===typeof e},p=["{","}"],m=function(){function e(){u(this,e),this._caches=Object.create(null)}return d(e,[{key:"interpolate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;if(!t)return[e];var o=this._caches[e];return o||(o=v(e,i),this._caches[e]=o),y(o,t)}}]),e}();t.Formatter=m;var g=/^(?:\d)+/,_=/^(?:\w)+/;function v(e,t){var i=o(t,2),r=i[0],n=i[1],a=[],s=0,c="";while(s<e.length){var u=e[s++];if(u===r){c&&a.push({type:"text",value:c}),c="";var l="";u=e[s++];while(void 0!==u&&u!==n)l+=u,u=e[s++];var d=u===n,f=g.test(l)?"list":d&&_.test(l)?"named":"unknown";a.push({value:l,type:f})}else c+=u}return c&&a.push({type:"text",value:c}),a}function y(e,t){var i=[],o=0,r=f(t)?"list":h(t)?"named":"unknown";if("unknown"===r)return i;while(o<e.length){var n=e[o];switch(n.type){case"text":i.push(n.value);break;case"list":i.push(t[parseInt(n.value,10)]);break;case"named":"named"===r&&i.push(t[n.value]);break;case"unknown":0;break}o++}return i}var b="zh-Hans";t.LOCALE_ZH_HANS=b;var w="zh-Hant";t.LOCALE_ZH_HANT=w;var D="en";t.LOCALE_EN=D;var S="fr";t.LOCALE_FR=S;var k="es";t.LOCALE_ES=k;var $=Object.prototype.hasOwnProperty,P=function(e,t){return $.call(e,t)},C=new m;function x(e,t){return!!t.find((function(t){return-1!==e.indexOf(t)}))}function I(e,t){return t.find((function(t){return 0===e.indexOf(t)}))}function T(e,t){if(e){if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),0===e.indexOf("zh"))return e.indexOf("-hans")>-1?b:e.indexOf("-hant")>-1||x(e,["-tw","-hk","-mo","-cht"])?w:b;var i=I(e,[D,S,k]);return i||void 0}}var j=function(){function e(t){var i=t.locale,o=t.fallbackLocale,r=t.messages,n=t.watcher,a=t.formater;u(this,e),this.locale=D,this.fallbackLocale=D,this.message={},this.messages={},this.watchers=[],o&&(this.fallbackLocale=o),this.formater=a||C,this.messages=r||{},this.setLocale(i||D),n&&this.watchLocale(n)}return d(e,[{key:"setLocale",value:function(e){var t=this,i=this.locale;this.locale=T(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach((function(e){e(t.locale,i)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(e){var t=this,i=this.watchers.push(e)-1;return function(){t.watchers.splice(i,1)}}},{key:"add",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.messages[e];o?i?Object.assign(o,t):Object.keys(t).forEach((function(e){P(o,e)||(o[e]=t[e])})):this.messages[e]=t}},{key:"f",value:function(e,t,i){return this.formater.interpolate(e,t,i).join("")}},{key:"t",value:function(e,t,i){var o=this.message;return"string"===typeof t?(t=T(t,this.messages),t&&(o=this.messages[t])):i=t,P(o,e)?this.formater.interpolate(o[e],i).join(""):(console.warn("Cannot translate the value of keypath ".concat(e,". Use the value of keypath as default.")),e)}}]),e}();function O(e,t){e.$watchLocale?e.$watchLocale((function(e){t.setLocale(e)})):e.$watch((function(){return e.$locale}),(function(e){t.setLocale(e)}))}function M(){return"undefined"!==typeof e&&e.getLocale?e.getLocale():"undefined"!==typeof i&&i.getLocale?i.getLocale():D}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if("string"!==typeof e){var r=[t,e];e=r[0],t=r[1]}"string"!==typeof e&&(e=M()),"string"!==typeof i&&(i="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||D);var n=new j({locale:e,fallbackLocale:i,messages:t,watcher:o}),a=function(e,t){if("function"!==typeof getApp)a=function(e,t){return n.t(e,t)};else{var i=!1;a=function(e,t){var o=getApp().$vm;return o&&(o.$locale,i||(i=!0,O(o,n))),n.t(e,t)}}return a(e,t)};return{i18n:n,f:function(e,t,i){return n.f(e,t,i)},t:function(e,t){return a(e,t)},add:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n.add(e,t,i)},watch:function(e){return n.watchLocale(e)},getLocale:function(){return n.getLocale()},setLocale:function(e){return n.setLocale(e)}}}t.I18n=j;var A,L=function(e){return"string"===typeof e};function R(e,t){return A||(A=new m),V(e,(function(e,i){var o=e[i];return L(o)?!!U(o,t)||void 0:R(o,t)}))}function F(e,t,i){return A||(A=new m),V(e,(function(e,o){var r=e[o];L(r)?U(r,i)&&(e[o]=B(r,t,i)):F(r,t,i)})),e}function N(e,t){var i=t.locale,o=t.locales,r=t.delimiters;if(!U(e,r))return e;A||(A=new m);var n=[];Object.keys(o).forEach((function(e){e!==i&&n.push({locale:e,values:o[e]})})),n.unshift({locale:i,values:o[i]});try{return JSON.stringify(q(JSON.parse(e),n,r),null,2)}catch(a){}return e}function U(e,t){return e.indexOf(t[0])>-1}function B(e,t,i){return A.interpolate(e,t,i).join("")}function z(e,t,i,o){var r=e[t];if(L(r)){if(U(r,o)&&(e[t]=B(r,i[0].values,o),i.length>1)){var n=e[t+"Locales"]={};i.forEach((function(e){n[e.locale]=B(r,e.values,o)}))}}else q(r,i,o)}function q(e,t,i){return V(e,(function(e,o){z(e,o,t,i)})),e}function V(e,t){if(f(e)){for(var i=0;i<e.length;i++)if(t(e,i))return!0}else if(h(e))for(var o in e)if(t(e,o))return!0;return!1}function H(e){return function(t){return t?(t=T(t)||t,G(t).find((function(t){return e.indexOf(t)>-1}))):t}}function G(e){var t=[],i=e.split("-");while(i.length)t.push(i.join("-")),i.pop();return t}t.isString=L}).call(this,i("543d")["default"],i("c8ba"))},"3f44":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"申请退款"};t.lang=o},"3f91":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"文章列表",emptyText:"当前暂无文章信息"};t.lang=o},"3fa6":function(e,t,i){"use strict";(function(e){function i(t,i){return new Promise((function(o,r){var n=i?e.createSelectorQuery().in(i):e.createSelectorQuery();return n.select(t).boundingClientRect(o).exec()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getClientRect=i}).call(this,i("543d")["default"])},"406e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},4242:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(i("cf99"));function o(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{rule:[{}],hasSign:0,signDaysSeries:0,timestamp:"",time:"",MonthData:[],signList:[],back:"",redirect:"",successTip:{},startDate:null,endDate:null,isActive:"",signState:1,headimg:"",point:0,growth:0,signPoint:0,signGrowth:0,rewardRuleDay:[],cycle:0}},methods:{getSignPointData:function(){var e=this;this.$api.sendRequest({url:"/api/memberaccount/sum",data:{account_type:"point",from_type:"signin"},success:function(t){0==t.code&&(e.signPoint=t.data)}})},getSignGrowthData:function(){var e=this;this.$api.sendRequest({url:"/api/memberaccount/sum",data:{account_type:"growth",from_type:"signin"},success:function(t){0==t.code&&(e.signGrowth=t.data)}})},getSignState:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/getSignStatus",success:function(t){0==t.code&&(e.signState=t.data.is_use)}})},navigateBack:function(){""!=this.back?this.$util.redirectTo(this.back,{},this.redirect):this.$util.redirectTo("/pages/member/index",{},"reLaunch")},getRule:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/award",success:function(t){if(0==t.code){e.cycle=t.data.cycle,e.rule=t.data.reward,e.rule.length>1&&e.rule.forEach((function(t,i){i&&e.rewardRuleDay.push(parseInt(t.day))}));for(var i=[],o=1;o<=t.data.cycle;o++)i.push({day:o});e.showSignDays=i}}})},getSignInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code&&(e.timestamp=t.timestamp,e.time=e.$util.timeStampTurnTime(e.timestamp).slice(0,10),e.headimg=t.data.headimg,e.signDaysSeries=t.data.sign_days_series,e.$refs.loadingCover.hide())}})},getIsSign:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/issign",success:function(t){0==t.code&&(e.hasSign=t.data,e.getSignInfo(),e.getSignPointData(),e.getSignGrowthData())}})},sign:function(){var e=this;0==this.signState&&this.$util.showToast({title:"签到未开启"}),this.hasSign||1!=this.signState||this.$api.sendRequest({url:"/api/membersignin/signin",success:function(t){0==t.code?(e.successTip=t.data,e.$refs.uniPopup.open(),e.getSignInfo(),e.getSignPointData(),e.getSignGrowthData(),e.hasSign=1,e.signDaysSeries=e.signDaysSeries+1):e.$util.showToast({title:t.message})}})},close:function(){this.$refs.uniPopup.close()}},computed:{pointTomorrow:function(){for(var e=this.signDaysSeries+1,t=this.rule[0].point?parseInt(this.rule[0].point):0,i=1;i<this.rule.length;i++){var o=this.rule[i];o.day==e&&o.point&&(t+=parseInt(o.point))}return t},showDay:function(){return 7*parseInt(this.signDaysSeries/7)+1}}};t.default=r},"42dc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"申请退款"};t.lang=o},4421:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={down:{textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",offset:80,native:!1},up:{textLoading:"加载中 ...",textNoMore:"",offset:80,isBounce:!1,toTop:{src:"http://www.mescroll.com/img/mescroll-totop.png?v=1",offset:1e3,right:20,bottom:120,width:72},empty:{use:!0,icon:"http://www.mescroll.com/img/mescroll-empty.png?v=1",tip:"~ 暂无相关数据 ~"}}},r=o;t.default=r},"445a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"455b":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{member_address:{mobile:""}},orderPaymentData:{exchange_info:{type:0},delivery:{delivery_type:""},member_address:{mobile:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}},express_type:[]},isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTime:!1,showTimeBar:!1},canLocalDelicery:!0,deliveryWeek:"",judge:!0}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){var e={back:"/pages_promotion/point/payment",local:0,type:1};"local"==this.orderPaymentData.delivery.delivery_type&&(e.local=1,e.type=2),this.$util.redirectTo("/pages_tool/member/address",e)},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("exchangeOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){this.location&&(this.orderCreateData.latitude=this.location.latitude,this.orderCreateData.longitude=this.location.longitude);var o=e.getStorageSync("store");o&&(this.orderCreateData.default_store_id=o.store_id),this.$api.sendRequest({url:"/pointexchange/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index",{},"reLaunch")}),1500))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index",{},"reLaunch")}),1500))},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.buyer_message="";var i=this.orderPaymentData;if(void 0!=i.express_type&&void 0!=i.express_type[0]){var o=i.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var n=r.name,a=r.title;"store"==n&&(i.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)})),this.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""})}else{n=o[0].name;"store"==n&&(this.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""});a=o[0].title}this.orderCreateData.delivery.delivery_type=n,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""}),0==this.orderPaymentData.is_virtual)if(this.orderPaymentData.local_config.info&&1==this.orderPaymentData.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.local_config.info.time_week.length||7==this.orderPaymentData.local_config.info.time_week.length||this.orderPaymentData.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,0==this.orderPaymentData.local_config.info.time_type)this.deliveryWeek="全天";else if(this.orderPaymentData.local_config.info.time_week.length>0){this.timeInfo.showTime=!0;for(var s=this.orderPaymentData.local_config.info.time_week,c=!1,u=0;u<s.length;u++)if(u+1<s.length){var l=s[u+1]-s[u];if(l>1){c=!0;break}}var d=["周日","周一","周二","周三","周四","周五","周六"];if(c){var f=[];for(u=0;u<s.length;u++)f.push(d[s[u]]);this.deliveryWeek=f.join("、")}else this.deliveryWeek=d[s[0]]+"至"+d[s[s.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var h=(new Date).getHours().toString(),p=(new Date).getMinutes().toString();1==h.length&&(h="0"+h),1==p.length&&(p="0"+p),this.orderCreateData.buyer_ask_delivery_time=h+":"+p;var m=this.orderPaymentData.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(m);var g=this.orderPaymentData.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(g);var _=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),v=_.getHours(),y=_.getMinutes(),b=parseInt(this.timeInfo.start_time.split(":")[0]),w=parseInt(this.timeInfo.start_time.split(":")[1]),D=parseInt(this.timeInfo.end_time.split(":")[0]),S=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(b==D&&w==S||((v<b||v==b&&y<w)&&(this.orderCreateData.buyer_ask_delivery_time=(1==b.toString().length?"0"+b:b)+":"+(1==w.toString().length?"0"+w:w)),(v>D||v==D&&y>S)&&(this.canLocalDelicery=!1)))}else this.deliveryWeek="店铺未开启配送时间";Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/pointexchange/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.delivery=t.data.delivery,t.data.delivery_store_info&&(e.orderPaymentData.delivery_store_info=JSON.parse(t.data.delivery_store_info),e.judge&&("store"==e.orderPaymentData.delivery.delivery_type?e.storetime("no"):"local"==e.orderPaymentData.delivery.delivery_type&&e.localtime("no"),e.judge=!1)),e.createBtn(),e.$forceUpdate()):e.$util.showToast({title:t.message})}})},createBtn:function(){return!(this.orderPaymentData.delivery&&"local"==this.orderPaymentData.delivery.delivery_type&&this.orderPaymentData.delivery&&this.orderPaymentData.delivery.error&&this.orderPaymentData.delivery.start_money>this.orderPaymentData.price)&&!(this.orderPaymentData.delivery&&"local"==this.orderPaymentData.delivery.delivery_type&&this.orderPaymentData.delivery&&this.orderPaymentData.delivery.error&&""!==this.orderPaymentData.delivery.error)},orderCreate:function(){var t=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,e.setStorageSync("paySource","pointexchange");var i=this.$util.deepClone(this.orderCreateData);i.delivery=JSON.stringify(i.delivery),"store"==this.orderCreateData.delivery.delivery_type?i.member_address=JSON.stringify(this.member_address):i.member_address=JSON.stringify(i.member_address),this.$api.sendRequest({url:"/pointexchange/api/ordercreate/create",data:i,success:function(i){if(e.hideLoading(),i.code>=0)if(1==t.orderPaymentData.exchange_info.type&&"0.00"!=t.orderPaymentData.order_money){var o=e.getStorageSync("exchangeOrderCreateData");o.out_trade_no=i.data,e.setStorageSync("exchangeOrderCreateData",o),t.$refs.choosePaymentPopup.getPayInfo(i.data),t.isSub=!1}else t.$util.redirectTo("/pages_promotion/point/result",{},"redirectTo");else t.isSub=!1,10==i.data.error_code||12==i.data.error_code?e.showModal({title:"订单未创建",content:i.message,confirmText:"去设置",success:function(e){e.confirm&&t.selectAddress()}}):t.$util.showToast({title:i.message})},fail:function(i){e.hideLoading(),t.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.exchange_info.type){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=n||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),n=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<n||t==o&&i>r||t==o&&i>=r&&t<n))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var s=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!s)return!1}}return!0},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&(this.storeSelected(t),this.member_address.mobile||(this.member_address.mobile=""!=this.orderPaymentData.member_account.mobile?this.orderPaymentData.member_account.mobile:"")),Object.assign(this.orderPaymentData,this.orderCreateData),this.judge=!0,this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},imageError:function(){var e="";e=1==this.orderPaymentData.exchange_info.type?this.$util.img("public/uniapp/point/gift.png"):2==this.orderPaymentData.exchange_info.type?this.$util.img("public/uniapp/point/coupon.png"):3==this.orderPaymentData.exchange_info.type?this.$util.img("public/uniapp/point/hongbao.png"):this.$util.getDefaultImage().goods,this.orderPaymentData.exchange_info.image=e,this.$forceUpdate()},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail",{sku_id:e})},openChoosePayment:function(){this.verify()&&1==this.orderPaymentData.exchange_info.type&&"0.00"!=this.orderPaymentData.order_money?this.$refs.choosePaymentPopup.open():this.orderCreate()},localtime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={time_type:this.$util.deepClone(this.orderPaymentData.local_config.info).time_type,end_time:this.$util.deepClone(this.orderPaymentData.local_config.info).end_time,start_time:this.$util.deepClone(this.orderPaymentData.local_config.info).start_time,time_week:this.$util.deepClone(this.orderPaymentData.local_config.info).time_week},i={delivery:this.orderCreateData.delivery,dataTime:t};this.$refs.TimePopup.open(i,e)},storetime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.orderPaymentData.delivery_store_info){var t=this.orderPaymentData.delivery_store_info,i={time_type:this.$util.deepClone(t).time_type,end_time:this.$util.deepClone(t).end_time,start_time:this.$util.deepClone(t).start_time,time_week:this.$util.deepClone(t).time_week},o={delivery:this.orderCreateData.delivery,dataTime:i};this.$refs.TimePopup.open(o,e),this.$forceUpdate()}},selectTime:function(e){if(e.data&&e.data.month){var t=new Date,i=t.getFullYear(),o=e.data.month.split("月"),r=o[0],n=o[1].split("日")[0];this.orderCreateData.buyer_ask_delivery_time=i+"-"+r+"-"+n+" "+e.data.time+":00","今天"==e.data.title||"明天"==e.data.title?this.orderCreateData.buyer_ask_delivery_title=e.data.title+"("+e.data.time+")":this.orderCreateData.buyer_ask_delivery_title=e.data.month+"("+e.data.time+")",this.orderCalculate(),this.$forceUpdate()}}},onShow:function(){e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages_tool/login/login"),this.judge=!0,this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},onLoad:function(){this.location||this.$util.getLocation()},computed:{location:function(){return this.$store.state.location}},watch:{location:function(e){e&&this.getOrderPaymentData()}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},4601:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"中奖纪录"};t.lang=o},"48bc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"注册",mobileRegister:"手机号注册",accountRegister:"账号注册",mobilePlaceholder:"手机号登录仅限中国大陆用户",dynacodePlaceholder:"请输入动态码",captchaPlaceholder:"请输入验证码",accountPlaceholder:"请输入用户名",passwordPlaceholder:"请输入密码",rePasswordPlaceholder:"请确认密码",completeRegister:"完成注册，并登录",registerTips:"点击注册即代表您已同意",registerAgreement:"注册协议",next:"下一步",save:"保存"};t.lang=o},4919:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"4ae5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的关注"};t.lang=o},"4b63":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=52.35987755982988,r=3.141592653589793,n=6378245,a=.006693421622965943;function s(e,t){var i=52.35987755982988,o=e-.0065,r=t-.006,n=Math.sqrt(o*o+r*r)-2e-5*Math.sin(r*i),a=Math.atan2(r,o)-3e-6*Math.cos(o*i),s=n*Math.cos(a),c=n*Math.sin(a);return[s,c]}function c(e,t){var i=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*o),r=Math.atan2(t,e)+3e-6*Math.cos(e*o),n=i*Math.cos(r)+.0065,a=i*Math.sin(r)+.006;return[n,a]}function u(e,t){if(h(e,t))return[e,t];var i=d(e-105,t-35),o=f(e-105,t-35),s=t/180*r,c=Math.sin(s);c=1-a*c*c;var u=Math.sqrt(c);i=180*i/(n*(1-a)/(c*u)*r),o=180*o/(n/u*Math.cos(s)*r);var l=t+i,p=e+o;return[p,l]}function l(e,t){if(h(e,t))return[e,t];var i=d(e-105,t-35),o=f(e-105,t-35),s=t/180*r,c=Math.sin(s);c=1-a*c*c;var u=Math.sqrt(c);return i=180*i/(n*(1-a)/(c*u)*r),o=180*o/(n/u*Math.cos(s)*r),mglat=t+i,mglng=e+o,[2*e-mglng,2*t-mglat]}function d(e,t){var i=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*r)+20*Math.sin(2*e*r))/3,i+=2*(20*Math.sin(t*r)+40*Math.sin(t/3*r))/3,i+=2*(160*Math.sin(t/12*r)+320*Math.sin(t*r/30))/3,i}function f(e,t){var i=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*r)+20*Math.sin(2*e*r))/3,i+=2*(20*Math.sin(e*r)+40*Math.sin(e/3*r))/3,i+=2*(150*Math.sin(e/12*r)+300*Math.sin(e/30*r))/3,i}function h(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1}var p={bd09togcj02:s,gcj02tobd09:c,wgs84togcj02:u,gcj02towgs84:l};t.default=p},"4c2d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"积分兑换订单详情"};t.lang=o},"4c30":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"店铺笔记"};t.lang=o},"4dad":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{goodsRoute:"/pages_promotion/topics/goods_detail",posterApi:"/topic/api/topicgoods/poster",topics_id:0}},onLoad:function(e){var t=this;if(this.topics_id=e.id||0,e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("id")&&(t.topics_id=e.split("-")[1])}))}},onShow:function(){this.getGoodsSkuDetail()},methods:{getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/topic/api/topicgoods/detail",async:!1,data:{topic_id:e.topics_id}});case 2:i=t.sent,r=i.data,null!=r.goods_sku_detail?(e.goodsSkuDetail=r.goods_sku_detail,e.skuId=e.goodsSkuDetail.sku_id,i.timestamp>e.goodsSkuDetail.end_time?(e.$util.showToast({title:"专题活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)):e.goodsSkuDetail.discountTimeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp),e.shareQuery="id="+e.topics_id,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id,type:"topic",type_id:e.topics_id},e.posterParams={id:e.topics_id},e.handleGoodsSkuData(),e.goodsSkuDetail.show_price=e.goodsSkuDetail.topic_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.$refs.loadingCover&&e.$refs.loadingCover.hide()):e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 5:case"end":return t.stop()}}),t)})))()},topic:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("topic",(function(){t.getCartCount()})):this.$refs.login.open(this.shareUrl)}}};t.default=s}).call(this,i("543d")["default"])},"4dbb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"退款",checkDetail:"查看详情",emptyTips:"暂无退款记录"};t.lang=o},"4dd4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"专题活动详情"};t.lang=o},"4fab":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},50378:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},5058:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"申请提现"};t.lang=o},"50ee":function(e,t){e.exports={error:"",check:function(e,t){for(var i=0;i<t.length;i++){if(!t[i].checkType)return!0;if(!t[i].name)return!0;if(!t[i].errorMsg)return!0;if(!e[t[i].name])return this.error=t[i].errorMsg,!1;switch(t[i].checkType){case"custom":if("function"==typeof t[i].validate&&!t[i].validate(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"required":var o=new RegExp("/[S]+/");if(o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"string":o=new RegExp("^.{"+t[i].checkRule+"}$");if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"int":o=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[i].checkRule+"}$");if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[i].name]))return this.error=t[i].errorMsg,!1;var r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"betweenD":o=/^-?[1-9][0-9]?$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"betweenF":o=/^-?[0-9][0-9]?.+[0-9]+$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"same":if(e[t[i].name]!=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notsame":if(e[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"email":o=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phoneno":o=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][0-9]))[0-9]{8}$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"zipcode":o=/^[0-9]{6}$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"reg":o=new RegExp(t[i].checkRule);if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"in":if(-1==t[i].checkRule.indexOf(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"notnull":if(0==e[t[i].name]||void 0==e[t[i].name]||null==e[t[i].name]||e[t[i].name].length<1)return this.error=t[i].errorMsg,!1;break;case"lengthMin":if(e[t[i].name].length<t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"lengthMax":if(e[t[i].name].length>t[i].checkRule)return this.error=t[i].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}},"514a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"物流信息"};t.lang=o},"515e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品评价"};t.lang=o},5195:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"购物车",complete:"完成",edit:"管理",allElection:"全选",total:"合计",settlement:"结算",emptyTips:"暂无商品",goForStroll:"去逛逛",del:"删除",login:"去登录"};t.lang=o},"51db":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"个人资料",headImg:"头像",account:"账号",username:"用户名",nickname:"昵称",realName:"真实姓名",sex:"性别",birthday:"生日",password:"密码",paypassword:"支付密码",mobilePhone:"手机",bindMobile:"绑定手机",cancellation:"注销账号",lang:"语言",logout:"退出登录",save:"保存",noset:"未设置",usernamePlaceholder:"请输入新用户名",nickPlaceholder:"请输入新昵称",pleaseRealName:"请输入真实姓名",nowPassword:"当前密码",newPassword:"新密码",confirmPassword:"确认新密码",phoneNumber:"手机号",confirmCode:"验证码",confirmCodeInput:"请输入验证码",confirmCodeInputerror:"验证码错误",findanimateCode:"获取动态码",animateCode:"动态码",animateCodeInput:"请输入动态码",modifyNickname:"修改昵称",modifyPassword:"修改密码",bindPhone:"绑定手机",alikeusername:"与原用户名一致，无需修改",noEmityUsername:"用户名不能为空",alikeNickname:"与原昵称一致，无需修改",noEmityNickname:"昵称不能为空",updateSuccess:"修改成功",pleaseInputOldPassword:"请输入原始密码",pleaseInputNewPassword:"请输入新密码",passwordLength:"密码长度不能小于6位",alikePassword:"两次密码不一致",samePassword:"新密码不能与原密码相同",surePhoneNumber:"请输入正确的手机号",alikePhone:"与原手机号一致，无需修改",modify:"修改"};t.lang=o},"520e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"53c6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},"53c72":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"直播"};t.lang=o},"543d":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createApp=Qt,t.createComponent=ui,t.createPage=ci,t.createPlugin=di,t.createSubpackageApp=li,t.default=void 0;var o,r=a(i("66fd")),n=i("37dc");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t){return f(e)||d(e,t)||g(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],o=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0)if(i.push(a.value),t&&i.length===t)break}catch(c){r=!0,n=c}finally{try{o||null==s["return"]||s["return"]()}finally{if(r)throw n}}return i}}function f(e){if(Array.isArray(e))return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e){return v(e)||_(e)||g(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"===typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}function _(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function D(e){return decodeURIComponent(o(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function S(){var e,t=wx.getStorageSync("uni_id_token")||"",i=t.split(".");if(!t||3!==i.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{e=JSON.parse(D(i[1]))}catch(o){throw new Error("获取当前用户信息出错，详细错误信息为："+o.message)}return e.tokenExpired=1e3*e.exp,delete e.exp,delete e.iat,e}function k(e){e.prototype.uniIDHasRole=function(e){var t=S(),i=t.role;return i.indexOf(e)>-1},e.prototype.uniIDHasPermission=function(e){var t=S(),i=t.permission;return this.uniIDHasRole("admin")||i.indexOf(e)>-1},e.prototype.uniIDTokenValid=function(){var e=S(),t=e.tokenExpired;return t>Date.now()}}o="function"!==typeof atob?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!w.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var i,o,r="",n=0;n<e.length;)t=b.indexOf(e.charAt(n++))<<18|b.indexOf(e.charAt(n++))<<12|(i=b.indexOf(e.charAt(n++)))<<6|(o=b.indexOf(e.charAt(n++))),r+=64===i?String.fromCharCode(t>>16&255):64===o?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return r}:atob;var $=Object.prototype.toString,P=Object.prototype.hasOwnProperty;function C(e){return"function"===typeof e}function x(e){return"string"===typeof e}function I(e){return"[object Object]"===$.call(e)}function T(e,t){return P.call(e,t)}function j(){}function O(e){var t=Object.create(null);return function(i){var o=t[i];return o||(t[i]=e(i))}}var M=/-(\w)/g,E=O((function(e){return e.replace(M,(function(e,t){return t?t.toUpperCase():""}))})),A=["invoke","success","fail","complete","returnValue"],L={},R={};function F(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?N(i):i}function N(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function U(e,t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}function B(e,t){Object.keys(t).forEach((function(i){-1!==A.indexOf(i)&&C(t[i])&&(e[i]=F(e[i],t[i]))}))}function z(e,t){e&&t&&Object.keys(t).forEach((function(i){-1!==A.indexOf(i)&&C(t[i])&&U(e[i],t[i])}))}function q(e,t){"string"===typeof e&&I(t)?B(R[e]||(R[e]={}),t):I(e)&&B(L,e)}function V(e,t){"string"===typeof e?I(t)?z(R[e],t):delete R[e]:I(e)&&z(L,e)}function H(e){return function(t){return e(t)||t}}function G(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}function W(e,t){for(var i=!1,o=0;o<e.length;o++){var r=e[o];if(i)i=Promise.resolve(H(r));else{var n=r(t);if(G(n)&&(i=Promise.resolve(n)),!1===n)return{then:function(){}}}}return i||{then:function(e){return e(t)}}}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["success","fail","complete"].forEach((function(i){if(Array.isArray(e[i])){var o=t[i];t[i]=function(t){W(e[i],t).then((function(e){return C(o)&&o(e)||e}))}}})),t}function J(e,t){var i=[];Array.isArray(L.returnValue)&&i.push.apply(i,p(L.returnValue));var o=R[e];return o&&Array.isArray(o.returnValue)&&i.push.apply(i,p(o.returnValue)),i.forEach((function(e){t=e(t)||t})),t}function X(e){var t=Object.create(null);Object.keys(L).forEach((function(e){"returnValue"!==e&&(t[e]=L[e].slice())}));var i=R[e];return i&&Object.keys(i).forEach((function(e){"returnValue"!==e&&(t[e]=(t[e]||[]).concat(i[e]))})),t}function Q(e,t,i){for(var o=arguments.length,r=new Array(o>3?o-3:0),n=3;n<o;n++)r[n-3]=arguments[n];var a=X(e);if(a&&Object.keys(a).length){if(Array.isArray(a.invoke)){var s=W(a.invoke,i);return s.then((function(e){return t.apply(void 0,[Y(a,e)].concat(r))}))}return t.apply(void 0,[Y(a,i)].concat(r))}return t.apply(void 0,[i].concat(r))}var Z={returnValue:function(e){return G(e)?new Promise((function(t,i){e.then((function(e){e[0]?i(e[0]):t(e[1])}))})):e}},K=/^\$|Window$|WindowStyle$|sendHostEvent|sendNativeEvent|restoreGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getLocale|setLocale/,ee=/^create|Manager$/,te=["createBLEConnection"],ie=["createBLEConnection"],oe=/^on|^off/;function re(e){return ee.test(e)&&-1===te.indexOf(e)}function ne(e){return K.test(e)&&-1===ie.indexOf(e)}function ae(e){return oe.test(e)&&"onPush"!==e}function se(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e]}))}function ce(e){return!(re(e)||ne(e)||ae(e))}function ue(e,t){return ce(e)?function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return C(i.success)||C(i.fail)||C(i.complete)?J(e,Q.apply(void 0,[e,t,i].concat(r))):J(e,se(new Promise((function(o,n){Q.apply(void 0,[e,t,Object.assign({},i,{success:o,fail:n})].concat(r))}))))}:t}Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))});var le=1e-4,de=750,fe=!1,he=0,pe=0;function me(){var e=wx.getSystemInfoSync(),t=e.platform,i=e.pixelRatio,o=e.windowWidth;he=o,pe=i,fe="ios"===t}function ge(e,t){if(0===he&&me(),e=Number(e),0===e)return 0;var i=e/de*(t||he);return i<0&&(i=-i),i=Math.floor(i+le),0===i&&(i=1!==pe&&fe?.5:1),e<0?-i:i}function _e(){var e=getApp({allowDefault:!0});return e&&e.$vm?e.$vm.$locale:wx.getSystemInfoSync().language||"zh-Hans"}function ve(e){var t=getApp();if(!t)return!1;var i=t.$vm.$locale;return i!==e&&(t.$vm.$locale=e,ye.forEach((function(t){return t({locale:e})})),!0)}var ye=[];function be(e){-1===ye.indexOf(e)&&ye.push(e)}"undefined"!==typeof e&&(e.getLocale=_e);var we={promiseInterceptor:Z},De=Object.freeze({__proto__:null,upx2px:ge,getLocale:_e,setLocale:ve,onLocaleChange:be,addInterceptor:q,removeInterceptor:V,interceptors:we});function Se(e){var t=getCurrentPages(),i=t.length;while(i--){var o=t[i];if(o.$page&&o.$page.fullPath===e)return i}return-1}var ke,$e={name:function(e){return"back"===e.exists&&e.delta?"navigateBack":"redirectTo"},args:function(e){if("back"===e.exists&&e.url){var t=Se(e.url);if(-1!==t){var i=getCurrentPages().length-1-t;i>0&&(e.delta=i)}}}},Pe={args:function(e){var t=parseInt(e.current);if(!isNaN(t)){var i=e.urls;if(Array.isArray(i)){var o=i.length;if(o)return t<0?t=0:t>=o&&(t=o-1),t>0?(e.current=i[t],e.urls=i.filter((function(e,o){return!(o<t)||e!==i[t]}))):e.current=i[0],{indicator:!1,loop:!1}}}}},Ce="__DC_STAT_UUID";function xe(e){ke=ke||wx.getStorageSync(Ce),ke||(ke=Date.now()+""+Math.floor(1e7*Math.random()),wx.setStorage({key:Ce,data:ke})),e.deviceId=ke}function Ie(e){if(e.safeArea){var t=e.safeArea;e.safeAreaInsets={top:t.top,left:t.left,right:e.windowWidth-t.right,bottom:e.windowHeight-t.bottom}}}var Te={returnValue:function(e){xe(e),Ie(e)}},je={redirectTo:$e,previewImage:Pe,getSystemInfo:Te,getSystemInfoSync:Te},Oe=["vibrate","preloadPage","unPreloadPage","loadSubPackage"],Me=[],Ee=["success","fail","cancel","complete"];function Ae(e,t,i){return function(o){return t(Re(e,o,i))}}function Le(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(I(t)){var n=!0===r?t:{};for(var a in C(i)&&(i=i(t,n)||{}),t)if(T(i,a)){var s=i[a];C(s)&&(s=s(t[a],t,n)),s?x(s)?n[s]=t[a]:I(s)&&(n[s.name?s.name:a]=s.value):console.warn("The '".concat(e,"' method of platform '微信小程序' does not support option '").concat(a,"'"))}else-1!==Ee.indexOf(a)?C(t[a])&&(n[a]=Ae(e,t[a],o)):r||(n[a]=t[a]);return n}return C(t)&&(t=Ae(e,t,o)),t}function Re(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return C(je.returnValue)&&(t=je.returnValue(e,t)),Le(e,t,i,{},o)}function Fe(e,t){if(T(je,e)){var i=je[e];return i?function(t,o){var r=i;C(i)&&(r=i(t)),t=Le(e,t,r.args,r.returnValue);var n=[t];"undefined"!==typeof o&&n.push(o),C(r.name)?e=r.name(t):x(r.name)&&(e=r.name);var a=wx[e].apply(wx,n);return ne(e)?Re(e,a,r.returnValue,re(e)):a}:function(){console.error("Platform '微信小程序' does not support '".concat(e,"'."))}}return t}var Ne=Object.create(null),Ue=["onTabBarMidButtonTap","subscribePush","unsubscribePush","onPush","offPush","share"];function Be(e){return function(t){var i=t.fail,o=t.complete,r={errMsg:"".concat(e,":fail method '").concat(e,"' not supported")};C(i)&&i(r),C(o)&&o(r)}}Ue.forEach((function(e){Ne[e]=Be(e)}));var ze={oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]};function qe(e){var t=e.service,i=e.success,o=e.fail,r=e.complete,n=!1;ze[t]?(n={errMsg:"getProvider:ok",service:t,provider:ze[t]},C(i)&&i(n)):(n={errMsg:"getProvider:fail service not found"},C(o)&&o(n)),C(r)&&r(n)}var Ve=Object.freeze({__proto__:null,getProvider:qe}),He=function(){var e;return function(){return e||(e=new r.default),e}}();function Ge(e,t,i){return e[t].apply(e,i)}function We(){return Ge(He(),"$on",Array.prototype.slice.call(arguments))}function Ye(){return Ge(He(),"$off",Array.prototype.slice.call(arguments))}function Je(){return Ge(He(),"$once",Array.prototype.slice.call(arguments))}function Xe(){return Ge(He(),"$emit",Array.prototype.slice.call(arguments))}var Qe=Object.freeze({__proto__:null,$on:We,$off:Ye,$once:Je,$emit:Xe}),Ze=Object.freeze({__proto__:null}),Ke=Page,et=Component,tt=/:/g,it=O((function(e){return E(e.replace(tt,"-"))}));function ot(e){var t=e.triggerEvent,i=function(i){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return t.apply(e,[it(i)].concat(r))};try{e.triggerEvent=i}catch(o){e._triggerEvent=i}}function rt(e,t,i){var o=t[e];t[e]=o?function(){ot(this);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o.apply(this,t)}:function(){ot(this)}}Ke.__$wrappered||(Ke.__$wrappered=!0,Page=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rt("onLoad",e),Ke(e)},Page.after=Ke.after,Component=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rt("created",e),et(e)});var nt=["onPullDownRefresh","onReachBottom","onAddToFavorites","onShareTimeline","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function at(e,t){var i=e.$mp[e.mpType];t.forEach((function(t){T(i,t)&&(e[t]=i[t])}))}function st(e,t){if(!t)return!0;if(r.default.options&&Array.isArray(r.default.options[e]))return!0;if(t=t.default||t,C(t))return!!C(t.extendOptions[e])||!!(t.super&&t.super.options&&Array.isArray(t.super.options[e]));if(C(t[e]))return!0;var i=t.mixins;return Array.isArray(i)?!!i.find((function(t){return st(e,t)})):void 0}function ct(e,t,i){t.forEach((function(t){st(t,i)&&(e[t]=function(e){return this.$vm&&this.$vm.__call_hook(t,e)})}))}function ut(e,t){var i;return t=t.default||t,i=C(t)?t:e.extend(t),t=i.options,[i,t]}function lt(e,t){if(Array.isArray(t)&&t.length){var i=Object.create(null);t.forEach((function(e){i[e]=!0})),e.$scopedSlots=e.$slots=i}}function dt(e,t){e=(e||"").split(",");var i=e.length;1===i?t._$vueId=e[0]:2===i&&(t._$vueId=e[0],t._$vuePid=e[1])}function ft(e,t){var i=e.data||{},o=e.methods||{};if("function"===typeof i)try{i=i.call(t)}catch(r){Object({VUE_APP_NAME:"单商户V4",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG&&console.warn("根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。",i)}else try{i=JSON.parse(JSON.stringify(i))}catch(r){}return I(i)||(i={}),Object.keys(o).forEach((function(e){-1!==t.__lifecycle_hooks__.indexOf(e)||T(i,e)||(i[e]=o[e])})),i}var ht=[String,Number,Boolean,Object,Array,null];function pt(e){return function(t,i){this.$vm&&(this.$vm[e]=t)}}function mt(e,t){var i=e.behaviors,o=e.extends,r=e.mixins,n=e.props;n||(e.props=n=[]);var a=[];return Array.isArray(i)&&i.forEach((function(e){a.push(e.replace("uni://","wx".concat("://"))),"uni://form-field"===e&&(Array.isArray(n)?(n.push("name"),n.push("value")):(n.name={type:String,default:""},n.value={type:[String,Number,Boolean,Array,Object,Date],default:""}))})),I(o)&&o.props&&a.push(t({properties:_t(o.props,!0)})),Array.isArray(r)&&r.forEach((function(e){I(e)&&e.props&&a.push(t({properties:_t(e.props,!0)}))})),a}function gt(e,t,i,o){return Array.isArray(t)&&1===t.length?t[0]:t}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};return t||(i.vueId={type:String,value:""},i.generic={type:Object,value:null},i.scopedSlotsCompiler={type:String,value:""},i.vueSlots={type:null,value:[],observer:function(e,t){var i=Object.create(null);e.forEach((function(e){i[e]=!0})),this.setData({$slots:i})}}),Array.isArray(e)?e.forEach((function(e){i[e]={type:null,observer:pt(e)}})):I(e)&&Object.keys(e).forEach((function(t){var o=e[t];if(I(o)){var r=o.default;C(r)&&(r=r()),o.type=gt(t,o.type),i[t]={type:-1!==ht.indexOf(o.type)?o.type:null,value:r,observer:pt(t)}}else{var n=gt(t,o);i[t]={type:-1!==ht.indexOf(n)?n:null,observer:pt(t)}}})),i}function vt(e){try{e.mp=JSON.parse(JSON.stringify(e))}catch(t){}return e.stopPropagation=j,e.preventDefault=j,e.target=e.target||{},T(e,"detail")||(e.detail={}),T(e,"markerId")&&(e.detail="object"===typeof e.detail?e.detail:{},e.detail.markerId=e.markerId),I(e.detail)&&(e.target=Object.assign({},e.target,e.detail)),e}function yt(e,t){var i=e;return t.forEach((function(t){var o=t[0],r=t[2];if(o||"undefined"!==typeof r){var n,a=t[1],s=t[3];Number.isInteger(o)?n=o:o?"string"===typeof o&&o&&(n=0===o.indexOf("#s#")?o.substr(3):e.__get_value(o,i)):n=i,Number.isInteger(n)?i=r:a?Array.isArray(n)?i=n.find((function(t){return e.__get_value(a,t)===r})):I(n)?i=Object.keys(n).find((function(t){return e.__get_value(a,n[t])===r})):console.error("v-for 暂不支持循环数据：",n):i=n[r],s&&(i=e.__get_value(s,i))}})),i}function bt(e,t,i){var o={};return Array.isArray(t)&&t.length&&t.forEach((function(t,r){"string"===typeof t?t?"$event"===t?o["$"+r]=i:"arguments"===t?i.detail&&i.detail.__args__?o["$"+r]=i.detail.__args__:o["$"+r]=[i]:0===t.indexOf("$event.")?o["$"+r]=e.__get_value(t.replace("$event.",""),i):o["$"+r]=e.__get_value(t):o["$"+r]=e:o["$"+r]=yt(e,t)})),o}function wt(e){for(var t={},i=1;i<e.length;i++){var o=e[i];t[o[0]]=o[1]}return t}function Dt(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,a=!1;if(r&&(a=t.currentTarget&&t.currentTarget.dataset&&"wx"===t.currentTarget.dataset.comType,!i.length))return a?[t]:t.detail.__args__||t.detail;var s=bt(e,o,t),c=[];return i.forEach((function(e){"$event"===e?"__set_model"!==n||r?r&&!a?c.push(t.detail.__args__[0]):c.push(t):c.push(t.target.value):Array.isArray(e)&&"o"===e[0]?c.push(wt(e)):"string"===typeof e&&T(s,e)?c.push(s[e]):c.push(e)})),c}var St="~",kt="^";function $t(e,t){return e===t||"regionchange"===t&&("begin"===e||"end"===e)}function Pt(e){var t=e.$parent;while(t&&t.$parent&&(t.$options.generic||t.$parent.$options.generic||t.$scope._$vuePid))t=t.$parent;return t&&t.$parent}function Ct(e){var t=this;e=vt(e);var i=(e.currentTarget||e.target).dataset;if(!i)return console.warn("事件信息不存在");var o=i.eventOpts||i["event-opts"];if(!o)return console.warn("事件信息不存在");var r=e.type,n=[];return o.forEach((function(i){var o=i[0],a=i[1],s=o.charAt(0)===kt;o=s?o.slice(1):o;var c=o.charAt(0)===St;o=c?o.slice(1):o,a&&$t(r,o)&&a.forEach((function(i){var o=i[0];if(o){var r=t.$vm;if(r.$options.generic&&(r=Pt(r)||r),"$emit"===o)return void r.$emit.apply(r,Dt(t.$vm,e,i[1],i[2],s,o));var a=r[o];if(!C(a))throw new Error(" _vm.".concat(o," is not a function"));if(c){if(a.once)return;a.once=!0}var u=Dt(t.$vm,e,i[1],i[2],s,o);u=Array.isArray(u)?u:[],/=\s*\S+\.eventParams\s*\|\|\s*\S+\[['"]event-params['"]\]/.test(a.toString())&&(u=u.concat([,,,,,,,,,,e])),n.push(a.apply(r,u))}}))})),"input"===r&&1===n.length&&"undefined"!==typeof n[0]?n[0]:void 0}var xt,It={};function Tt(){if(Et()){var e=Object.keys(__uniConfig.locales);e.length&&e.forEach((function(e){var t=It[e],i=__uniConfig.locales[e];t?Object.assign(t,i):It[e]=i}))}}xt=wx.getSystemInfoSync().language,Tt();var jt=(0,n.initVueI18n)(xt,{}),Ot=jt.t;jt.mixin={beforeCreate:function(){var e=this,t=jt.i18n.watchLocale((function(){e.$forceUpdate()}));this.$once("hook:beforeDestroy",(function(){t()}))},methods:{$$t:function(e,t){return Ot(e,t)}}},jt.setLocale,jt.getLocale;function Mt(e,t,i){var o=e.observable({locale:i||jt.getLocale()}),r=[];t.$watchLocale=function(e){r.push(e)},Object.defineProperty(t,"$locale",{get:function(){return o.locale},set:function(e){o.locale=e,r.forEach((function(t){return t(e)}))}})}function Et(){return"undefined"!==typeof __uniConfig&&__uniConfig.locales&&!!Object.keys(__uniConfig.locales).length}var At={},Lt=[];function Rt(e){if(e){var t=At[e];return delete At[e],t}return Lt.shift()}var Ft=["onShow","onHide","onError","onPageNotFound","onThemeChange","onUnhandledRejection"];function Nt(){r.default.prototype.getOpenerEventChannel=function(){return this.$scope.getOpenerEventChannel()};var e=r.default.prototype.__call_hook;r.default.prototype.__call_hook=function(t,i){return"onLoad"===t&&i&&i.__id__&&(this.__eventChannel__=Rt(i.__id__),delete i.__id__),e.call(this,t,i)}}function Ut(){var e={},t={};r.default.prototype.$hasScopedSlotsParams=function(i){var o=e[i];return o||(t[i]=this,this.$on("hook:destroyed",(function(){delete t[i]}))),o},r.default.prototype.$getScopedSlotsParams=function(i,o,r){var n=e[i];if(n){var a=n[o]||{};return r?a[r]:a}t[i]=this,this.$on("hook:destroyed",(function(){delete t[i]}))},r.default.prototype.$setScopedSlotsParams=function(i,o){var r=this.$options.propsData.vueId;if(r){var n=r.split(",")[0],a=e[n]=e[n]||{};a[i]=o,t[n]&&t[n].$forceUpdate()}},r.default.mixin({destroyed:function(){var i=this.$options.propsData,o=i&&i.vueId;o&&(delete e[o],delete t[o])}})}function Bt(e,t){var i=t.mocks,o=t.initRefs;Nt(),Ut(),e.$options.store&&(r.default.prototype.$store=e.$options.store),k(r.default),r.default.prototype.mpHost="mp-weixin",r.default.mixin({beforeCreate:function(){if(this.$options.mpType){if(this.mpType=this.$options.mpType,this.$mp=h({data:{}},this.mpType,this.$options.mpInstance),this.$scope=this.$options.mpInstance,delete this.$options.mpType,delete this.$options.mpInstance,"page"===this.mpType&&"function"===typeof getApp){var e=getApp();e.$vm&&e.$vm.$i18n&&(this._i18n=e.$vm.$i18n)}"app"!==this.mpType&&(o(this),at(this,i))}}});var n={onLaunch:function(t){this.$vm||(wx.canIUse&&!wx.canIUse("nextTick")&&console.error("当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上"),this.$vm=e,this.$vm.$mp={app:this},this.$vm.$scope=this,this.$vm.globalData=this.globalData,this.$vm._isMounted=!0,this.$vm.__call_hook("mounted",t),this.$vm.__call_hook("onLaunch",t))}};n.globalData=e.$options.globalData||{};var a=e.$options.methods;return a&&Object.keys(a).forEach((function(e){n[e]=a[e]})),Mt(r.default,e,wx.getSystemInfoSync().language||"zh-Hans"),ct(n,Ft),n}var zt=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function qt(e,t){for(var i,o=e.$children,r=o.length-1;r>=0;r--){var n=o[r];if(n.$scope._$vueId===t)return n}for(var a=o.length-1;a>=0;a--)if(i=qt(o[a],t),i)return i}function Vt(e){return Behavior(e)}function Ht(){return!!this.route}function Gt(e){this.triggerEvent("__l",e)}function Wt(e,t,i){var o=e.selectAllComponents(t);o.forEach((function(e){var o=e.dataset.ref;i[o]=e.$vm||e,"scoped"===e.dataset.vueGeneric&&e.selectAllComponents(".scoped-ref").forEach((function(e){Wt(e,t,i)}))}))}function Yt(e){var t=e.$scope;Object.defineProperty(e,"$refs",{get:function(){var e={};Wt(t,".vue-ref",e);var i=t.selectAllComponents(".vue-ref-in-for");return i.forEach((function(t){var i=t.dataset.ref;e[i]||(e[i]=[]),e[i].push(t.$vm||t)})),e}})}function Jt(e){var t,i=e.detail||e.value,o=i.vuePid,r=i.vueOptions;o&&(t=qt(this.$vm,o)),t||(t=this.$vm),r.parent=t}function Xt(e){return Bt(e,{mocks:zt,initRefs:Yt})}function Qt(e){return App(Xt(e)),e}var Zt=/[!'()*]/g,Kt=function(e){return"%"+e.charCodeAt(0).toString(16)},ei=/%2C/g,ti=function(e){return encodeURIComponent(e).replace(Zt,Kt).replace(ei,",")};function ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ti,i=e?Object.keys(e).map((function(i){var o=e[i];if(void 0===o)return"";if(null===o)return t(i);if(Array.isArray(o)){var r=[];return o.forEach((function(e){void 0!==e&&(null===e?r.push(t(i)):r.push(t(i)+"="+t(e)))})),r.join("&")}return t(i)+"="+t(o)})).filter((function(e){return e.length>0})).join("&"):null;return i?"?".concat(i):""}function oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.isPage,o=t.initRelation,n=ut(r.default,e),a=u(n,2),s=a[0],l=a[1],d=c({multipleSlots:!0,addGlobalClass:!0},l.options||{});l["mp-weixin"]&&l["mp-weixin"].options&&Object.assign(d,l["mp-weixin"].options);var f={options:d,data:ft(l,r.default.prototype),behaviors:mt(l,Vt),properties:_t(l.props,!1,l.__file),lifetimes:{attached:function(){var e=this.properties,t={mpType:i.call(this)?"page":"component",mpInstance:this,propsData:e};dt(e.vueId,this),o.call(this,{vuePid:this._$vuePid,vueOptions:t}),this.$vm=new s(t),lt(this.$vm,e.vueSlots),this.$vm.$mount()},ready:function(){this.$vm&&(this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady"))},detached:function(){this.$vm&&this.$vm.$destroy()}},pageLifetimes:{show:function(e){this.$vm&&this.$vm.__call_hook("onPageShow",e)},hide:function(){this.$vm&&this.$vm.__call_hook("onPageHide")},resize:function(e){this.$vm&&this.$vm.__call_hook("onPageResize",e)}},methods:{__l:Jt,__e:Ct}};return l.externalClasses&&(f.externalClasses=l.externalClasses),Array.isArray(l.wxsCallMethods)&&l.wxsCallMethods.forEach((function(e){f.methods[e]=function(t){return this.$vm[e](t)}})),i?f:[f,s]}function ri(e){return oi(e,{isPage:Ht,initRelation:Gt})}var ni=["onShow","onHide","onUnload"];function ai(e,t){t.isPage,t.initRelation;var i=ri(e);return ct(i.methods,ni,e),i.methods.onLoad=function(e){this.options=e;var t=Object.assign({},e);delete t.__id__,this.$page={fullPath:"/"+(this.route||this.is)+ii(t)},this.$vm.$mp.query=e,this.$vm.__call_hook("onLoad",e)},i}function si(e){return ai(e,{isPage:Ht,initRelation:Gt})}function ci(e){return Component(si(e))}function ui(e){return Component(ri(e))}function li(e){var t=Xt(e),i=getApp({allowDefault:!0});e.$scope=i;var o=i.globalData;if(o&&Object.keys(t.globalData).forEach((function(e){T(o,e)||(o[e]=t.globalData[e])})),Object.keys(t).forEach((function(e){T(i,e)||(i[e]=t[e])})),C(t.onShow)&&wx.onAppShow&&wx.onAppShow((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e.__call_hook("onShow",i)})),C(t.onHide)&&wx.onAppHide&&wx.onAppHide((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e.__call_hook("onHide",i)})),C(t.onLaunch)){var r=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.__call_hook("onLaunch",r)}return e}function di(e){var t=Xt(e);if(C(t.onShow)&&wx.onAppShow&&wx.onAppShow((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e.__call_hook("onShow",i)})),C(t.onHide)&&wx.onAppHide&&wx.onAppHide((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e.__call_hook("onHide",i)})),C(t.onLaunch)){var i=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.__call_hook("onLaunch",i)}return e}ni.push.apply(ni,nt),Oe.forEach((function(e){je[e]=!1})),Me.forEach((function(e){var t=je[e]&&je[e].name?je[e].name:e;wx.canIUse(t)||(je[e]=!1)}));var fi={};"undefined"!==typeof Proxy?fi=new Proxy({},{get:function(e,t){return T(e,t)?e[t]:De[t]?De[t]:Ze[t]?ue(t,Ze[t]):Ve[t]?ue(t,Ve[t]):Ne[t]?ue(t,Ne[t]):Qe[t]?Qe[t]:T(wx,t)||T(je,t)?ue(t,Fe(t,wx[t])):void 0},set:function(e,t,i){return e[t]=i,!0}}):(Object.keys(De).forEach((function(e){fi[e]=De[e]})),Object.keys(Ne).forEach((function(e){fi[e]=ue(e,Ne[e])})),Object.keys(Ve).forEach((function(e){fi[e]=ue(e,Ne[e])})),Object.keys(Qe).forEach((function(e){fi[e]=Qe[e]})),Object.keys(Ze).forEach((function(e){fi[e]=ue(e,Ze[e])})),Object.keys(wx).forEach((function(e){(T(wx,e)||T(je,e))&&(fi[e]=ue(e,Fe(e,wx[e])))}))),wx.createApp=Qt,wx.createPage=ci,wx.createComponent=ui,wx.createSubpackageApp=li,wx.createPlugin=di;var hi=fi,pi=hi;t.default=pi}).call(this,i("c8ba"))},5681:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"团购专区"};t.lang=o},5858:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},"59b8":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{goodsRoute:"promotionpages/rebate/detail",posterApi:"/pinfan/api/goods/poster",groupId:0,pinfan_id:0,pintuanList:[],currentPintuan:{headimg:"",timeMachine:{}},openPopup:!1,timestamp:"",newList:[]}},onLoad:function(e){var t=this;if(this.pinfan_id=e.pinfan_id||0,e.id&&(this.pinfan_id=e.id),this.groupId=e.group_id||0,e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("id")&&(t.pinfan_id=e.split("-")[1]),-1!=e.indexOf("group_id")&&(t.group_id=e.split("-")[1])}))}},onShow:function(){var e=this;return a(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsSkuDetail();case 2:e.getPintuanGroupList();case 3:case"end":return t.stop()}}),t)})))()},methods:{getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/pinfan/api/goods/detail",async:!1,data:{pintuan_id:e.pinfan_id}});case 2:i=t.sent,r=i.data,null!=r.goods_sku_detail?(e.goodsSkuDetail=r.goods_sku_detail,e.skuId=e.goodsSkuDetail.sku_id,e.goodsSkuDetail.group_id=e.groupId,e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)),e.shareQuery="pinfan_id="+e.pinfan_id+"&group_id="+e.groupId,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id,type:"pintuan",type_id:e.goodsSkuDetail.pintuan_id},e.posterParams={id:e.goodsSkuDetail.id},e.handleGoodsSkuData(),e.goodsSkuDetail.show_price=0==e.goodsSkuDetail.group_id?e.goodsSkuDetail.promotion_price:e.goodsSkuDetail.pintuan_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.$refs.loadingCover&&e.$refs.loadingCover.hide()):e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 5:case"end":return t.stop()}}),t)})))()},pintuan:function(){var t=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.getStorageSync("token")?(i&&this.resetPrice(),this.$refs.goodsSku.show("pinfan",(function(){t.resetPrice(),t.getCartCount()}))):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)},buyNow:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)},getPintuanGroupList:function(){var e=this;this.$api.sendRequest({url:"/pinfan/api/pinfangroup/lists",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(e.timestamp=t.timestamp,null!=i&&i.length){e.pintuanList=i;for(var o=0;o<e.pintuanList.length;o++)e.pintuanList[o]["end_time"]>t.timestamp?(e.pintuanList[o].timeMachine=e.$util.countDown(e.pintuanList[o]["end_time"]-t.timestamp),e.pintuanList[o].currentTime=t.timestamp):e.pintuanList[o].timeMachine=null;e.newList=e.pintuanList.filter((function(e){return e.end_time>t.timestamp})),e.$forceUpdate()}}})},openPinTuan:function(e,t,i,o,r){var n=this;this.memberId!=r?(this.openPopup=!0,this.currentPintuan={groupId:e,pintuan_num:t,timeMachine:this.$util.countDown(i),headimg:o},this.$refs.pintuanPopup.open((function(){n.goodsSkuDetail.group_id=0,n.openPopup=!1}))):this.$util.showToast({title:"您不能参与自己的团"})},closePinTuanPopup:function(){this.$refs.pintuanPopup.close()},joinPintuan:function(){this.closePinTuanPopup(),this.goodsSkuDetail.group_id=this.currentPintuan.groupId,this.goodsSkuDetail.show_price=this.goodsSkuDetail.pintuan_price,this.goodsSkuDetail.save_price=this.goodsSkuDetail.price-this.goodsSkuDetail.show_price>0?(this.goodsSkuDetail.price-this.goodsSkuDetail.show_price).toFixed(2):0,this.$forceUpdate(),this.pintuan(!1)},pintuanImageError:function(e){this.pintuanList[e].headimg=this.$util.getDefaultImage().head,this.$forceUpdate()},resetPrice:function(){this.goodsSkuDetail.group_id=0,this.goodsSkuDetail.show_price=this.goodsSkuDetail.promotion_price,this.goodsSkuDetail.save_price=this.goodsSkuDetail.price-this.goodsSkuDetail.show_price>0?(this.goodsSkuDetail.price-this.goodsSkuDetail.show_price).toFixed(2):0,this.$forceUpdate()}}};t.default=s}).call(this,i("543d")["default"])},"5ae7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"5ceb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},"5d50":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"优惠券领取"};t.lang=o},"5e17":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账户列表",name:"姓名",accountType:"账号类型",mobilePhone:"手机号码",withdrawalAccount:"提现账号",bankInfo:"支行信息",newAddAccount:"新增账户",del:"删除",update:"修改",emptyText:"当前暂无账户"};t.lang=o},"5e27":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Weixin=void 0;var o=function(){var e=i("67d2");this.weixin=e,this.init=function(t){e.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseWXPay","openAddress","updateAppMessageShareData","updateTimelineShareData","scanQRCode","hideMenuItems"]})},this.pay=function(t,i,o){e.ready((function(){e.chooseWXPay({timestamp:t.timestamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(e){"function"==typeof i&&i(e)},cancel:function(e){"function"==typeof o&&o(e)}})}))},this.openAddress=function(t){e.ready((function(){e.openAddress({success:function(e){"function"==typeof t&&t(e)},fail:function(e){alert(JSON.stringify(e))}})}))},this.setShareData=function(t,i){e.ready((function(){e.updateAppMessageShareData({title:t.title||"",desc:t.desc||"",link:t.link||"",imgUrl:t.imgUrl||"",success:function(e){"function"==typeof i&&i(e)},fail:function(e){}}),e.updateTimelineShareData({title:t.title||"",link:t.link||"",imgUrl:t.imgUrl||"",success:function(e){"function"==typeof i&&i(e)}})}))},this.scanQRCode=function(t){e.ready((function(){e.scanQRCode({needResult:1,scanType:["qrCode"],success:function(e){"function"==typeof t&&t(e)}})}))}};t.Weixin=o},"61a9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"签到有礼"};t.lang=o},"63a4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{mescroll:null,timeList:[],seckillId:null,seckillIndex:null,dataList:[],index:null,timer:null,noStartList:[],show:!1}},watch:{seckillId:function(e,t){e&&t&&e!=t&&this.mescroll.resetUpScroll(!1)}},methods:{goodsImg:function(e){var t=e.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().goods},transformSeckillTime:function(e){e=parseFloat(e);var t=parseInt(e/3600),i=parseInt(e%3600/60),o=parseInt(e%60);return t<10&&(t="0"+t),i<10&&(i="0"+i),o<10&&(o="0"+o),t+":"+i},isEnd:function(e){e&&this.$util.showToast({title:"限时秒杀活动已结束"})},getTimeList:function(){var e=this;this.$api.sendRequest({url:"/seckill/api/seckill/lists",success:function(t){var i=t.data;if(i){var o=new Date(1e3*t.timestamp),r=60*o.getHours()*60+60*o.getMinutes()+o.getSeconds(),n=Object.values(i.list);if(n.forEach((function(t,i){t.seckill_start_time<=r&&r<t.seckill_end_time?(t.isNow=!0,e.seckillId=t.id,e.index=i,e.seckillIndex=i):t.isNow=!1})),e.timeList=n,console.log("tempList",n),n.length){for(var a=Math.round(new Date/1e3),s=Math.round(new Date((new Date).toLocaleDateString()).getTime()/1e3),c=a-s,u=0;u<n.length;u++)if(r<n[u].seckill_start_time&&0==u||r<n[u].seckill_start_time&&r>n[u-1].seckill_end_time&&0!=u?(e.seckillId=n[u].id,e.index=u,e.seckillIndex=u):u==n.length-1&&r>n[u].seckill_end_time&&(e.seckillId=n[u].id,e.index=u+1,e.seckillIndex=u),c<n[u].seckill_start_time){var l=n[u];l.index=u,e.noStartList.push(l)}e.noStartList.length&&e.autoEvent(),e.show=!0}var d=e;setInterval((function(){d.getExpirationTime()}),1e3),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}}})},getData:function(e){var t=this;this.mescroll=e,this.$api.sendRequest({url:"/seckill/api/seckillgoods/page",data:{page_size:e.size,page:e.num,seckill_time_id:this.seckillId},success:function(i){t.showEmpty=!0;var o=[],r=i.message;0==i.code&&i.data?o=i.data.list:t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.dataList=[]),t.dataList=t.dataList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(){e.endErr(),this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},getExpirationTime:function(){var e,t,i,o=this.timeList,r=new Date,n=r.toLocaleDateString();for(var a in o)if(o[a].isNow){this.ident=!0,t=Date.parse(r),e=Date.parse(n)+1e3*parseInt(o[a].seckill_end_time);var s=(e-t)/1e3;if(i=this.$util.countDown(s),this.hour=i.h,this.minute=i.i,this.second=i.s,0==s){var c=parseInt(a)+1;c<o.length&&(this.index=c),this.timeList[a].isNow=!1}return!1}this.ident=!1},ontabtap:function(e,t){this.seckillId=e,this.seckillIndex=t},toGoodsDetail:function(e,t){var i=this;this.seckillIndex<this.index?this.$util.showToast({title:"秒杀活动已结束！"}):this.seckillIndex>this.index?this.$util.showToast({title:"秒杀活动还未开启，敬请期待！"}):this.$api.sendRequest({url:"/api/config/time",data:{},success:function(o){var r=new Date(1e3*o.timestamp),n=60*r.getHours()*60+60*r.getMinutes()+r.getSeconds();i.timeList[t].seckill_start_time<=n&&n<i.timeList[t].seckill_end_time?i.timeList[t].isNow=!0:i.timeList[t].isNow=!1,i.$forceUpdate(),i.timeList[t].isNow?i.$util.redirectTo("/pages_promotion/seckill/detail",{seckill_id:e}):i.$util.showToast({title:"秒杀活动即将开启，敬请期待！"})}})},imageError:function(e){this.dataList[e].goods_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},autoEvent:function(){var e=this;this.timer=setInterval((function(){for(var t=Math.round(new Date/1e3),i=Math.round(new Date((new Date).toLocaleDateString()).getTime()/1e3),o=t-i,r=0;r<e.noStartList.length;r++){var n=e.noStartList[r];o>n.seckill_start_time&&!n.isNow&&(e.seckillId=n.seckill_id,e.index=n.index,e.timeList[n.index].isNow=!0,void 0!=e.timeList[n.index-1]&&(e.timeList[n.index-1].isNow=!1),e.noStartList.splice(r))}0==e.noStartList.length&&clearInterval(e.timer)}),1e3)},goodsTag:function(e){return e.label_name||""}},onShareAppMessage:function(e){var t="一大波的秒杀福利就要开始了，真的不来看看嘛",i="/pages_promotion/seckill/list";return{title:t,path:i,success:function(e){},fail:function(e){}}},onHide:function(){clearInterval(this.timer)}};t.default=o},"65ac":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"帮助中心",emptyText:"当前暂无帮助信息"};t.lang=o},"66fd":function(e,t,i){"use strict";i.r(t),function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function o(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function n(e){return!0===e}function a(e){return!1===e}function s(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function l(e){return"[object Object]"===u.call(e)}function d(e){return"[object RegExp]"===u.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function h(e){return r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var i=Object.create(null),o=e.split(","),r=0;r<o.length;r++)i[o[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}g("slot,component",!0);var _=g("key,ref,slot,slot-scope,is");function v(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return y.call(e,t)}function w(e){var t=Object.create(null);return function(i){var o=t[i];return o||(t[i]=e(i))}}var D=/-(\w)/g,S=w((function(e){return e.replace(D,(function(e,t){return t?t.toUpperCase():""}))})),k=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),$=/\B([A-Z])/g,P=w((function(e){return e.replace($,"-$1").toLowerCase()}));function C(e,t){function i(i){var o=arguments.length;return o?o>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function x(e,t){return e.bind(t)}var I=Function.prototype.bind?x:C;function T(e,t){t=t||0;var i=e.length-t,o=new Array(i);while(i--)o[i]=e[i+t];return o}function j(e,t){for(var i in t)e[i]=t[i];return e}function O(e){for(var t={},i=0;i<e.length;i++)e[i]&&j(t,e[i]);return t}function M(e,t,i){}var E=function(e,t,i){return!1},A=function(e){return e};function L(e,t){if(e===t)return!0;var i=c(e),o=c(t);if(!i||!o)return!i&&!o&&String(e)===String(t);try{var r=Array.isArray(e),n=Array.isArray(t);if(r&&n)return e.length===t.length&&e.every((function(e,i){return L(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||n)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every((function(i){return L(e[i],t[i])}))}catch(u){return!1}}function R(e,t){for(var i=0;i<e.length;i++)if(L(e[i],t))return i;return-1}function F(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var N=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:E,isReservedAttr:E,isUnknownElement:E,getTagNamespace:M,parsePlatformTagName:A,mustUseProp:E,async:!0,_lifecycleHooks:U},z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function V(e,t,i,o){Object.defineProperty(e,t,{value:i,enumerable:!!o,writable:!0,configurable:!0})}var H=new RegExp("[^"+z.source+".$_\\d]");function G(e){if(!H.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}var W,Y="__proto__"in{},J="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=X&&WXEnvironment.platform.toLowerCase(),Z=J&&window.navigator.userAgent.toLowerCase(),K=Z&&/msie|trident/.test(Z),ee=(Z&&Z.indexOf("msie 9.0"),Z&&Z.indexOf("edge/")>0),te=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),ie=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/),{}.watch);if(J)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){}}),window.addEventListener("test-passive",null,oe)}catch(ir){}var re=function(){return void 0===W&&(W=!J&&!X&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),W},ne=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"===typeof e&&/native code/.test(e.toString())}var se,ce="undefined"!==typeof Symbol&&ae(Symbol)&&"undefined"!==typeof Reflect&&ae(Reflect.ownKeys);se="undefined"!==typeof Set&&ae(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ue=M,le=0,de=function(){this.id=le++,this.subs=[]};function fe(e){de.SharedObject.targetStack.push(e),de.SharedObject.target=e,de.target=e}function he(){de.SharedObject.targetStack.pop(),de.SharedObject.target=de.SharedObject.targetStack[de.SharedObject.targetStack.length-1],de.target=de.SharedObject.target}de.prototype.addSub=function(e){this.subs.push(e)},de.prototype.removeSub=function(e){v(this.subs,e)},de.prototype.depend=function(){de.SharedObject.target&&de.SharedObject.target.addDep(this)},de.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},de.SharedObject={},de.SharedObject.target=null,de.SharedObject.targetStack=[];var pe=function(e,t,i,o,r,n,a,s){this.tag=e,this.data=t,this.children=i,this.text=o,this.elm=r,this.ns=void 0,this.context=n,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},me={child:{configurable:!0}};me.child.get=function(){return this.componentInstance},Object.defineProperties(pe.prototype,me);var ge=function(e){void 0===e&&(e="");var t=new pe;return t.text=e,t.isComment=!0,t};function _e(e){return new pe(void 0,void 0,void 0,String(e))}function ve(e){var t=new pe(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ye=Array.prototype,be=Object.create(ye),we=["push","pop","shift","unshift","splice","sort","reverse"];we.forEach((function(e){var t=ye[e];V(be,e,(function(){var i=[],o=arguments.length;while(o--)i[o]=arguments[o];var r,n=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),n}))}));var De=Object.getOwnPropertyNames(be),Se=!0;function ke(e){Se=e}var $e=function(e){this.value=e,this.dep=new de,this.vmCount=0,V(e,"__ob__",this),Array.isArray(e)?(Y?e.push!==e.__proto__.push?Ce(e,be,De):Pe(e,be):Ce(e,be,De),this.observeArray(e)):this.walk(e)};function Pe(e,t){e.__proto__=t}function Ce(e,t,i){for(var o=0,r=i.length;o<r;o++){var n=i[o];V(e,n,t[n])}}function xe(e,t){var i;if(c(e)&&!(e instanceof pe))return b(e,"__ob__")&&e.__ob__ instanceof $e?i=e.__ob__:Se&&!re()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new $e(e)),t&&i&&i.vmCount++,i}function Ie(e,t,i,o,r){var n=new de,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(i=e[t]);var u=!r&&xe(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):i;return de.SharedObject.target&&(n.depend(),u&&(u.dep.depend(),Array.isArray(t)&&Oe(t))),t},set:function(t){var o=s?s.call(e):i;t===o||t!==t&&o!==o||s&&!c||(c?c.call(e,t):i=t,u=!r&&xe(t),n.notify())}})}}function Te(e,t,i){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var o=e.__ob__;return e._isVue||o&&o.vmCount?i:o?(Ie(o.value,t,i),o.dep.notify(),i):(e[t]=i,i)}function je(e,t){if(Array.isArray(e)&&f(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||b(e,t)&&(delete e[t],i&&i.dep.notify())}}function Oe(e){for(var t=void 0,i=0,o=e.length;i<o;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Oe(t)}$e.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Ie(e,t[i])},$e.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)xe(e[t])};var Me=B.optionMergeStrategies;function Ee(e,t){if(!t)return e;for(var i,o,r,n=ce?Reflect.ownKeys(t):Object.keys(t),a=0;a<n.length;a++)i=n[a],"__ob__"!==i&&(o=e[i],r=t[i],b(e,i)?o!==r&&l(o)&&l(r)&&Ee(o,r):Te(e,i,r));return e}function Ae(e,t,i){return i?function(){var o="function"===typeof t?t.call(i,i):t,r="function"===typeof e?e.call(i,i):e;return o?Ee(o,r):r}:t?e?function(){return Ee("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Le(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?Re(i):i}function Re(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function Fe(e,t,i,o){var r=Object.create(e||null);return t?j(r,t):r}Me.data=function(e,t,i){return i?Ae(e,t,i):t&&"function"!==typeof t?e:Ae(e,t)},U.forEach((function(e){Me[e]=Le})),N.forEach((function(e){Me[e+"s"]=Fe})),Me.watch=function(e,t,i,o){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var n in j(r,e),t){var a=r[n],s=t[n];a&&!Array.isArray(a)&&(a=[a]),r[n]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Me.props=Me.methods=Me.inject=Me.computed=function(e,t,i,o){if(!e)return t;var r=Object.create(null);return j(r,e),t&&j(r,t),r},Me.provide=Ae;var Ne=function(e,t){return void 0===t?e:t};function Ue(e,t){var i=e.props;if(i){var o,r,n,a={};if(Array.isArray(i)){o=i.length;while(o--)r=i[o],"string"===typeof r&&(n=S(r),a[n]={type:null})}else if(l(i))for(var s in i)r=i[s],n=S(s),a[n]=l(r)?r:{type:r};else 0;e.props=a}}function Be(e,t){var i=e.inject;if(i){var o=e.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)o[i[r]]={from:i[r]};else if(l(i))for(var n in i){var a=i[n];o[n]=l(a)?j({from:n},a):{from:a}}else 0}}function ze(e){var t=e.directives;if(t)for(var i in t){var o=t[i];"function"===typeof o&&(t[i]={bind:o,update:o})}}function qe(e,t,i){if("function"===typeof t&&(t=t.options),Ue(t,i),Be(t,i),ze(t),!t._base&&(t.extends&&(e=qe(e,t.extends,i)),t.mixins))for(var o=0,r=t.mixins.length;o<r;o++)e=qe(e,t.mixins[o],i);var n,a={};for(n in e)s(n);for(n in t)b(e,n)||s(n);function s(o){var r=Me[o]||Ne;a[o]=r(e[o],t[o],i,o)}return a}function Ve(e,t,i,o){if("string"===typeof i){var r=e[t];if(b(r,i))return r[i];var n=S(i);if(b(r,n))return r[n];var a=k(n);if(b(r,a))return r[a];var s=r[i]||r[n]||r[a];return s}}function He(e,t,i,o){var r=t[e],n=!b(i,e),a=i[e],s=Je(Boolean,r.type);if(s>-1)if(n&&!b(r,"default"))a=!1;else if(""===a||a===P(e)){var c=Je(String,r.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=Ge(o,r,e);var u=Se;ke(!0),xe(a),ke(u)}return a}function Ge(e,t,i){if(b(t,"default")){var o=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"===typeof o&&"Function"!==We(t.type)?o.call(e):o}}function We(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ye(e,t){return We(e)===We(t)}function Je(e,t){if(!Array.isArray(t))return Ye(t,e)?0:-1;for(var i=0,o=t.length;i<o;i++)if(Ye(t[i],e))return i;return-1}function Xe(e,t,i){fe();try{if(t){var o=t;while(o=o.$parent){var r=o.$options.errorCaptured;if(r)for(var n=0;n<r.length;n++)try{var a=!1===r[n].call(o,e,t,i);if(a)return}catch(ir){Ze(ir,o,"errorCaptured hook")}}}Ze(e,t,i)}finally{he()}}function Qe(e,t,i,o,r){var n;try{n=i?e.apply(t,i):e.call(t),n&&!n._isVue&&h(n)&&!n._handled&&(n.catch((function(e){return Xe(e,o,r+" (Promise/async)")})),n._handled=!0)}catch(ir){Xe(ir,o,r)}return n}function Ze(e,t,i){if(B.errorHandler)try{return B.errorHandler.call(null,e,t,i)}catch(ir){ir!==e&&Ke(ir,null,"config.errorHandler")}Ke(e,t,i)}function Ke(e,t,i){if(!J&&!X||"undefined"===typeof console)throw e;console.error(e)}var et,tt=[],it=!1;function ot(){it=!1;var e=tt.slice(0);tt.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&ae(Promise)){var rt=Promise.resolve();et=function(){rt.then(ot),te&&setTimeout(M)}}else if(K||"undefined"===typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())et="undefined"!==typeof setImmediate&&ae(setImmediate)?function(){setImmediate(ot)}:function(){setTimeout(ot,0)};else{var nt=1,at=new MutationObserver(ot),st=document.createTextNode(String(nt));at.observe(st,{characterData:!0}),et=function(){nt=(nt+1)%2,st.data=String(nt)}}function ct(e,t){var i;if(tt.push((function(){if(e)try{e.call(t)}catch(ir){Xe(ir,t,"nextTick")}else i&&i(t)})),it||(it=!0,et()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}var ut=new se;function lt(e){dt(e,ut),ut.clear()}function dt(e,t){var i,o,r=Array.isArray(e);if(!(!r&&!c(e)||Object.isFrozen(e)||e instanceof pe)){if(e.__ob__){var n=e.__ob__.dep.id;if(t.has(n))return;t.add(n)}if(r){i=e.length;while(i--)dt(e[i],t)}else{o=Object.keys(e),i=o.length;while(i--)dt(e[o[i]],t)}}}var ft=w((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var o="!"===e.charAt(0);return e=o?e.slice(1):e,{name:e,once:i,capture:o,passive:t}}));function ht(e,t){function i(){var e=arguments,o=i.fns;if(!Array.isArray(o))return Qe(o,null,arguments,t,"v-on handler");for(var r=o.slice(),n=0;n<r.length;n++)Qe(r[n],null,e,t,"v-on handler")}return i.fns=e,i}function pt(e,t,i,r,a,s){var c,u,l,d;for(c in e)u=e[c],l=t[c],d=ft(c),o(u)||(o(l)?(o(u.fns)&&(u=e[c]=ht(u,s)),n(d.once)&&(u=e[c]=a(d.name,u,d.capture)),i(d.name,u,d.capture,d.passive,d.params)):u!==l&&(l.fns=u,e[c]=l));for(c in t)o(e[c])&&(d=ft(c),r(d.name,t[c],d.capture))}function mt(e,t,i,n){var a=t.options.mpOptions&&t.options.mpOptions.properties;if(o(a))return i;var s=t.options.mpOptions.externalClasses||[],c=e.attrs,u=e.props;if(r(c)||r(u))for(var l in a){var d=P(l),f=_t(i,u,l,d,!0)||_t(i,c,l,d,!1);f&&i[l]&&-1!==s.indexOf(d)&&n[S(i[l])]&&(i[l]=n[S(i[l])])}return i}function gt(e,t,i,n){var a=t.options.props;if(o(a))return mt(e,t,{},n);var s={},c=e.attrs,u=e.props;if(r(c)||r(u))for(var l in a){var d=P(l);_t(s,u,l,d,!0)||_t(s,c,l,d,!1)}return mt(e,t,s,n)}function _t(e,t,i,o,n){if(r(t)){if(b(t,i))return e[i]=t[i],n||delete t[i],!0;if(b(t,o))return e[i]=t[o],n||delete t[o],!0}return!1}function vt(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function yt(e){return s(e)?[_e(e)]:Array.isArray(e)?wt(e):void 0}function bt(e){return r(e)&&r(e.text)&&a(e.isComment)}function wt(e,t){var i,a,c,u,l=[];for(i=0;i<e.length;i++)a=e[i],o(a)||"boolean"===typeof a||(c=l.length-1,u=l[c],Array.isArray(a)?a.length>0&&(a=wt(a,(t||"")+"_"+i),bt(a[0])&&bt(u)&&(l[c]=_e(u.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?bt(u)?l[c]=_e(u.text+a):""!==a&&l.push(_e(a)):bt(a)&&bt(u)?l[c]=_e(u.text+a.text):(n(e._isVList)&&r(a.tag)&&o(a.key)&&r(t)&&(a.key="__vlist"+t+"_"+i+"__"),l.push(a)));return l}function Dt(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function St(e){var t=kt(e.$options.inject,e);t&&(ke(!1),Object.keys(t).forEach((function(i){Ie(e,i,t[i])})),ke(!0))}function kt(e,t){if(e){for(var i=Object.create(null),o=ce?Reflect.ownKeys(e):Object.keys(e),r=0;r<o.length;r++){var n=o[r];if("__ob__"!==n){var a=e[n].from,s=t;while(s){if(s._provided&&b(s._provided,a)){i[n]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[n]){var c=e[n].default;i[n]="function"===typeof c?c.call(t):c}else 0}}return i}}function $t(e,t){if(!e||!e.length)return{};for(var i={},o=0,r=e.length;o<r;o++){var n=e[o],a=n.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,n.context!==t&&n.fnContext!==t||!a||null==a.slot)n.asyncMeta&&n.asyncMeta.data&&"page"===n.asyncMeta.data.slot?(i["page"]||(i["page"]=[])).push(n):(i.default||(i.default=[])).push(n);else{var s=a.slot,c=i[s]||(i[s]=[]);"template"===n.tag?c.push.apply(c,n.children||[]):c.push(n)}}for(var u in i)i[u].every(Pt)&&delete i[u];return i}function Pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Ct(e,t,o){var r,n=Object.keys(t).length>0,a=e?!!e.$stable:!n,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&o&&o!==i&&s===o.$key&&!n&&!o.$hasNormal)return o;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=xt(t,c,e[c]))}else r={};for(var u in t)u in r||(r[u]=It(t,u));return e&&Object.isExtensible(e)&&(e._normalized=r),V(r,"$stable",a),V(r,"$key",s),V(r,"$hasNormal",n),r}function xt(e,t,i){var o=function(){var e=arguments.length?i.apply(null,arguments):i({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:yt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:o,enumerable:!0,configurable:!0}),o}function It(e,t){return function(){return e[t]}}function Tt(e,t){var i,o,n,a,s;if(Array.isArray(e)||"string"===typeof e)for(i=new Array(e.length),o=0,n=e.length;o<n;o++)i[o]=t(e[o],o,o,o);else if("number"===typeof e)for(i=new Array(e),o=0;o<e;o++)i[o]=t(o+1,o,o,o);else if(c(e))if(ce&&e[Symbol.iterator]){i=[];var u=e[Symbol.iterator](),l=u.next();while(!l.done)i.push(t(l.value,i.length,o,o++)),l=u.next()}else for(a=Object.keys(e),i=new Array(a.length),o=0,n=a.length;o<n;o++)s=a[o],i[o]=t(e[s],s,o,o);return r(i)||(i=[]),i._isVList=!0,i}function jt(e,t,i,o){var r,n=this.$scopedSlots[e];n?(i=i||{},o&&(i=j(j({},o),i)),r=n(i,this,i._i)||t):r=this.$slots[e]||t;var a=i&&i.slot;return a?this.$createElement("template",{slot:a},r):r}function Ot(e){return Ve(this.$options,"filters",e,!0)||A}function Mt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Et(e,t,i,o,r){var n=B.keyCodes[t]||i;return r&&o&&!B.keyCodes[t]?Mt(r,o):n?Mt(n,e):o?P(o)!==t:void 0}function At(e,t,i,o,r){if(i)if(c(i)){var n;Array.isArray(i)&&(i=O(i));var a=function(a){if("class"===a||"style"===a||_(a))n=e;else{var s=e.attrs&&e.attrs.type;n=o||B.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=S(a),u=P(a);if(!(c in n)&&!(u in n)&&(n[a]=i[a],r)){var l=e.on||(e.on={});l["update:"+a]=function(e){i[a]=e}}};for(var s in i)a(s)}else;return e}function Lt(e,t){var i=this._staticTrees||(this._staticTrees=[]),o=i[e];return o&&!t||(o=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Ft(o,"__static__"+e,!1)),o}function Rt(e,t,i){return Ft(e,"__once__"+t+(i?"_"+i:""),!0),e}function Ft(e,t,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)e[o]&&"string"!==typeof e[o]&&Nt(e[o],t+"_"+o,i);else Nt(e,t,i)}function Nt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function Ut(e,t){if(t)if(l(t)){var i=e.on=e.on?j({},e.on):{};for(var o in t){var r=i[o],n=t[o];i[o]=r?[].concat(r,n):n}}else;return e}function Bt(e,t,i,o){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var n=e[r];Array.isArray(n)?Bt(n,t,i):n&&(n.proxy&&(n.fn.proxy=!0),t[n.key]=n.fn)}return o&&(t.$key=o),t}function zt(e,t){for(var i=0;i<t.length;i+=2){var o=t[i];"string"===typeof o&&o&&(e[t[i]]=t[i+1])}return e}function qt(e,t){return"string"===typeof e?t+e:e}function Vt(e){e._o=Rt,e._n=m,e._s=p,e._l=Tt,e._t=jt,e._q=L,e._i=R,e._m=Lt,e._f=Ot,e._k=Et,e._b=At,e._v=_e,e._e=ge,e._u=Bt,e._g=Ut,e._d=zt,e._p=qt}function Ht(e,t,o,r,a){var s,c=this,u=a.options;b(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var l=n(u._compiled),d=!l;this.data=e,this.props=t,this.children=o,this.parent=r,this.listeners=e.on||i,this.injections=kt(u.inject,r),this.slots=function(){return c.$slots||Ct(e.scopedSlots,c.$slots=$t(o,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ct(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Ct(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,i,o){var n=ri(s,e,t,i,o,d);return n&&!Array.isArray(n)&&(n.fnScopeId=u._scopeId,n.fnContext=r),n}:this._c=function(e,t,i,o){return ri(s,e,t,i,o,d)}}function Gt(e,t,o,n,a){var s=e.options,c={},u=s.props;if(r(u))for(var l in u)c[l]=He(l,u,t||i);else r(o.attrs)&&Yt(c,o.attrs),r(o.props)&&Yt(c,o.props);var d=new Ht(o,c,a,n,e),f=s.render.call(null,d._c,d);if(f instanceof pe)return Wt(f,o,d.parent,s,d);if(Array.isArray(f)){for(var h=yt(f)||[],p=new Array(h.length),m=0;m<h.length;m++)p[m]=Wt(h[m],o,d.parent,s,d);return p}}function Wt(e,t,i,o,r){var n=ve(e);return n.fnContext=i,n.fnOptions=o,t.slot&&((n.data||(n.data={})).slot=t.slot),n}function Yt(e,t){for(var i in t)e[S(i)]=t[i]}Vt(Ht.prototype);var Jt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;Jt.prepatch(i,i)}else{var o=e.componentInstance=Zt(e,Si);o.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions,o=t.componentInstance=e.componentInstance;Ci(o,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(ji(i,"onServiceCreated"),ji(i,"onServiceAttached"),i._isMounted=!0,ji(i,"mounted")),e.data.keepAlive&&(t._isMounted?qi(i):Ii(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Ti(t,!0):t.$destroy())}},Xt=Object.keys(Jt);function Qt(e,t,i,a,s){if(!o(e)){var u=i.$options._base;if(c(e)&&(e=u.extend(e)),"function"===typeof e){var l;if(o(e.cid)&&(l=e,e=pi(l,u),void 0===e))return hi(l,t,i,a,s);t=t||{},ho(e),r(t.model)&&ti(e.options,t);var d=gt(t,e,s,i);if(n(e.options.functional))return Gt(e,d,t,i,a);var f=t.on;if(t.on=t.nativeOn,n(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}Kt(t);var p=e.options.name||s,m=new pe("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:d,listeners:f,tag:s,children:a},l);return m}}}function Zt(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},o=e.data.inlineTemplate;return r(o)&&(i.render=o.render,i.staticRenderFns=o.staticRenderFns),new e.componentOptions.Ctor(i)}function Kt(e){for(var t=e.hook||(e.hook={}),i=0;i<Xt.length;i++){var o=Xt[i],r=t[o],n=Jt[o];r===n||r&&r._merged||(t[o]=r?ei(n,r):n)}}function ei(e,t){var i=function(i,o){e(i,o),t(i,o)};return i._merged=!0,i}function ti(e,t){var i=e.model&&e.model.prop||"value",o=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var n=t.on||(t.on={}),a=n[o],s=t.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(n[o]=[s].concat(a)):n[o]=s}var ii=1,oi=2;function ri(e,t,i,o,r,a){return(Array.isArray(i)||s(i))&&(r=o,o=i,i=void 0),n(a)&&(r=oi),ni(e,t,i,o,r)}function ni(e,t,i,o,n){if(r(i)&&r(i.__ob__))return ge();if(r(i)&&r(i.is)&&(t=i.is),!t)return ge();var a,s,c;(Array.isArray(o)&&"function"===typeof o[0]&&(i=i||{},i.scopedSlots={default:o[0]},o.length=0),n===oi?o=yt(o):n===ii&&(o=vt(o)),"string"===typeof t)?(s=e.$vnode&&e.$vnode.ns||B.getTagNamespace(t),a=B.isReservedTag(t)?new pe(B.parsePlatformTagName(t),i,o,void 0,void 0,e):i&&i.pre||!r(c=Ve(e.$options,"components",t))?new pe(t,i,o,void 0,void 0,e):Qt(c,i,e,o,t)):a=Qt(t,i,e,o);return Array.isArray(a)?a:r(a)?(r(s)&&ai(a,s),r(i)&&si(i),a):ge()}function ai(e,t,i){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,i=!0),r(e.children))for(var a=0,s=e.children.length;a<s;a++){var c=e.children[a];r(c.tag)&&(o(c.ns)||n(i)&&"svg"!==c.tag)&&ai(c,t,i)}}function si(e){c(e.style)&&lt(e.style),c(e.class)&&lt(e.class)}function ci(e){e._vnode=null,e._staticTrees=null;var t=e.$options,o=e.$vnode=t._parentVnode,r=o&&o.context;e.$slots=$t(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,i,o,r){return ri(e,t,i,o,r,!1)},e.$createElement=function(t,i,o,r){return ri(e,t,i,o,r,!0)};var n=o&&o.data;Ie(e,"$attrs",n&&n.attrs||i,null,!0),Ie(e,"$listeners",t._parentListeners||i,null,!0)}var ui,li=null;function di(e){Vt(e.prototype),e.prototype.$nextTick=function(e){return ct(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,o=i.render,r=i._parentVnode;r&&(t.$scopedSlots=Ct(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{li=t,e=o.call(t._renderProxy,t.$createElement)}catch(ir){Xe(ir,t,"render"),e=t._vnode}finally{li=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof pe||(e=ge()),e.parent=r,e}}function fi(e,t){return(e.__esModule||ce&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function hi(e,t,i,o,r){var n=ge();return n.asyncFactory=e,n.asyncMeta={data:t,context:i,children:o,tag:r},n}function pi(e,t){if(n(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=li;if(i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),n(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var a=e.owners=[i],s=!0,u=null,l=null;i.$on("hook:destroyed",(function(){return v(a,i)}));var d=function(e){for(var t=0,i=a.length;t<i;t++)a[t].$forceUpdate();e&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},f=F((function(i){e.resolved=fi(i,t),s?a.length=0:d(!0)})),p=F((function(t){r(e.errorComp)&&(e.error=!0,d(!0))})),m=e(f,p);return c(m)&&(h(m)?o(e.resolved)&&m.then(f,p):h(m.component)&&(m.component.then(f,p),r(m.error)&&(e.errorComp=fi(m.error,t)),r(m.loading)&&(e.loadingComp=fi(m.loading,t),0===m.delay?e.loading=!0:u=setTimeout((function(){u=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,d(!1))}),m.delay||200)),r(m.timeout)&&(l=setTimeout((function(){l=null,o(e.resolved)&&p(null)}),m.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function mi(e){return e.isComment&&e.asyncFactory}function gi(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||mi(i)))return i}}function _i(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&wi(e,t)}function vi(e,t){ui.$on(e,t)}function yi(e,t){ui.$off(e,t)}function bi(e,t){var i=ui;return function o(){var r=t.apply(null,arguments);null!==r&&i.$off(e,o)}}function wi(e,t,i){ui=e,pt(t,i||{},vi,yi,bi,e),ui=void 0}function Di(e){var t=/^hook:/;e.prototype.$on=function(e,i){var o=this;if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)o.$on(e[r],i);else(o._events[e]||(o._events[e]=[])).push(i),t.test(e)&&(o._hasHookEvent=!0);return o},e.prototype.$once=function(e,t){var i=this;function o(){i.$off(e,o),t.apply(i,arguments)}return o.fn=t,i.$on(e,o),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var o=0,r=e.length;o<r;o++)i.$off(e[o],t);return i}var n,a=i._events[e];if(!a)return i;if(!t)return i._events[e]=null,i;var s=a.length;while(s--)if(n=a[s],n===t||n.fn===t){a.splice(s,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?T(i):i;for(var o=T(arguments,1),r='event handler for "'+e+'"',n=0,a=i.length;n<a;n++)Qe(i[n],t,o,t,r)}return t}}var Si=null;function ki(e){var t=Si;return Si=e,function(){Si=t}}function $i(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Pi(e){e.prototype._update=function(e,t){var i=this,o=i.$el,r=i._vnode,n=ki(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),n(),o&&(o.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){ji(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||v(t.$children,e),e._watcher&&e._watcher.teardown();var i=e._watchers.length;while(i--)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),ji(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ci(e,t,o,r,n){var a=r.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==i&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key),u=!!(n||e.$options._renderChildren||c);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=n,e.$attrs=r.data.attrs||i,e.$listeners=o||i,t&&e.$options.props){ke(!1);for(var l=e._props,d=e.$options._propKeys||[],f=0;f<d.length;f++){var h=d[f],p=e.$options.props;l[h]=He(h,p,t,e)}ke(!0),e.$options.propsData=t}e._$updateProperties&&e._$updateProperties(e),o=o||i;var m=e.$options._parentListeners;e.$options._parentListeners=o,wi(e,o,m),u&&(e.$slots=$t(n,r.context),e.$forceUpdate())}function xi(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Ii(e,t){if(t){if(e._directInactive=!1,xi(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Ii(e.$children[i]);ji(e,"activated")}}function Ti(e,t){if((!t||(e._directInactive=!0,!xi(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Ti(e.$children[i]);ji(e,"deactivated")}}function ji(e,t){fe();var i=e.$options[t],o=t+" hook";if(i)for(var r=0,n=i.length;r<n;r++)Qe(i[r],e,null,e,o);e._hasHookEvent&&e.$emit("hook:"+t),he()}var Oi=[],Mi=[],Ei={},Ai=!1,Li=!1,Ri=0;function Fi(){Ri=Oi.length=Mi.length=0,Ei={},Ai=Li=!1}var Ni=Date.now;if(J&&!K){var Ui=window.performance;Ui&&"function"===typeof Ui.now&&Ni()>document.createEvent("Event").timeStamp&&(Ni=function(){return Ui.now()})}function Bi(){var e,t;for(Ni(),Li=!0,Oi.sort((function(e,t){return e.id-t.id})),Ri=0;Ri<Oi.length;Ri++)e=Oi[Ri],e.before&&e.before(),t=e.id,Ei[t]=null,e.run();var i=Mi.slice(),o=Oi.slice();Fi(),Vi(i),zi(o),ne&&B.devtools&&ne.emit("flush")}function zi(e){var t=e.length;while(t--){var i=e[t],o=i.vm;o._watcher===i&&o._isMounted&&!o._isDestroyed&&ji(o,"updated")}}function qi(e){e._inactive=!1,Mi.push(e)}function Vi(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ii(e[t],!0)}function Hi(e){var t=e.id;if(null==Ei[t]){if(Ei[t]=!0,Li){var i=Oi.length-1;while(i>Ri&&Oi[i].id>e.id)i--;Oi.splice(i+1,0,e)}else Oi.push(e);Ai||(Ai=!0,ct(Bi))}}var Gi=0,Wi=function(e,t,i,o,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync,this.before=o.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Gi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new se,this.newDepIds=new se,this.expression="","function"===typeof t?this.getter=t:(this.getter=G(t),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()};Wi.prototype.get=function(){var e;fe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(ir){if(!this.user)throw ir;Xe(ir,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&lt(e),he(),this.cleanupDeps()}return e},Wi.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Wi.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Wi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Hi(this)},Wi.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(ir){Xe(ir,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Wi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Wi.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},Wi.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var Yi={enumerable:!0,configurable:!0,get:M,set:M};function Ji(e,t,i){Yi.get=function(){return this[t][i]},Yi.set=function(e){this[t][i]=e},Object.defineProperty(e,i,Yi)}function Xi(e){e._watchers=[];var t=e.$options;t.props&&Qi(e,t.props),t.methods&&no(e,t.methods),t.data?Zi(e):xe(e._data={},!0),t.computed&&to(e,t.computed),t.watch&&t.watch!==ie&&ao(e,t.watch)}function Qi(e,t){var i=e.$options.propsData||{},o=e._props={},r=e.$options._propKeys=[],n=!e.$parent;n||ke(!1);var a=function(n){r.push(n);var a=He(n,t,i,e);Ie(o,n,a),n in e||Ji(e,"_props",n)};for(var s in t)a(s);ke(!0)}function Zi(e){var t=e.$options.data;t=e._data="function"===typeof t?Ki(t,e):t||{},l(t)||(t={});var i=Object.keys(t),o=e.$options.props,r=(e.$options.methods,i.length);while(r--){var n=i[r];0,o&&b(o,n)||q(n)||Ji(e,"_data",n)}xe(t,!0)}function Ki(e,t){fe();try{return e.call(t,t)}catch(ir){return Xe(ir,t,"data()"),{}}finally{he()}}var eo={lazy:!0};function to(e,t){var i=e._computedWatchers=Object.create(null),o=re();for(var r in t){var n=t[r],a="function"===typeof n?n:n.get;0,o||(i[r]=new Wi(e,a||M,M,eo)),r in e||io(e,r,n)}}function io(e,t,i){var o=!re();"function"===typeof i?(Yi.get=o?oo(t):ro(i),Yi.set=M):(Yi.get=i.get?o&&!1!==i.cache?oo(t):ro(i.get):M,Yi.set=i.set||M),Object.defineProperty(e,t,Yi)}function oo(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),de.SharedObject.target&&t.depend(),t.value}}function ro(e){return function(){return e.call(this,this)}}function no(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?M:I(t[i],e)}function ao(e,t){for(var i in t){var o=t[i];if(Array.isArray(o))for(var r=0;r<o.length;r++)so(e,i,o[r]);else so(e,i,o)}}function so(e,t,i,o){return l(i)&&(o=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,o)}function co(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Te,e.prototype.$delete=je,e.prototype.$watch=function(e,t,i){var o=this;if(l(t))return so(o,e,t,i);i=i||{},i.user=!0;var r=new Wi(o,e,t,i);if(i.immediate)try{t.call(o,r.value)}catch(n){Xe(n,o,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var uo=0;function lo(e){e.prototype._init=function(e){var t=this;t._uid=uo++,t._isVue=!0,e&&e._isComponent?fo(t,e):t.$options=qe(ho(t.constructor),e||{},t),t._renderProxy=t,t._self=t,$i(t),_i(t),ci(t),ji(t,"beforeCreate"),!t._$fallback&&St(t),Xi(t),!t._$fallback&&Dt(t),!t._$fallback&&ji(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function fo(e,t){var i=e.$options=Object.create(e.constructor.options),o=t._parentVnode;i.parent=t.parent,i._parentVnode=o;var r=o.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function ho(e){var t=e.options;if(e.super){var i=ho(e.super),o=e.superOptions;if(i!==o){e.superOptions=i;var r=po(e);r&&j(e.extendOptions,r),t=e.options=qe(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function po(e){var t,i=e.options,o=e.sealedOptions;for(var r in i)i[r]!==o[r]&&(t||(t={}),t[r]=i[r]);return t}function mo(e){this._init(e)}function go(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=T(arguments,1);return i.unshift(this),"function"===typeof e.install?e.install.apply(e,i):"function"===typeof e&&e.apply(null,i),t.push(e),this}}function _o(e){e.mixin=function(e){return this.options=qe(this.options,e),this}}function vo(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,o=i.cid,r=e._Ctor||(e._Ctor={});if(r[o])return r[o];var n=e.name||i.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=t++,a.options=qe(i.options,e),a["super"]=i,a.options.props&&yo(a),a.options.computed&&bo(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,N.forEach((function(e){a[e]=i[e]})),n&&(a.options.components[n]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=j({},a.options),r[o]=a,a}}function yo(e){var t=e.options.props;for(var i in t)Ji(e.prototype,"_props",i)}function bo(e){var t=e.options.computed;for(var i in t)io(e.prototype,i,t[i])}function wo(e){N.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&l(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"===typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}function Do(e){return e&&(e.Ctor.options.name||e.tag)}function So(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function ko(e,t){var i=e.cache,o=e.keys,r=e._vnode;for(var n in i){var a=i[n];if(a){var s=Do(a.componentOptions);s&&!t(s)&&$o(i,n,o,r)}}}function $o(e,t,i,o){var r=e[t];!r||o&&r.tag===o.tag||r.componentInstance.$destroy(),e[t]=null,v(i,t)}lo(mo),co(mo),Di(mo),Pi(mo),di(mo);var Po=[String,RegExp,Array],Co={name:"keep-alive",abstract:!0,props:{include:Po,exclude:Po,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)$o(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){ko(e,(function(e){return So(t,e)}))})),this.$watch("exclude",(function(t){ko(e,(function(e){return!So(t,e)}))}))},render:function(){var e=this.$slots.default,t=gi(e),i=t&&t.componentOptions;if(i){var o=Do(i),r=this,n=r.include,a=r.exclude;if(n&&(!o||!So(n,o))||a&&o&&So(a,o))return t;var s=this,c=s.cache,u=s.keys,l=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;c[l]?(t.componentInstance=c[l].componentInstance,v(u,l),u.push(l)):(c[l]=t,u.push(l),this.max&&u.length>parseInt(this.max)&&$o(c,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},xo={KeepAlive:Co};function Io(e){var t={get:function(){return B}};Object.defineProperty(e,"config",t),e.util={warn:ue,extend:j,mergeOptions:qe,defineReactive:Ie},e.set=Te,e.delete=je,e.nextTick=ct,e.observable=function(e){return xe(e),e},e.options=Object.create(null),N.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,j(e.options.components,xo),go(e),_o(e),vo(e),wo(e)}Io(mo),Object.defineProperty(mo.prototype,"$isServer",{get:re}),Object.defineProperty(mo.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(mo,"FunctionalRenderContext",{value:Ht}),mo.version="2.6.11";var To="[object Array]",jo="[object Object]";function Oo(e,t){var i={};return Mo(e,t),Eo(e,t,"",i),i}function Mo(e,t){if(e!==t){var i=Lo(e),o=Lo(t);if(i==jo&&o==jo){if(Object.keys(e).length>=Object.keys(t).length)for(var r in t){var n=e[r];void 0===n?e[r]=null:Mo(n,t[r])}}else i==To&&o==To&&e.length>=t.length&&t.forEach((function(t,i){Mo(e[i],t)}))}}function Eo(e,t,i,o){if(e!==t){var r=Lo(e),n=Lo(t);if(r==jo)if(n!=jo||Object.keys(e).length<Object.keys(t).length)Ao(o,i,e);else{var a=function(r){var n=e[r],a=t[r],s=Lo(n),c=Lo(a);if(s!=To&&s!=jo)n!==t[r]&&Ao(o,(""==i?"":i+".")+r,n);else if(s==To)c!=To||n.length<a.length?Ao(o,(""==i?"":i+".")+r,n):n.forEach((function(e,t){Eo(e,a[t],(""==i?"":i+".")+r+"["+t+"]",o)}));else if(s==jo)if(c!=jo||Object.keys(n).length<Object.keys(a).length)Ao(o,(""==i?"":i+".")+r,n);else for(var u in n)Eo(n[u],a[u],(""==i?"":i+".")+r+"."+u,o)};for(var s in e)a(s)}else r==To?n!=To||e.length<t.length?Ao(o,i,e):e.forEach((function(e,r){Eo(e,t[r],i+"["+r+"]",o)})):Ao(o,i,e)}}function Ao(e,t,i){e[t]=i}function Lo(e){return Object.prototype.toString.call(e)}function Ro(e){if(e.__next_tick_callbacks&&e.__next_tick_callbacks.length){if(Object({VUE_APP_NAME:"单商户V4",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG){var t=e.$scope;console.log("["+ +new Date+"]["+(t.is||t.route)+"]["+e._uid+"]:flushCallbacks["+e.__next_tick_callbacks.length+"]")}var i=e.__next_tick_callbacks.slice(0);e.__next_tick_callbacks.length=0;for(var o=0;o<i.length;o++)i[o]()}}function Fo(e){return Oi.find((function(t){return e._watcher===t}))}function No(e,t){if(!e.__next_tick_pending&&!Fo(e)){if(Object({VUE_APP_NAME:"单商户V4",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG){var i=e.$scope;console.log("["+ +new Date+"]["+(i.is||i.route)+"]["+e._uid+"]:nextVueTick")}return ct(t,e)}if(Object({VUE_APP_NAME:"单商户V4",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG){var o=e.$scope;console.log("["+ +new Date+"]["+(o.is||o.route)+"]["+e._uid+"]:nextMPTick")}var r;if(e.__next_tick_callbacks||(e.__next_tick_callbacks=[]),e.__next_tick_callbacks.push((function(){if(t)try{t.call(e)}catch(ir){Xe(ir,e,"nextTick")}else r&&r(e)})),!t&&"undefined"!==typeof Promise)return new Promise((function(e){r=e}))}function Uo(e){var t=Object.create(null),i=[].concat(Object.keys(e._data||{}),Object.keys(e._computedWatchers||{}));i.reduce((function(t,i){return t[i]=e[i],t}),t);var o=e.__composition_api_state__||e.__secret_vfa_state__,r=o&&o.rawBindings;return r&&Object.keys(r).forEach((function(i){t[i]=e[i]})),Object.assign(t,e.$mp.data||{}),Array.isArray(e.$options.behaviors)&&-1!==e.$options.behaviors.indexOf("uni://form-field")&&(t["name"]=e.name,t["value"]=e.value),JSON.parse(JSON.stringify(t))}var Bo=function(e,t){var i=this;if(null!==t&&("page"===this.mpType||"component"===this.mpType)){var o=this.$scope,r=Object.create(null);try{r=Uo(this)}catch(s){console.error(s)}r.__webviewId__=o.data.__webviewId__;var n=Object.create(null);Object.keys(r).forEach((function(e){n[e]=o.data[e]}));var a=!1===this.$shouldDiffData?r:Oo(r,n);Object.keys(a).length?(Object({VUE_APP_NAME:"单商户V4",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG&&console.log("["+ +new Date+"]["+(o.is||o.route)+"]["+this._uid+"]差量更新",JSON.stringify(a)),this.__next_tick_pending=!0,o.setData(a,(function(){i.__next_tick_pending=!1,Ro(i)}))):Ro(this)}};function zo(){}function qo(e,t,i){if(!e.mpType)return e;"app"===e.mpType&&(e.$options.render=zo),e.$options.render||(e.$options.render=zo),!e._$fallback&&ji(e,"beforeMount");var o=function(){e._update(e._render(),i)};return new Wi(e,o,M,{before:function(){e._isMounted&&!e._isDestroyed&&ji(e,"beforeUpdate")}},!0),i=!1,e}function Vo(e,t){return r(e)||r(t)?Ho(e,Go(t)):""}function Ho(e,t){return e?t?e+" "+t:e:t||""}function Go(e){return Array.isArray(e)?Wo(e):c(e)?Yo(e):"string"===typeof e?e:""}function Wo(e){for(var t,i="",o=0,n=e.length;o<n;o++)r(t=Go(e[o]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function Yo(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}var Jo=w((function(e){var t={},i=/;(?![^(]*\))/g,o=/:(.+)/;return e.split(i).forEach((function(e){if(e){var i=e.split(o);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function Xo(e){return Array.isArray(e)?O(e):"string"===typeof e?Jo(e):e}var Qo=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];function Zo(e,t){var i=t.split("."),o=i[0];return 0===o.indexOf("__$n")&&(o=parseInt(o.replace("__$n",""))),1===i.length?e[o]:Zo(e[o],i.slice(1).join("."))}function Ko(e){e.config.errorHandler=function(t,i,o){e.util.warn("Error in "+o+': "'+t.toString()+'"',i),console.error(t);var r="function"===typeof getApp&&getApp();r&&r.onError&&r.onError(t)};var t=e.prototype.$emit;e.prototype.$emit=function(e){return this.$scope&&e&&(this.$scope["_triggerEvent"]||this.$scope["triggerEvent"]).call(this.$scope,e,{__args__:T(arguments,1)}),t.apply(this,arguments)},e.prototype.$nextTick=function(e){return No(this,e)},Qo.forEach((function(t){e.prototype[t]=function(e){return this.$scope&&this.$scope[t]?this.$scope[t](e):"undefined"!==typeof my?"createSelectorQuery"===t?my.createSelectorQuery(e):"createIntersectionObserver"===t?my.createIntersectionObserver(e):void 0:void 0}})),e.prototype.__init_provide=Dt,e.prototype.__init_injections=St,e.prototype.__call_hook=function(e,t){var i=this;fe();var o,r=i.$options[e],n=e+" hook";if(r)for(var a=0,s=r.length;a<s;a++)o=Qe(r[a],i,t?[t]:null,i,n);return i._hasHookEvent&&i.$emit("hook:"+e,t),he(),o},e.prototype.__set_model=function(t,i,o,r){Array.isArray(r)&&(-1!==r.indexOf("trim")&&(o=o.trim()),-1!==r.indexOf("number")&&(o=this._n(o))),t||(t=this),e.set(t,i,o)},e.prototype.__set_sync=function(t,i,o){t||(t=this),e.set(t,i,o)},e.prototype.__get_orig=function(e){return l(e)&&e["$orig"]||e},e.prototype.__get_value=function(e,t){return Zo(t||this,e)},e.prototype.__get_class=function(e,t){return Vo(t,e)},e.prototype.__get_style=function(e,t){if(!e&&!t)return"";var i=Xo(e),o=t?j(t,i):i;return Object.keys(o).map((function(e){return P(e)+":"+o[e]})).join(";")},e.prototype.__map=function(e,t){var i,o,r,n,a;if(Array.isArray(e)){for(i=new Array(e.length),o=0,r=e.length;o<r;o++)i[o]=t(e[o],o);return i}if(c(e)){for(n=Object.keys(e),i=Object.create(null),o=0,r=n.length;o<r;o++)a=n[o],i[a]=t(e[a],a,o);return i}if("number"===typeof e){for(i=new Array(e),o=0,r=e;o<r;o++)i[o]=t(o,o);return i}return[]}}var er=["onLaunch","onShow","onHide","onUniNViewMessage","onPageNotFound","onThemeChange","onError","onUnhandledRejection","onInit","onLoad","onReady","onUnload","onPullDownRefresh","onReachBottom","onTabItemTap","onAddToFavorites","onShareTimeline","onShareAppMessage","onResize","onPageScroll","onNavigationBarButtonTap","onBackPress","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarSearchInputClicked","onPageShow","onPageHide","onPageResize"];function tr(e){var t=e.extend;e.extend=function(e){e=e||{};var i=e.methods;return i&&Object.keys(i).forEach((function(t){-1!==er.indexOf(t)&&(e[t]=i[t],delete i[t])})),t.call(this,e)};var i=e.config.optionMergeStrategies,o=i.created;er.forEach((function(e){i[e]=o})),e.prototype.__lifecycle_hooks__=er}mo.prototype.__patch__=Bo,mo.prototype.$mount=function(e,t){return qo(this,e,t)},tr(mo),Ko(mo),t["default"]=mo}.call(this,i("c8ba"))},"67d2":function(e,t,i){function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(t,i){e.exports=i(t)}(window,(function(e,t){function i(t,i,o){e.WeixinJSBridge?WeixinJSBridge.invoke(t,n(i),(function(e){s(t,e,o)})):u(t,o)}function r(t,i,o){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){o&&o.trigger&&o.trigger(e),s(t,e,i)})):u(t,o||i)}function n(e){return(e=e||{}).appId=C.appId,e.verifyAppId=C.appId,e.verifySignType="sha1",e.verifyTimestamp=C.timestamp+"",e.verifyNonceStr=C.nonceStr,e.verifySignature=C.signature,e}function a(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function s(e,t,i){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var o=t.errMsg;o||(o=t.err_msg,delete t.err_msg,o=function(e,t){var i=e,o=p[i];o&&(i=o);var r="ok";if(t){var n=t.indexOf(":");"confirm"==(r=t.substring(n+1))&&(r="ok"),"failed"==r&&(r="fail"),-1!=r.indexOf("failed_")&&(r=r.substring(7)),-1!=r.indexOf("fail_")&&(r=r.substring(5)),"access denied"!=(r=(r=r.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=r||(r="permission denied"),"config"==i&&"function not exist"==r&&(r="ok"),""==r&&(r="fail")}return i+":"+r}(e,o),t.errMsg=o),(i=i||{})._complete&&(i._complete(t),delete i._complete),o=t.errMsg||"",C.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t));var r=o.indexOf(":");switch(o.substring(r+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function c(e){if(e){for(var t=0,i=e.length;t<i;++t){var o=e[t],r=h[o];r&&(e[t]=r)}return e}}function u(e,t){if(!(!C.debug||t&&t.isInnerInvoke)){var i=p[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function l(){return(new Date).getTime()}function d(t){w&&(e.WeixinJSBridge?t():m.addEventListener&&m.addEventListener("WeixinJSBridgeReady",t,!1))}if(!e.jWeixin){var f,h={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},p=function(){var e={};for(var t in h)e[h[t]]=t;return e}(),m=e.document,g=m.title,_=navigator.userAgent.toLowerCase(),v=navigator.platform.toLowerCase(),y=!(!v.match("mac")&&!v.match("win")),b=-1!=_.indexOf("wxdebugger"),w=-1!=_.indexOf("micromessenger"),D=-1!=_.indexOf("android"),S=-1!=_.indexOf("iphone")||-1!=_.indexOf("ipad"),k=(A=_.match(/micromessenger\/(\d+\.\d+\.\d+)/)||_.match(/micromessenger\/(\d+\.\d+)/))?A[1]:"",$={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},P={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:S?1:D?2:-1,clientVersion:k,url:encodeURIComponent(location.href)},C={},x={_completes:[]},I={state:0,data:{}};d((function(){$.initEndTime=l()}));var T=!1,j=[],O=(f={config:function(t){u("config",C=t);var o=!1!==C.check;d((function(){if(o)i(h.config,{verifyJsApiList:c(C.jsApiList)},function(){x._complete=function(e){$.preVerifyEndTime=l(),I.state=1,I.data=e},x.success=function(e){P.isPreVerifyOk=0},x.fail=function(e){x._fail?x._fail(e):I.state=-1};var e=x._completes;return e.push((function(){!function(e){if(!(y||b||C.debug||k<"6.0.2"||P.systemType<0)){var t=new Image;P.appId=C.appId,P.initTime=$.initEndTime-$.initStartTime,P.preVerifyTime=$.preVerifyEndTime-$.preVerifyStartTime,O.getNetworkType({isInnerInvoke:!0,success:function(e){P.networkType=e.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+P.version+"&o="+P.isPreVerifyOk+"&s="+P.systemType+"&c="+P.clientVersion+"&a="+P.appId+"&n="+P.networkType+"&i="+P.initTime+"&p="+P.preVerifyTime+"&u="+P.url;t.src=i}})}}()})),x.complete=function(t){for(var i=0,o=e.length;i<o;++i)e[i]();x._completes=[]},x}()),$.preVerifyStartTime=l();else{I.state=1;for(var e=x._completes,t=0,r=e.length;t<r;++t)e[t]();x._completes=[]}})),O.invoke||(O.invoke=function(t,i,o){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,n(i),o)},O.on=function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)})},ready:function(e){0!=I.state?e():(x._completes.push(e),!w&&C.debug&&e())},error:function(e){k<"6.0.2"||(-1==I.state?e(I.data):x._fail=e)},checkJsApi:function(e){i("checkJsApi",{jsApiList:c(e.jsApiList)},(e._complete=function(e){if(D){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var i in t){var o=p[i];o&&(t[o]=t[i],delete t[i])}return e}(e)},e))},onMenuShareTimeline:function(e){r(h.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:e.title||g,desc:e.title||g,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){r(h.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?i("sendAppMessage",{title:e.title||g,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):i("sendAppMessage",{title:e.title||g,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){r(h.onMenuShareQQ,{complete:function(){i("shareQQ",{title:e.title||g,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){r(h.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:e.title||g,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){r(h.onMenuShareQZone,{complete:function(){i("shareQZone",{title:e.title||g,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){i("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){i("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){i("startRecord",{},e)},stopRecord:function(e){i("stopRecord",{},e)},onVoiceRecordEnd:function(e){r("onVoiceRecordEnd",e)},playVoice:function(e){i("playVoice",{localId:e.localId},e)},pauseVoice:function(e){i("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){i("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){r("onVoicePlayEnd",e)},uploadVoice:function(e){i("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){i("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){i("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){i("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(D){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){i(h.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){i("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){i("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===T?(T=!0,i("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(T=!1,0<j.length){var t=j.shift();wx.getLocalImgData(t)}},e))):j.push(e)},getNetworkType:function(e){i("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var o=t.indexOf(":"),r=t.substring(o+1);switch(r){case"wifi":case"edge":case"wwan":e.networkType=r;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},o(f,"getLocation",(function(e){i(h.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))})),o(f,"hideOptionMenu",(function(e){i("hideOptionMenu",{},e)})),o(f,"showOptionMenu",(function(e){i("showOptionMenu",{},e)})),o(f,"closeWindow",(function(e){i("closeWindow",{},e=e||{})})),o(f,"hideMenuItems",(function(e){i("hideMenuItems",{menuList:e.menuList},e)})),o(f,"showMenuItems",(function(e){i("showMenuItems",{menuList:e.menuList},e)})),o(f,"hideAllNonBaseMenuItem",(function(e){i("hideAllNonBaseMenuItem",{},e)})),o(f,"showAllNonBaseMenuItem",(function(e){i("showAllNonBaseMenuItem",{},e)})),o(f,"scanQRCode",(function(e){i("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(S){var t=e.resultStr;if(t){var i=JSON.parse(t);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))})),o(f,"openAddress",(function(e){i(h.openAddress,{},(e._complete=function(e){var t;(t=e).postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,e=t},e))})),o(f,"openProductSpecificView",(function(e){i(h.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)})),o(f,"addCard",(function(e){for(var t=e.cardList,o=[],r=0,n=t.length;r<n;++r){var a=t[r],s={card_id:a.cardId,card_ext:a.cardExt};o.push(s)}i(h.addCard,{card_list:o},(e._complete=function(e){var t=e.card_list;if(t){for(var i=0,o=(t=JSON.parse(t)).length;i<o;++i){var r=t[i];r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ}e.cardList=t,delete e.card_list}},e))})),o(f,"chooseCard",(function(e){i("chooseCard",{app_id:C.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),o(f,"openCard",(function(e){for(var t=e.cardList,o=[],r=0,n=t.length;r<n;++r){var a=t[r],s={card_id:a.cardId,code:a.code};o.push(s)}i(h.openCard,{card_list:o},e)})),o(f,"consumeAndShareCard",(function(e){i(h.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)})),o(f,"chooseWXPay",(function(e){i(h.chooseWXPay,a(e),e)})),o(f,"openEnterpriseRedPacket",(function(e){i(h.openEnterpriseRedPacket,a(e),e)})),o(f,"startSearchBeacons",(function(e){i(h.startSearchBeacons,{ticket:e.ticket},e)})),o(f,"stopSearchBeacons",(function(e){i(h.stopSearchBeacons,{},e)})),o(f,"onSearchBeacons",(function(e){r(h.onSearchBeacons,e)})),o(f,"openEnterpriseChat",(function(e){i("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)})),o(f,"launchMiniProgram",(function(e){i("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?t+"?"+i:t}}(e.path),envVersion:e.envVersion},e)})),o(f,"miniProgram",{navigateBack:function(e){e=e||{},d((function(){i("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){d((function(){i("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){d((function(){i("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){d((function(){i("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){d((function(){i("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){d((function(){i("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){d((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}),f),M=1,E={};return m.addEventListener("error",(function(e){if(!D){var t=e.target,i=t.tagName,o=t.src;if(("IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i)&&-1!=o.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var r=t["wx-id"];if(r||(r=M++,t["wx-id"]=r),E[r])return;E[r]=!0,wx.ready((function(){wx.getLocalImgData({localId:o,success:function(e){t.src=e.localData}})}))}}}),!0),m.addEventListener("load",(function(e){if(!D){var t=e.target,i=t.tagName;if(t.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var o=t["wx-id"];o&&(E[o]=!1)}}}),!0),t&&(e.wx=e.jWeixin=O),O}var A}))},"6b23":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"6c95":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"修改头像"};t.lang=o},"6e51":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"充值列表"};t.lang=o},"6ec9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"6fb2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={default:{name:"default",main_color:"#FF4646",aux_color:"#F7B500",bg_color:"#FF4646",bg_color_shallow:"#FF4646",promotion_color:"#FF4646",promotion_aux_color:"#F7B500",main_color_shallow:"#FFF4F4",price_color:"rgba(252,82,39,1)",btn_text_color:"#FFFFFF",goods_detail:{goods_price:"rgba(252,82,39,1)",promotion_tag:"#FF4646",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#FC5227",goods_cart_num_corner:"#FC5227",goods_btn_color:"#FF4646",goods_btn_color_shallow:"#F7B500"},pintuan:{pintuan_label_bg:"#F7B500",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#7c7878",super_member_end_bg:"#201a18",super_member_start_text_color:"#FFDBA6",super_member_end_text_color:"#FFEBCA"}},green:{name:"green",main_color:"#19C650",aux_color:"#FA6400",bg_color:"#19C650",bg_color_shallow:"#19C650",promotion_color:"#19C650",promotion_aux_color:"#FA6400",main_color_shallow:"#F0FFF5",price_color:"rgba(252,82,39,1)",btn_text_color:"#FFFFFF",goods_detail:{goods_price:"rgba(252,82,39,1)",promotion_tag:"#19C650",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#FC5227",goods_cart_num_corner:"#FC5227",goods_btn_color:"#19C650",goods_btn_color_shallow:"#FA6400"},pintuan:{pintuan_label_bg:"#FA6400",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#7c7878",super_member_end_bg:"#201a18",super_member_start_text_color:"#FFDBA6",super_member_end_text_color:"#FFEBCA"}},blue:{name:"blue",main_color:"#36ABFF",aux_color:"#FA6400",bg_color:"#36ABFF",bg_color_shallow:"#36ABFF",promotion_color:"#36ABFF ",promotion_aux_color:"#FA6400",main_color_shallow:"#E2F3FF",price_color:"rgba(252,82,39,1)",btn_text_color:"#FFFFFF",goods_detail:{goods_price:"rgba(252,82,39,1)",promotion_tag:"#36ABFF",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#FC5227",goods_cart_num_corner:"#FC5227",goods_btn_color:"#36ABFF",goods_btn_color_shallow:"#FA6400"},pintuan:{pintuan_label_bg:"#FA6400",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#7c7878",super_member_end_bg:"#201a18",super_member_start_text_color:"#FFDBA6",super_member_end_text_color:"#FFEBCA"}},pink:{name:"pink",main_color:"#FF407E",aux_color:"#F7B500",bg_color:"#FF407E",bg_color_shallow:"#FF407E",promotion_color:"#FF407E",promotion_aux_color:"#F7B500",main_color_shallow:"#FFF5F8",price_color:"rgba(252,82,39,1)",btn_text_color:"#FFFFFF",goods_detail:{goods_price:"rgba(252,82,39,1)",promotion_tag:"#FF407E",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#FC5227",goods_cart_num_corner:"#FC5227",goods_btn_color:"#FF407E",goods_btn_color_shallow:"#F7B500"},pintuan:{pintuan_label_bg:"#F7B500",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#7c7878",super_member_end_bg:"#201a18",super_member_start_text_color:"#FFDBA6",super_member_end_text_color:"#FFEBCA"}},gold:{name:"gold",main_color:"#CFAF70",aux_color:"#444444",bg_color:"#CFAF70",bg_color_shallow:"#CFAF70",promotion_color:"#CFAF70",promotion_aux_color:"#444444",main_color_shallow:"#FFFAF1",price_color:"rgba(252,82,39,1)",btn_text_color:"#FFFFFF",goods_detail:{goods_price:"rgba(252,82,39,1)",promotion_tag:"#CFAF70",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#FC5227",goods_cart_num_corner:"#FC5227",goods_btn_color:"#CFAF70",goods_btn_color_shallow:"#444444"},pintuan:{pintuan_label_bg:"#444444",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#7c7878",super_member_end_bg:"#201a18",super_member_start_text_color:"#FFDBA6",super_member_end_text_color:"#FFEBCA"}},purple:{name:"purple",main_color:"#A253FF",aux_color:"#222222",bg_color:"#A253FF",bg_color_shallow:"#A253FF",promotion_color:"#A253FF",promotion_aux_color:"#222222",main_color_shallow:"#F8F3FF",price_color:"rgba(252,82,39,1)",btn_text_color:"#FFFFFF",goods_detail:{goods_price:"rgba(252,82,39,1)",promotion_tag:"#A253FF",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#FC5227",goods_cart_num_corner:"#FC5227",goods_btn_color:"#A253FF",goods_btn_color_shallow:"#222222"},pintuan:{pintuan_label_bg:"#222222",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#7c7878",super_member_end_bg:"#201a18",super_member_start_text_color:"#FFDBA6",super_member_end_text_color:"#FFEBCA"}},yellow:{name:"yellow",main_color:"#FFD009",aux_color:"#1D262E",bg_color:"#FFD009",bg_color_shallow:"#FFD009",promotion_color:"#FFD009",promotion_aux_color:"#1D262E",main_color_shallow:"#FFFBEF",price_color:"rgba(252,82,39,1)",btn_text_color:"#303133",goods_detail:{goods_price:"rgba(252,82,39,1)",promotion_tag:"#FFD009",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#FC5227",goods_cart_num_corner:"#FC5227",goods_btn_color:"#FFD009",goods_btn_color_shallow:"#1D262E"},pintuan:{pintuan_label_bg:"#1D262E",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#7c7878",super_member_end_bg:"#201a18",super_member_start_text_color:"#FFDBA6",super_member_end_text_color:"#FFEBCA"}},black:{name:"black",main_color:"#222222",aux_color:"#FFFFFF",bg_color:"#222222",bg_color_shallow:"#333333",promotion_color:"#222222",promotion_aux_color:"#FA8B00",main_color_shallow:"#efefef",price_color:"rgba(255,0,0,1)",btn_text_color:"#FFFFFF",goods_detail:{goods_price:"rgba(255,0,0,1)",promotion_tag:"#222222",goods_card_bg:"#201A18",goods_card_bg_shallow:"#7C7878",goods_card_color:"#FFD792",goods_coupon:"#222222",goods_cart_num_corner:"#FF0000",goods_btn_color:"#222222",goods_btn_color_shallow:"#FA8B00"},pintuan:{pintuan_label_bg:"#FFFFFF",pintuan_label_color:"#FFFFFF"},super_member:{super_member_start_bg:"#fadcb5",super_member_end_bg:"#f6bd74",super_member_start_text_color:"#ab6126",super_member_end_text_color:"#d19336"}}};t.default=o},"70be":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{token:"",cartData:[],checkAll:!0,totalPrice:"0.00",totalCount:0,modifyFlag:!1,isSub:!1,invalidGoods:[],isIphoneX:!1,cartBottom:"56px",isAction:!1,goodsSkuDetail:null,discount:{},manjian:{},receiveSub:!1,discountPopupShow:!1}},onLoad:function(){e.hideTabBar()},onShow:function(){e.getStorageSync("token")?this.getCartData():(this.token="",this.cartData=[],this.calculationTotalPrice()),this.isIphoneX=this.$util.uniappIsIPhoneX(),this.$util.uniappIsIPhone11()&&(this.cartBottom="90px")},onReady:function(){e.getStorageSync("token")||this.$refs.loadingCover&&this.$refs.loadingCover.hide()},computed:{hasData:function(){return this.cartData.length>0||this.invalidGoods.length>0},storeToken:function(){return this.$store.state.token}},watch:{storeToken:function(e,t){this.getCartData()}},methods:{initNum:function(e){var t=e.max_buy>0&&e.max_buy<e.stock?e.max_buy:e.stock;return t=0==t?1:t,e.num>t?t:e.num},getCartData:function(){var t=this;this.$api.sendRequest({url:"/api/cart/goodslists",success:function(i){i.code>=0?(t.token=e.getStorageSync("token"),i.data.length?t.handleCartData(i.data):t.cartData=[]):t.token="",t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},handleCartData:function(e){var t=this;this.invalidGoods=[],this.cartData=[];var i={};e.forEach((function(e,o){1==e.goods_state?e.min_buy>0&&e.min_buy>e.stock?t.invalidGoods.push(e):(e.checked=!0,e.edit=!1,void 0!=i["site_"+e.site_id]?i["site_"+e.site_id].cartList.push(e):i["site_"+e.site_id]={siteId:e.site_id,siteName:e.site_name,edit:!1,checked:!0,cartList:[e]}):t.invalidGoods.push(e)})),this.cartData=[],Object.keys(i).forEach((function(e){t.cartData.push(i[e])})),this.calculationTotalPrice(),this.cartData.length&&this.cartData[0].cartList.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.invalidGoods.length&&this.invalidGoods.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]}))},singleElection:function(e,t){this.cartData[e].cartList[t].checked=!this.cartData[e].cartList[t].checked,this.calculationTotalPrice()},siteAllElection:function(e,t){this.cartData[t].checked=e,this.cartData[t].cartList.forEach((function(t){t.checked=e})),this.calculationTotalPrice()},allElection:function(e){var t=this;this.checkAll="boolean"==typeof e?e:!this.checkAll,this.cartData.length&&this.cartData.forEach((function(e){e.checked=t.checkAll,e.cartList.forEach((function(e){e.checked=t.checkAll}))})),this.calculationTotalPrice()},calculationTotalPrice:function(){if(this.cartData.length){var e=0,t=0,i=0;this.cartData.forEach((function(o){var r=0;o.cartList.forEach((function(i){i.checked&&(r+=1,t+=parseInt(i.num),Number(i.member_price)>0&&Number(i.member_price)<Number(i.discount_price)?e+=i.member_price*i.num:e+=i.discount_price*i.num)})),o.cartList.length==r?(o.checked=!0,i+=1):o.checked=!1})),this.totalPrice=e.toFixed(2),this.totalCount=t,this.checkAll=this.cartData.length==i}else this.totalPrice="0.00",this.totalCount=0;this.modifyFlag=!1,this.discountCalculate()},deleteCart:function(t,i,o){var r=this,n=[];if("all"==t)for(var a=0;a<this.cartData.length;a++)for(var s=0;s<this.cartData[a].cartList.length;s++)this.cartData[a].cartList[s].checked&&n.push(this.cartData[a].cartList[s].cart_id);else n.push(this.cartData[i].cartList[o].cart_id);0!=n.length?e.showModal({title:"提示",content:"确定要删除这些商品吗？",success:function(e){e.confirm&&(n=n.toString(),r.calculationTotalPrice(),r.getCartNumber(),r.$api.sendRequest({url:"/api/cart/delete",data:{cart_id:n},success:function(e){if(e.code>=0){if("all"==t)for(var n=0;n<r.cartData.length;n++){for(var a=0;a<r.cartData[n].cartList.length;a++){var s=r.cartData[n].cartList[a];s.checked&&(r.cartData[n].cartList.splice(a,1),a=-1)}0==r.cartData[n].cartList.length&&(r.cartData.splice(n,1),n=-1)}else r.cartData[i].cartList.splice(o,1),0==r.cartData[i].cartList.length&&r.cartData.splice(i,1);r.calculationTotalPrice(),r.getCartNumber()}else r.$util.showToast({title:e.message})}}))}}):this.$util.showToast({title:"请选择要删除的商品"})},cartNumChange:function(e,t){var i=this;if(!isNaN(e)){var o=this.cartData[t.siteIndex].cartList[t.cartIndex],r=o.is_limit&&o.max_buy>0&&o.max_buy<o.stock?o.max_buy:o.stock,n=o.min_buy>0?o.min_buy:1;e>r&&(e=r),e<n&&(e=n),this.modifyFlag=!0,this.$api.sendRequest({url:"/api/cart/edit",data:{num:e,cart_id:this.cartData[t.siteIndex].cartList[t.cartIndex].cart_id},success:function(o){o.code>=0?(i.cartData[t.siteIndex].cartList[t.cartIndex].num=e,i.calculationTotalPrice(),i.getCartNumber()):i.$util.showToast({title:o.message})}})}},settlement:function(){var t=this;if(this.totalCount>0){var i=[];if(this.cartData.forEach((function(e){e.cartList.forEach((function(e){e.checked&&i.push(e.cart_id)}))})),this.discount.coupon_info&&"wait"==this.discount.coupon_info.receive_type&&this.receiveCoupon(this.discount.coupon_info.coupon_type_id,!1),this.isSub)return;this.isSub=!0,e.removeStorageSync("delivery"),e.setStorage({key:"orderCreateData",data:{cart_ids:i.toString()},success:function(){t.$util.redirectTo("/pages/order/payment"),t.isSub=!1}})}},clearInvalidGoods:function(){var t=this;e.showModal({title:"提示",content:"确定要清空这些商品吗？",success:function(e){if(e.confirm){var i=[];t.invalidGoods.forEach((function(e){i.push(e.cart_id)})),i.length&&t.$api.sendRequest({url:"/api/cart/delete",data:{cart_id:i.toString()},success:function(e){e.code>=0?(t.invalidGoods=[],t.getCartNumber()):t.$util.showToast({title:e.message})}})}}})},imageError:function(e,t){this.cartData[e].cartList[t].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},toGoodsDetail:function(e){this.$util.redirectTo("/pages/goods/detail",{sku_id:e.sku_id})},getCartNumber:function(){e.getStorageSync("token")&&(this.$store.dispatch("getCartNumber"),this.resetEditStatus())},goodsLimit:function(e,t){var i=this.cartData[0].cartList[t];"plus"==e.type?i.max_buy>0&&i.max_buy<i.stock?this.$util.showToast({title:"该商品每人限购"+i.max_buy+"件"}):this.$util.showToast({title:"库存不足"}):this.$util.showToast({title:"最少购买"+e.value+"件"})},toLogin:function(){this.$refs.login.open()},resetEditStatus:function(){if(this.cartData.length){for(var e=0;e<this.cartData[0].cartList.length;e++)this.cartData[0].cartList[e].edit=!1;this.$forceUpdate()}},changeAction:function(){this.isAction=!this.isAction,this.resetEditStatus()},selectSku:function(e){var t=this,i=this.$util.deepClone(e);i.goods_spec_format&&(i.goods_spec_format=JSON.parse(i.goods_spec_format)),this.goodsSkuDetail=i,setTimeout((function(){t.$refs.selectSku.show("confirm",(function(i,o){t.$api.sendRequest({url:"/api/cart/editcartsku",data:{cart_id:e.cart_id,sku_id:i,num:o},success:function(e){e.code>=0?(t.invalidGoods=[],t.getCartData(),t.getCartNumber()):t.$util.showToast({title:e.message})}})}))}))},toggleDiscountPopup:function(){this.$refs.discountPopup.showPopup?this.$refs.discountPopup.close():this.$refs.discountPopup.open(),this.discountPopupShow=!this.discountPopupShow},discountCalculate:function(){var e=this,t=[];this.cartData.forEach((function(e){e.cartList.forEach((function(e){e.checked&&t.push({sku_id:e.sku_id,num:e.num})}))})),t.length?this.$api.sendRequest({url:"/api/cartcalculate/calculate",data:{sku_ids:JSON.stringify(t)},success:function(t){if(t.code>=0&&t.data&&(t.data.coupon_money>0||t.data.promotion_money>0)){e.discount=t.data;var i={};t.data.goods_list.forEach((function(e){e.promotion&&e.promotion.manjian&&(i["sku_"+e.sku_id]=JSON.parse(e.promotion.manjian.rule_json))})),Object.assign(e.manjian,i)}}}):this.discount={}},receiveCoupon:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.receiveSub||(this.receiveSub=!0,this.$api.sendRequest({url:"/coupon/api/coupon/receive",data:{coupon_type_id:e,get_type:2},success:function(e){0==e.code?t.$set(t.discount.coupon_info,"receive_type",""):(i&&t.$util.showToast({title:e.message}),t.receiveSub=!1)}}))},moneyFormat:function(e){return isNaN(parseFloat(e))?e:parseFloat(e).toFixed(2)},refreshSkuDetail:function(e){this.goodsSkuDetail=e}},onHide:function(){this.isAction=!1}};t.default=i}).call(this,i("543d")["default"])},"71b3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的预售",emptyTips:"暂无相关预售订单",update:"释放刷新",updateIng:"加载中..."};t.lang=o},7250:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"支付结果",paymentSuccess:"支付成功",paymentFail:"支付失败",goHome:"回到首页",memberCenter:"会员中心",payMoney:"支付金额",unit:"元"};t.lang=o},"72c4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"找回密码",findPassword:"找回密码",accountPlaceholder:"请输入手机号",captchaPlaceholder:"请输入验证码",dynacodePlaceholder:"请输入动态码",passwordPlaceholder:"请输入新密码",rePasswordPlaceholder:"请确认新密码",next:"下一步",save:"确认修改"};t.lang=o},"73ab":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={tabBar:{home:"index",category:"category",cart:"cart",member:"member"},common:{name:"英文",mescrollTextInOffset:"pull to refresh",mescrollTextOutOffset:"Loading...",mescrollEmpty:"No data available",goodsRecommendTitle:"Guess you like",currencySymbol:"¥"}};t.lang=o},"740a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我要咨询"};t.lang=o},7582:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"75cf8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={contact:"",person:"",personadd:"","contact-filled":"","person-filled":"","personadd-filled":"",phone:"",email:"",chatbubble:"",chatboxes:"","phone-filled":"","email-filled":"","chatbubble-filled":"","chatboxes-filled":"",weibo:"",weixin:"",pengyouquan:"",chat:"",qq:"",videocam:"",camera:"",mic:"",location:"","mic-filled":"",speech:"","location-filled":"",micoff:"",image:"",map:"",compose:"",trash:"",upload:"",download:"",close:"",redo:"",undo:"",refresh:"",star:"",plus:"",minus:"",circle:"",checkbox:"","close-filled":"",clear:"","refresh-filled":"","star-filled":"","plus-filled":"","minus-filled":"","circle-filled":"","checkbox-filled":"",closeempty:"",refreshempty:"",reload:"",starhalf:"",spinner:"","spinner-cycle":"",search:"",plusempty:"",forward:"",back:"","left-nav":"",checkmarkempty:"",home:"",navigate:"",gear:"",paperplane:"",info:"",help:"",locked:"",more:"",flag:"","home-filled":"","gear-filled":"","info-filled":"","help-filled":"","more-filled":"",settings:"",list:"",bars:"",loop:"",paperclip:"",eye:"",arrowup:"",arrowdown:"",arrowleft:"",arrowright:"",arrowthinup:"",arrowthindown:"",arrowthinleft:"",arrowthinright:"",pulldown:"",closefill:"",sound:"",scan:""};t.default=o},7609:function(e,t,i){"use strict";(function(e){function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{outTradeNo:"",isIphoneX:!1,orderCreateData:{is_balance:0,is_point:1,is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,coupon:{coupon_id:0}},paymentData:null,calculateData:null,tempData:null,storeId:0,deliveryTime:"",memberAddress:null,localMemberAddress:null,isRepeat:!1,promotionInfo:null,transactionAgreement:{}}},inject:["promotion"],created:function(){var t=this;this.isIphoneX=this.$util.uniappIsIPhoneX(),e.getStorageSync("token")?(Object.assign(this.orderCreateData,e.getStorageSync(this.createDataKey)),this.location&&(this.orderCreateData.latitude=this.location.latitude,this.orderCreateData.longitude=this.location.longitude),this.payment()):setTimeout((function(){t.$refs.loadingCover.hide(),t.$refs.login.open(t.$util.getCurrentRoute().path)})),this.getTransactionAgreement()},computed:{storeToken:function(){return this.$store.state.token},goodsData:function(){if(this.paymentData)return this.paymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format&&(e.sku_spec_format=JSON.parse(e.sku_spec_format))})),this.paymentData.shop_goods_list},calculateGoodsData:function(){if(this.calculateData)return this.calculateData.shop_goods_list},balanceDeduct:function(){if(this.calculateData)return this.calculateData.member_account.balance_total<=parseFloat(this.calculateData.order_money).toFixed(2)?parseFloat(this.calculateData.member_account.balance_total).toFixed(2):parseFloat(this.calculateData.order_money).toFixed(2)},storeList:function(){var e=null;return this.goodsData&&this.goodsData.express_type&&this.goodsData.express_type.forEach((function(t){"store"==t.name&&(e=t.store_list,e=e.reduce((function(e,t){return o(o({},e),{},r({},t.store_id,t))}),{}))})),e},storeInfo:{get:function(){if(this.storeList&&this.orderCreateData.delivery&&"store"==this.orderCreateData.delivery.delivery_type&&this.storeId)return this.storeList[this.orderCreateData.delivery.store_id]},set:function(e){this.storeList[this.orderCreateData.delivery.store_id].store_image=e}},cardChargeType:function(){if(this.paymentData.recommend_member_card){var e=[],t=this.paymentData.recommend_member_card.charge_rule;return Object.keys(t).forEach((function(i,o){switch(i){case"week":e.push({key:i,value:t[i],title:"周卡",unit:"周"});break;case"month":e.push({key:i,value:t[i],title:"月卡",unit:"月"});break;case"quarter":e.push({key:i,value:t[i],title:"季卡",unit:"季"});break;case"year":e.push({key:i,value:t[i],title:"年卡",unit:"年"});break}})),e}},location:function(){return this.$store.state.location}},watch:{storeToken:function(e,t){this.payment()},deliveryTime:function(e){e||this.$refs.timePopup.refresh()},location:function(e){e&&(this.orderCreateData.latitude=e.latitude,this.orderCreateData.longitude=e.longitude,this.payment())}},methods:{pageShow:function(){e.getStorageSync("addressBack")&&(e.removeStorageSync("addressBack"),this.payment())},payment:function(){var t=this;this.$api.sendRequest({url:this.api.payment,data:this.orderCreateData,success:function(i){if(0==i.code&&i.data){var o,r=i.data,n=e.getStorageSync("is_test")?1175:wx.getLaunchOptionsSync().scene;if(-1!=[1175,1176,1177,1191,1195].indexOf(n)&&r.shop_goods_list.express_type&&(r.shop_goods_list.express_type=r.shop_goods_list.express_type.filter((function(e){return"express"==e.name}))),r.shop_goods_list.express_type&&r.shop_goods_list.express_type.length){var a=e.getStorageSync("delivery");a&&r.shop_goods_list.express_type.forEach((function(e){var i,o;e.name==a.delivery_type&&(t.orderCreateData.delivery=a,t.storeId=null!==(i=a.store_id)&&void 0!==i?i:0,"store"==a.delivery_type&&(t.orderCreateData.member_address={mobile:null!==(o=r.member_account.mobile)&&void 0!==o?o:""},t.location||t.$util.getLocation()))})),t.orderCreateData.delivery||t.selectDeliveryType(r.shop_goods_list.express_type[0],!1),e.getStorageSync("deliveryTime")&&e.getStorageSync("deliveryTime")["delivery_type"]&&e.getStorageSync("deliveryTime")["delivery_type"]==t.orderCreateData.delivery.delivery_type&&(t.deliveryTime=e.getStorageSync("deliveryTime")["deliveryTime"],t.orderCreateData.buyer_ask_delivery_time=e.getStorageSync("deliveryTime")["buyer_ask_delivery_time"])}if(r.shop_goods_list.coupon_list&&r.shop_goods_list.coupon_list[0]&&(t.orderCreateData.coupon={coupon_id:r.shop_goods_list.coupon_list[0].coupon_id}),r.is_virtual)t.orderCreateData.member_address={mobile:null!==(o=r.member_account.mobile)&&void 0!==o?o:""};t.promotionInfo=t.promotion(r),t.paymentData=r,t.calculate()}}})},calculate:function(){var e=this;this.$forceUpdate(),this.$api.sendRequest({url:this.api.calculate,data:this.handleCreateData(),success:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.isShow&&e.$refs.loadingCover.hide(),0==t.code&&t.data?(e.calculateData=t.data,t.data.delivery&&("express"==t.data.delivery.delivery_type&&(e.memberAddress=t.data.member_address),"local"==t.data.delivery.delivery_type&&(e.localMemberAddress=t.data.member_address)),e.resetDeliveryTime(),e.$forceUpdate()):e.$util.showToast({title:t.message})}})},create:function(){var t=this;this.verify()&&!this.isRepeat&&(this.isRepeat=!0,e.showLoading({title:""}),this.$api.sendRequest({url:this.api.create,data:this.handleCreateData(),success:function(i){e.hideLoading(),0==i.code?(t.outTradeNo=i.data,e.removeStorageSync("deliveryTime"),0==t.calculateData.pay_money?((t.paymentData.is_virtual||"store"==t.orderCreateData.delivery.delivery_type)&&t.$util.subscribeMessage("ORDER_VERIFY_OUT_TIME,VERIFY_CODE_EXPIRE,VERIFY"),t.$util.redirectTo("/pages_tool/pay/result",{code:i.data},"redirectTo")):t.openChoosePayment()):(t.$util.showToast({title:i.message}),t.isRepeat=!1),t.$store.dispatch("getCartNumber")}}))},handleCreateData:function(){var e=this.$util.deepClone(this.orderCreateData);return this.paymentData&&this.paymentData.system_form&&this.$refs.form&&(e.form_data={form_id:this.paymentData.system_form.id,form_data:this.$util.deepClone(this.$refs.form.formData)}),Object.keys(e).forEach((function(t){var i=e[t];"object"==typeof i&&(e[t]=JSON.stringify(i))})),e.member_address&&this.orderCreateData.delivery&&"store"!=this.orderCreateData.delivery.delivery_type&&delete e.member_address,e},openChoosePayment:function(){if(e.setStorageSync("paySource",""),this.paymentData.is_virtual)this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY");else switch(this.orderCreateData.delivery.delivery_type){case"express":this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY,ORDER_DELIVERY");break;case"store":this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY");break;case"local":this.$util.subscribeMessage("ORDER_URGE_PAYMENT,ORDER_PAY,ORDER_DELIVERY");break}this.$refs.choosePaymentPopup.getPayInfo(this.outTradeNo)},verify:function(){if(1==this.paymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}else{if(!this.orderCreateData.delivery)return this.$util.showToast({title:"商家未设置配送方式"}),!1;if("express"==this.orderCreateData.delivery.delivery_type&&!this.memberAddress||"local"==this.orderCreateData.delivery.delivery_type&&!this.localMemberAddress)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.orderCreateData.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号"}),!1;if(!this.deliveryTime)return this.$util.showToast({title:"请选择提货时间"}),!1}if("local"==this.orderCreateData.delivery.delivery_type&&!this.deliveryTime)return this.$util.showToast({title:"请选择送达时间"}),!1}if(this.paymentData.system_form){var t=this.$refs.form.verify();if(!t)return!1}return!0},selectAddress:function(){var e={back:this.$util.getCurrentRoute().path,local:0,type:1};"local"==this.orderCreateData.delivery.delivery_type&&(e.local=1,e.type=2),this.$util.redirectTo("/pages_tool/member/address",e)},selectDeliveryType:function(t){if(!this.orderCreateData.delivery||this.orderCreateData.delivery.delivery_type!=t.name){var i={delivery_type:t.name,delivery_type_name:t.title};if("store"==t.name){var o=e.getStorageSync("store");o?this.storeList&&this.storeList[o.store_id]?i.store_id=o.store_id:i.store_id=t.store_list[0].store_id:t.store_list[0]&&(i.store_id=t.store_list[0].store_id),this.storeId=i.store_id,this.orderCreateData.member_address||(this.orderCreateData.member_address={mobile:this.paymentData&&this.paymentData.member_account.mobile?this.paymentData.member_account.mobile:""})}this.orderCreateData.delivery=i,this.orderCreateData.buyer_ask_delivery_time="",this.deliveryTime="",e.removeStorageSync("deliveryTime"),e.setStorageSync("delivery",i),"store"!=this.orderCreateData.delivery.delivery_type||this.location||this.$util.getLocation(),this.calculate()}},imageError:function(e){this.paymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},selectPickupPoint:function(e){e.store_id!=this.storeId&&(this.storeId=e.store_id,this.orderCreateData.delivery.store_id=e.store_id,this.calculate()),this.$refs.deliveryPopup.close()},resetDeliveryTime:function(){if(this.orderCreateData.delivery&&"store"==this.orderCreateData.delivery.delivery_type)if(this.calculateData.shop_goods_list.delivery_store_info&&this.orderCreateData.buyer_ask_delivery_time){var t=JSON.parse(this.calculateData.shop_goods_list.delivery_store_info),i={time_type:this.$util.deepClone(t).time_type,end_time:this.$util.deepClone(t).end_time,start_time:this.$util.deepClone(t).start_time,time_week:this.$util.deepClone(t).time_week},o=this.$util.timeTurnTimeStamp(this.orderCreateData.buyer_ask_delivery_time),r=new Date;r.setTime(1e3*o);var n=r.getDay();i.time_type&&-1==this.$util.inArray(n.toString(),i.time_week)&&(this.orderCreateData.buyer_ask_delivery_time="",this.deliveryTime="",e.removeStorageSync("deliveryTime"));var a=3600*Number(r.getHours())+60*Number(r.getMinutes())+r.getSeconds();(a>i.end_time||a<i.start_time)&&(this.orderCreateData.buyer_ask_delivery_time="",this.deliveryTime="",e.removeStorageSync("deliveryTime"))}else this.orderCreateData.buyer_ask_delivery_time="",this.deliveryTime="",e.removeStorageSync("deliveryTime")},storetime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.calculateData.shop_goods_list.delivery_store_info){var t=JSON.parse(this.calculateData.shop_goods_list.delivery_store_info),i={time_type:this.$util.deepClone(t).time_type,end_time:this.$util.deepClone(t).end_time,start_time:this.$util.deepClone(t).start_time,time_week:this.$util.deepClone(t).time_week},o={delivery:this.orderCreateData.delivery,dataTime:i};this.$refs.timePopup.open(o,e),this.$forceUpdate()}},selectPickupTime:function(t){this.deliveryTime=t.data.month+"("+t.data.time+")";var i=new Date,o=i.getFullYear(),r=t.data.month.split("月"),n=r[0],a=r[1].split("日")[0];this.orderCreateData.buyer_ask_delivery_time=o+"-"+n+"-"+a+" "+t.data.time+":00",e.setStorageSync("deliveryTime",{deliveryTime:this.deliveryTime,buyer_ask_delivery_time:this.orderCreateData.buyer_ask_delivery_time,delivery_type:this.orderCreateData.delivery.delivery_type})},storeImgError:function(){this.storeInfo.store_image=this.$util.getDefaultImage().store},openPopup:function(e){this.tempData=this.$util.deepClone(this.orderCreateData),this.$refs[e].open()},closePopup:function(e){this.orderCreateData=this.$util.deepClone(this.tempData),this.$refs[e].close(),this.tempData=null},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address&&1==this.orderPaymentData.is_virtual)return this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.orderCreateData.invoice_email))return this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){(1!=this.orderCreateData.is_invoice||this.invoiceVerify())&&(this.calculate(),this.$refs.invoicePopup.close())},saveBuyerMessage:function(){this.calculate(),this.$refs.buyerMessagePopup.close()},selectMemberCard:function(){this.orderCreateData.is_open_card=this.orderCreateData.is_open_card?0:1,this.orderCreateData.member_card_unit||(this.orderCreateData.member_card_unit=this.cardChargeType[0].key),this.calculate()},selectMembercardUnit:function(e){this.orderCreateData.member_card_unit=e,this.calculate()},usePoint:function(){this.orderCreateData.is_point=this.orderCreateData.is_point?0:1,this.calculate()},payClose:function(){this.$util.redirectTo("/pages/order/detail",{order_id:this.$refs.choosePaymentPopup.payInfo.order_id},"redirectTo")},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id==e.coupon_id?this.orderCreateData.coupon={coupon_id:0}:this.orderCreateData.coupon={coupon_id:e.coupon_id}},useCpopon:function(){this.$refs.couponPopup.close(),this.calculate()},localtime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={time_type:this.$util.deepClone(this.goodsData.local_config.info).time_type,end_time:this.$util.deepClone(this.goodsData.local_config.info).end_time,start_time:this.$util.deepClone(this.goodsData.local_config.info).start_time,time_week:this.$util.deepClone(this.goodsData.local_config.info).time_week},i={delivery:this.orderCreateData.delivery,dataTime:t};this.$refs.timePopup.open(i,e)},surplusStartMoney:function(){var e=0;if(this.calculateData&&this.calculateData.delivery&&"local"==this.calculateData.delivery.delivery_type){var t,i=null!==(t=this.goodsData.local_config.info.start_money)&&void 0!==t?t:0;e=parseFloat(i)-parseFloat(this.calculateData.goods_money),e=e<0?0:e}return e},getTransactionAgreement:function(){var e=this;this.$api.sendRequest({url:"/api/order/transactionagreement",success:function(t){t.data&&(e.transactionAgreement=t.data)}})}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=n}).call(this,i("543d")["default"])},"78ee":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"邀请好友"};t.lang=o},"7a9a":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i("66fd")),r=s(i("26cb")),n=s(i("bea4")),a=s(i("6fb2"));function s(e){return e&&e.__esModule?e:{default:e}}o.default.use(r.default);var c=new r.default.Store({state:{tabBarList:"",siteState:1,themeStyle:"",addonIsExist:{bundling:0,coupon:0,discount:0,fenxiao:0,gift:0,groupbuy:0,manjian:0,memberconsume:0,memberrecharge:0,memberregister:0,membersignin:0,memberwithdraw:0,memberrecommend:0,pintuan:0,pointexchange:0,seckill:0,store:0,topic:0,bargain:0,membercancel:0,servicer:0,supermember:0,giftcard:0,divideticket:0,scenefestival:0,birthdaygift:0,pinfan:0},sourceMember:0,authInfo:{},token:null,flRefresh:0,location:null,defaultImg:{goods:"",head:"",store:""},cartNumber:0,cartList:{},cartMoney:0,siteInfo:null,cartChange:0},mutations:{setSiteState:function(e,t){e.siteState=t},setCartNumber:function(e,t){e.cartNumber=t},setThemeStyle:function(t,i){t.themeStyle=i,e.setStorageSync("theme_style",i)},setTabBarList:function(t,i){t.tabBarList=i,e.setStorageSync("bottomNav",i)},setAddonIsExist:function(t,i){t.addonIsExist=i,e.setStorageSync("addon_is_exist",i)},setToken:function(e,t){e.token=t},setAuthinfo:function(e,t){e.authInfo=t},setSourceMember:function(e,t){e.sourceMember=t},setflRefresh:function(e,t){e.flRefresh=t},setLocation:function(e,t){e.location=t},setDefaultImg:function(t,i){e.setStorageSync("default_img",i),t.defaultImg=i},setCartList:function(e,t){e.cartList=t},setCartMoney:function(e,t){e.cartMoney=t},setSiteInfo:function(t,i){t.siteInfo=i,e.setStorageSync("siteInfo",i)},setCartChange:function(e){e.cartChange+=1}},actions:{init:function(){var t=this;return new Promise((function(i,o){n.default.sendRequest({url:"/api/config/init",success:function(o){var r=o.data;if(r){t.commit("setCartNumber",r.cart_count),t.commit("setThemeStyle",a.default[r.style_theme.name]),t.commit("setTabBarList",r.diy_bottom_nav),t.commit("setAddonIsExist",r.addon_is_exist),t.commit("setDefaultImg",r.default_img),t.commit("setSiteInfo",r.site_info);var n=getCurrentPages()[getCurrentPages().length-1];n&&"pages/index/index"==n.route&&"DIY_VIEW_INDEX"==n.name&&e.setNavigationBarTitle({title:r.site_info.site_name}),e.setStorageSync("copyright",r.copyright),i(r)}}})}))},getCartNumber:function(){var t=this;e.getStorageSync("token")?n.default.sendRequest({url:"/api/cart/lists",success:function(e){if(0==e.code){var i={},o=0,r=0;e.data.forEach((function(e){i["sku_"+e.sku_id]=e,o+=e.num,r+=e.total_money})),t.commit("setCartList",i),t.commit("setCartNumber",o),t.commit("setCartMoney",r)}}}):(this.commit("setCartNumber",0),this.commit("setCartList",{}),this.commit("setCartMoney",0))}}}),u=c;t.default=u}).call(this,i("543d")["default"])},"7c02":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{goodsRoute:"/pages_promotion/seckill/detail",posterApi:"/seckill/api/seckillgoods/poster",seckill_id:0}},onLoad:function(e){var t=this;if(this.seckill_id=e.seckill_id||0,e.id&&(this.seckill_id=e.id),e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("id")&&(t.seckill_id=e.split("-")[1])}))}},onShow:function(){this.getGoodsSkuDetail()},methods:{getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r,n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/seckill/api/seckillgoods/detail",async:!1,data:{seckill_id:e.seckill_id}});case 2:i=t.sent,r=i.data,null!=r.goods_sku_detail?(e.goodsSkuDetail=r.goods_sku_detail,e.shopInfo=r.shop_info,e.skuId=e.goodsSkuDetail.sku_id,n=new Date(1e3*i.timestamp),a=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),e.goodsSkuDetail.seckill_start_time<=a&&a<e.goodsSkuDetail.seckill_end_time?e.goodsSkuDetail.discountTimeMachine=e.$util.countDown(e.goodsSkuDetail.seckill_end_time-a):e.goodsSkuDetail.seckill_start_time>a&&a<e.goodsSkuDetail.seckill_end_time?(e.$util.showToast({title:"限时秒杀活动还未开始"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)):a<e.goodsSkuDetail.seckill_start_time&&a>e.goodsSkuDetail.seckill_end_time&&(e.$util.showToast({title:"限时秒杀活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)),e.shareQuery="seckill_id="+e.seckill_id,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id,type:"seckill",type_id:e.goodsSkuDetail.seckill_id},e.posterParams={id:e.goodsSkuDetail.goods_id},e.handleGoodsSkuData(),e.goodsSkuDetail.show_price=e.goodsSkuDetail.seckill_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.seckill_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.seckill_price).toFixed(2):0,e.$refs.loadingCover&&e.$refs.loadingCover.hide()):e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 5:case"end":return t.stop()}}),t)})))()},seckill:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("seckill",(function(){t.getCartCount()})):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)}}};t.default=s}).call(this,i("543d")["default"])},"7e16":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"7ecd":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={};t.lang=o},8089:function(e,t,i){"use strict";(function(e){function i(e){return a(e)||n(e)||r(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"===typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c={data:function(){return{listStyle:"",loadingType:"loading",orderType:"",priceOrder:"desc",categoryList:[],goodsList:[],order:"",sort:"desc",showScreen:!1,keyword:"",categoryId:0,minPrice:"",maxPrice:"",isFreeShipping:!1,isIphoneX:!1,coupon:0,emptyShow:!1,isList:!0,memberId:0,share_title:"",count:0,category_title:"",coupon_name:"",listHeight:[],listPosition:[],debounce:null,brandId:0,brandList:[]}},onLoad:function(t){var i=this;if(this.categoryId=t.category_id||0,this.keyword=t.keyword||"",this.coupon=t.coupon||0,this.goods_id_arr=t.goods_id_arr||0,this.brandId=t.brand_id||0,this.loadCategoryList(this.categoryId),this.getBrandList(),this.isIphoneX=this.$util.uniappIsIPhoneX(),this.$util.getMemberId().then((function(e){i.memberId=e})),t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("sku_id")&&(i.skuId=t.split("-")[1]),-1!=t.indexOf("m")&&e.setStorageSync("source_member",t.split("-")[1]),-1!=t.indexOf("is_test")&&e.setStorageSync("is_test",1)}))}e.onWindowResize((function(e){i.debounce&&clearTimeout(i.debounce),i.waterfallflow(0)}))},onShow:function(){e.getStorageSync("token")&&e.getStorageSync("source_member")&&this.$util.onSourceMember(e.getStorageSync("source_member")),setTimeout((function(){}),2e3)},onShareAppMessage:function(e){var t="搜索到"+this.count+"件“"+this.keyword+this.category_title+this.coupon_name+"”相关的优质商品",i=this.$util.getCurrentShareRoute(this.memberId),o=i.path;return{title:t,path:o,success:function(e){},fail:function(e){}}},onShareTimeline:function(){var e="搜索到"+this.count+"件“"+this.keyword+this.category_title+this.coupon_name+"”相关的优质商品",t=this.$util.getCurrentShareRoute(this.memberId),i=t.query;return{title:e,query:i,imageUrl:""}},methods:{couponInfo:function(e){var t=this;return new Promise((function(i){t.$api.sendRequest({url:"/coupon/api/coupon/typeinfo",data:{coupon_type_id:e},success:function(e){e.code>=0&&i(e.data.coupon_name)}})}))},share_select:function(e,t){return new Promise((function(i){e.forEach((function(e){e.category_id==t&&i(e.category_name),e.child_list&&e.child_list.length>0&&e.child_list.forEach((function(e){e.category_id==t&&i(e.category_name),e.child_list&&e.child_list.length>0&&e.forEach((function(e){e.category_id==t&&i(e.category_name)}))}))}))}))},loadCategoryList:function(e,t){var i=this;this.$api.sendRequest({url:"/api/goodscategory/tree",data:{},success:function(e){null!=e.data&&(i.categoryList=e.data)}})},getGoodsList:function(e){var t=this;this.$api.sendRequest({url:"/api/goodssku/page",data:{page:e.num,page_size:e.size,keyword:this.keyword,category_id:this.categoryId,brand_id:this.brandId,min_price:this.minPrice,max_price:this.maxPrice,is_free_shipping:this.isFreeShipping?1:0,order:this.order,sort:this.sort,coupon:this.coupon,goods_id_arr:this.goods_id_arr},success:function(i){var o=[],r=i.message;0==i.code&&i.data?(t.count=i.data.count,0==i.data.page_count&&(t.emptyShow=!0),o=i.data.list):t.$util.showToast({title:r}),t.category_title="",t.coupon_name="",t.categoryId&&t.share_select(t.categoryList,t.categoryId).then((function(e){t.category_title=e})),t.coupon&&t.couponInfo(t.coupon).then((function(e){t.coupon_name=e})),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.waterfallflow(10*(e.num-1))},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},changeListStyle:function(){this.isList=!this.isList,this.waterfallflow(0)},sortTabClick:function(e){if("sale_num"==e)this.order="sale_num",this.sort="desc";else if("discount_price"==e)this.order="discount_price",this.sort="desc";else{if("screen"==e)return void(this.showScreen=!0);this.order="",this.sort=""}this.orderType===e&&"discount_price"!==e||(this.orderType=e,"discount_price"===e?(this.priceOrder="asc"===this.priceOrder?"desc":"asc",this.sort=this.priceOrder):this.priceOrder="",this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh())},toDetail:function(e){this.$util.redirectTo("/pages/goods/detail",{goods_id:e.goods_id})},search:function(){this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh()},selectedCategory:function(e){this.categoryId=e},screenData:function(){if(""!=this.minPrice||""!=this.maxPrice){if(!Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"请输入最高价"});if(Number(this.minPrice)<0||Number(this.maxPrice)<0)return void this.$util.showToast({title:"筛选价格不能小于0"});if(""!=this.minPrice&&Number(this.minPrice)>Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最低价不能大于最高价"});if(""!=this.maxPrice&&Number(this.maxPrice)<Number(this.minPrice))return void this.$util.showToast({title:"最高价不能小于最低价"})}this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh(),this.showScreen=!1},resetData:function(){this.categoryId=0,this.minPrice="",this.maxPrice="",this.isFreeShipping=!1},goodsImg:function(e){var t=e.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().goods},imgError:function(e){this.goodsList[e].goods_image=this.$util.getDefaultImage().goods},showPrice:function(e){var t=e.discount_price;return e.member_price&&parseFloat(e.member_price)<parseFloat(t)&&(t=e.member_price),t},goodsTag:function(e){return e.label_name||""},waterfallflow:function(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.isList||this.$nextTick((function(){setTimeout((function(){var r=[],n=[];0!=o&&(r=t.listHeight,n=t.listPosition);var a=2,s=e.createSelectorQuery().in(t);s.selectAll(".double-column .goods-item").boundingClientRect((function(s){for(var c=o;c<s.length;c++)if(c<a){var u={};u.top=e.upx2px(20)+"px",u.left=c%a==0?s[c].width*c+"px":s[c].width*c+c%a*e.upx2px(30)+"px",n[c]=u,r[c]=s[c].height+e.upx2px(20)}else(function(){var t=Math.min.apply(Math,i(r)),o=r.findIndex((function(e){return e===t})),a={};a.top=t+e.upx2px(20)+"px",a.left=n[o].left,n[c]=a,r[o]+=s[c].height+e.upx2px(20)})();t.listHeight=r,t.listPosition=n})).exec()}),50)}))},getBrandList:function(){var e=this,t={page:1,page_size:0};this.$api.sendRequest({url:"/api/goodsbrand/page",data:t,success:function(t){if(0==t.code&&t.data){var i=t.data;e.brandList=i.list}}})}},watch:{}};t.default=c}).call(this,i("543d")["default"])},"81bb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"大转盘"};t.lang=o},"89c4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},"8aa6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的关注"};t.lang=o},"8ad5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品分类",seeMore:"查看更多"};t.lang=o},"8eac":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Function.prototype.asyAfter=function(e){var t=this;return function(){var i=t.apply(this,arguments);return"next"===i?e.apply(this,arguments):i}},Date.prototype.pattern=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},i={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+i[this.getDay()+""])),t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e};var o=function(e){return/^\[object\s(.*)\]$/.exec(Object.prototype.toString.call(e))[1]},r=function(){},n=r.prototype;n.getUnix=function(){return(new Date).getTime()},n.getTodayUnix=function(){var e=new Date,t="".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate()," 00:00:00");return new Date(t).getTime()},n.getYearUnix=function(){var e=new Date;return e.setMonth(0),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()},n.getLastDate=function(e){if(e){var t=new Date(e);if(t.pattern)return t.pattern("yyyy-MM-dd");var i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+i+"-"+o}};var a=function(e,t){var i=function(e){return e<=0||Math.floor(e/60)<=0?"刚刚":"next"},o=function(e){return e<3600?Math.floor(e/60)+"分钟前":"next"},r=function(e,t){var i=c.getTodayUnix();return e>=3600&&t-i>=0?Math.floor(e/60/60)+"小时前":"next"},n=function(e,t){var i=c.getTodayUnix();return e=(i-t)/1e3,e/86400<=31?Math.ceil(e/86400)+"天前":"next"},a=function(e,t){return c.getLastDate(t)},s=i.asyAfter(o).asyAfter(r).asyAfter(n).asyAfter(a);return s(e,t)},s=new RegExp("-","g");n.getFormatTime=function(e,t){if(!e)return"";switch(o(e)){case"Date":e=e.getTime();break;case"String":e=e.replace(s,"/");default:e=new Date(e).getTime();break}var i=this.getUnix(),r=(this.getYearUnix(),(i-e)/1e3);if(e>i&&t)return this.getLastDate(e);return a(r,e)};var c=new r,u=c;t.default=u},"900c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"会员卡"};t.lang=o},9212:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的积分"};t.lang=o},9491:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"拼团专区"};t.lang=o},"954d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},"966f":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));i("5e27");function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{skuId:0,goodsId:0,isIphoneX:!1,whetherCollection:0,preview:0,token:"",videoContext:"",swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",goodsEvaluate:[{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""}],evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1},goodsCircle:!1,memberId:0,service:null,shareUrl:"",source_member:0,isCommunity:!1,poster:"-1",posterMsg:"",posterHeight:0,posterParams:{},detailTab:0,goodsRoute:"",posterApi:""}},created:function(){this.isIphoneX=this.$util.uniappIsIPhoneX(),this.token=e.getStorageSync("token")},methods:{init:function(t){this.skuId=t.sku_id,this.goodsId=t.goods_id,this.preview=t.preview,this.source_member=t.source_member,this.whetherCollection=t.whetherCollection,this.posterParams=t.posterParams,this.shareUrl=t.shareUrl,this.memberId=t.memberId,this.goodsRoute=t.goodsRoute,this.posterApi=t.posterApi,this.getService(),this.getEvaluateConfig(),this.videoContext=e.createVideoContext("goodsVideo"),this.goodsSyncToGoodsCircle(),this.getWhetherCollection()},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getWhetherCollection:function(){var e=this;return a(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:e.goodsId},success:function(t){e.whetherCollection=t.data}});case 1:case"end":return t.stop()}}),t)})))()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.forEach((function(t,i){e.goodsEvaluate[i].images&&(e.goodsEvaluate[i].images=e.goodsEvaluate[i].images.split(",")),1==e.goodsEvaluate[i].is_anonymous&&(e.goodsEvaluate[i].member_name=e.goodsEvaluate[i].member_name.replace(e.goodsEvaluate[i].member_name.substring(1,e.goodsEvaluate[i].member_name.length-1),"***"))})))}})},previewEvaluate:function(t,i,o){for(var r=[],n=0;n<this.goodsEvaluate[t][o].length;n++)r.push(this.$util.img(this.goodsEvaluate[t][o][n]));e.previewImage({current:i,urls:r})},editCollection:function(){var e=this;this.preview||(this.token?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(t){var i=t.data;i>0&&(e.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i>0&&(e.whetherCollection=0)}}):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl))},collection:function(){if(!this.preview)return this.editCollection(),this.token?this.whetherCollection?0:1:void 0},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},copyUrl:function(){var e=this,t=this.$config.h5Domain+this.shareUrl;this.memberId&&(t+="&source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));""!=t.token?t.posterHeight=parseInt(1240/o):t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var t=this;e.showLoading({title:"海报生成中..."}),this.memberId&&(this.posterParams.source_member=this.memberId),this.$api.sendRequest({url:this.posterApi,data:{page:this.goodsRoute,qrcode_param:JSON.stringify(this.posterParams)},success:function(i){0==i.code?t.poster=i.data.path+"?time="+(new Date).getTime():t.posterMsg=i.message,e.hideLoading()},fail:function(t){e.hideLoading()}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().goods,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){0==t.code&&t.data&&(e.service=t.data)}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;wx.openBusinessView&&wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},toEvaluateDetail:function(e){this.$util.redirectTo("/pages_tool/goods/evaluate",{goods_id:e})},showImg:function(t){for(var i=t.target.dataset.nodes,o=[],r=0;r<i.length;r++){var n=i[r].children;if(Array.isArray(n))for(var a=0;a<n.length;a++)n[a].attrs&&"img"==n[a].name&&n[a].attrs.src&&o.push(n[a].attrs.src)}e.previewImage({current:o,urls:o})},onCommunity:function(){this.isCommunity=!0},onCloseCommunity:function(){this.isCommunity=!1}}};t.default=s}).call(this,i("543d")["default"])},"96cf":function(e,t){!function(t){"use strict";var i,o=Object.prototype,r=o.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{l=t.regeneratorRuntime=u?e.exports:{},l.wrap=b;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={},g={};g[a]=function(){return this};var _=Object.getPrototypeOf,v=_&&_(_(O([])));v&&v!==o&&r.call(v,a)&&(g=v);var y=k.prototype=D.prototype=Object.create(g);S.prototype=y.constructor=k,k.constructor=S,k[c]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},$(P.prototype),P.prototype[s]=function(){return this},l.AsyncIterator=P,l.async=function(e,t,i,o){var r=new P(b(e,t,i,o));return l.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},$(y),y[c]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){while(t.length){var o=t.pop();if(o in e)return i.value=o,i.done=!1,i}return i.done=!0,i}},l.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,r){return s.type="throw",s.arg=e,t.next=o,r&&(t.method="next",t.arg=i),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),T(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var o=i.completion;if("throw"===o.type){var r=o.arg;T(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:O(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=i),m}}}function b(e,t,i,o){var r=t&&t.prototype instanceof D?t:D,n=Object.create(r.prototype),a=new j(o||[]);return n._invoke=C(e,i,a),n}function w(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(o){return{type:"throw",arg:o}}}function D(){}function S(){}function k(){}function $(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function P(e){function t(i,o,n,a){var s=w(e[i],e,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,n,a)}),(function(e){t("throw",e,n,a)})):Promise.resolve(u).then((function(e){c.value=e,n(c)}),(function(e){return t("throw",e,n,a)}))}a(s.arg)}var i;function o(e,o){function r(){return new Promise((function(i,r){t(e,o,i,r)}))}return i=i?i.then(r,r):r()}this._invoke=o}function C(e,t,i){var o=d;return function(r,n){if(o===h)throw new Error("Generator is already running");if(o===p){if("throw"===r)throw n;return M()}i.method=r,i.arg=n;while(1){var a=i.delegate;if(a){var s=x(a,i);if(s){if(s===m)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===d)throw o=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=h;var c=w(e,t,i);if("normal"===c.type){if(o=i.done?p:f,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=p,i.method="throw",i.arg=c.arg)}}}function x(e,t){var o=e.iterator[t.method];if(o===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,x(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=w(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){while(++o<e.length)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=i,t.done=!0,t};return n.next=n}}return{next:M}}function M(){return{value:i,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"982cd":function(e,t,i){var o={"./en-us/common.js":"73ab","./zh-cn/article/detail.js":"b246","./zh-cn/article/list.js":"3f91","./zh-cn/bale/detail.js":"445a","./zh-cn/bale/payment.js":"7e16","./zh-cn/bargain/detail.js":"5858","./zh-cn/bargain/launch.js":"3589","./zh-cn/bargain/list.js":"f4e9","./zh-cn/bargain/my_bargain.js":"a310","./zh-cn/bargain/payment.js":"0f31","./zh-cn/combo/detail.js":"e82f","./zh-cn/combo/payment.js":"6ec9","./zh-cn/common.js":"a782","./zh-cn/diy/diy.js":"ab74","./zh-cn/fenxiao/apply.js":"060d","./zh-cn/fenxiao/bill.js":"2b8f","./zh-cn/fenxiao/follow.js":"8aa6","./zh-cn/fenxiao/goods_list.js":"2b6e","./zh-cn/fenxiao/index.js":"4fab","./zh-cn/fenxiao/level.js":"4919","./zh-cn/fenxiao/order.js":"cbc6","./zh-cn/fenxiao/order_detail.js":"0e65","./zh-cn/fenxiao/promote_code.js":"bb1c","./zh-cn/fenxiao/team.js":"954d","./zh-cn/fenxiao/withdraw_apply.js":"5ae7","./zh-cn/fenxiao/withdraw_list.js":"f696","./zh-cn/game/cards.js":"fa27","./zh-cn/game/record.js":"4601","./zh-cn/game/smash_eggs.js":"f4c5","./zh-cn/game/turntable.js":"81bb","./zh-cn/goods/brand.js":"a31d","./zh-cn/goods/cart.js":"5195","./zh-cn/goods/category.js":"8ad5","./zh-cn/goods/consult.js":"bcca","./zh-cn/goods/consult_edit.js":"740a","./zh-cn/goods/coupon.js":"5d50","./zh-cn/goods/coupon_receive.js":"b968","./zh-cn/goods/detail.js":"13b9","./zh-cn/goods/evaluate.js":"515e","./zh-cn/goods/list.js":"b4f6","./zh-cn/goods/not_exist.js":"2b5c","./zh-cn/goods/point.js":"1d3f","./zh-cn/goods/search.js":"a2a9","./zh-cn/groupbuy/detail.js":"269c","./zh-cn/groupbuy/list.js":"5681","./zh-cn/groupbuy/payment.js":"9d49","./zh-cn/help/detail.js":"ef8b","./zh-cn/help/list.js":"65ac","./zh-cn/hongbao/list.js":"9d44","./zh-cn/hongbao/my_hongbao.js":"dbc3","./zh-cn/index/index.js":"b3a4","./zh-cn/live/list.js":"53c72","./zh-cn/login/find.js":"72c4","./zh-cn/login/login.js":"1b22","./zh-cn/login/register.js":"48bc","./zh-cn/member/account.js":"5e17","./zh-cn/member/account_edit.js":"d337","./zh-cn/member/address.js":"c5a0","./zh-cn/member/address_edit.js":"e6bb","./zh-cn/member/apply_withdrawal.js":"5058","./zh-cn/member/assets.js":"261b","./zh-cn/member/balance.js":"e0c6","./zh-cn/member/balance_detail.js":"ac12","./zh-cn/member/cancellation.js":"f732","./zh-cn/member/cancelrefuse.js":"0a3b","./zh-cn/member/cancelstatus.js":"de59","./zh-cn/member/cancelsuccess.js":"ec6b","./zh-cn/member/card.js":"c305","./zh-cn/member/card_buy.js":"900c","./zh-cn/member/collection.js":"4ae5","./zh-cn/member/coupon.js":"f608","./zh-cn/member/footprint.js":"c151","./zh-cn/member/gift.js":"d255","./zh-cn/member/gift_detail.js":"2d20","./zh-cn/member/index.js":"dcab","./zh-cn/member/info.js":"c567","./zh-cn/member/info_edit.js":"51db","./zh-cn/member/invite_friends.js":"78ee","./zh-cn/member/level.js":"197a","./zh-cn/member/message.js":"0ffb","./zh-cn/member/modify_face.js":"6c95","./zh-cn/member/pay_password.js":"edde","./zh-cn/member/point.js":"9212","./zh-cn/member/point_detail.js":"053b","./zh-cn/member/signin.js":"61a9","./zh-cn/member/withdrawal.js":"235a","./zh-cn/member/withdrawal_detail.js":"1f69","./zh-cn/notice/detail.js":"cfa5","./zh-cn/notice/list.js":"2221","./zh-cn/order/activist.js":"4dbb","./zh-cn/order/detail.js":"89c4","./zh-cn/order/detail_local_delivery.js":"406e","./zh-cn/order/detail_pickup.js":"2a50","./zh-cn/order/detail_point.js":"2cde","./zh-cn/order/detail_virtual.js":"a2d9","./zh-cn/order/evaluate.js":"d7fa","./zh-cn/order/list.js":"d34b","./zh-cn/order/logistics.js":"514a","./zh-cn/order/payment.js":"6b23","./zh-cn/order/refund.js":"3f44","./zh-cn/order/refund_batch.js":"42dc","./zh-cn/order/refund_detail.js":"c8aac","./zh-cn/pay/index.js":"2e19","./zh-cn/pay/result.js":"7250","./zh-cn/pintuan/detail.js":"5ceb","./zh-cn/pintuan/list.js":"9491","./zh-cn/pintuan/my_spell.js":"c0df","./zh-cn/pintuan/payment.js":"520e","./zh-cn/pintuan/share.js":"d937","./zh-cn/point/detail.js":"dd1c","./zh-cn/point/goods_detail.js":"7ecd","./zh-cn/point/list.js":"1903","./zh-cn/point/order_detail.js":"4c2d","./zh-cn/point/order_list.js":"1ab7","./zh-cn/point/payment.js":"1589","./zh-cn/point/result.js":"cffa","./zh-cn/presale/detail.js":"a098","./zh-cn/presale/list.js":"a962","./zh-cn/presale/order_detail.js":"01c2","./zh-cn/presale/order_list.js":"71b3","./zh-cn/presale/payment.js":"50378","./zh-cn/recharge/detail.js":"30e8","./zh-cn/recharge/list.js":"6e51","./zh-cn/recharge/order_list.js":"aea8","./zh-cn/seckill/detail.js":"53c6","./zh-cn/seckill/list.js":"e1ce","./zh-cn/seckill/payment.js":"7582","./zh-cn/store_notes/note_detail.js":"f2a3","./zh-cn/store_notes/note_list.js":"4c30","./zh-cn/storeclose/storeclose.js":"c678","./zh-cn/topics/detail.js":"4dd4","./zh-cn/topics/goods_detail.js":"ec64","./zh-cn/topics/list.js":"0175","./zh-cn/topics/payment.js":"eb70","./zh-cn/verification/detail.js":"fa42","./zh-cn/verification/index.js":"a365","./zh-cn/verification/list.js":"f606"};function r(e){var t=n(e);return i(t)}function n(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=n,e.exports=r,r.id="982cd"},"9d44":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"瓜分红包列表"};t.lang=o},"9d49":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},"9f54":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{getList:function(){var e=this;this.$api.sendRequest({url:"/memberrecommend/api/memberrecommend/lists",data:{page:this.page,page_size:this.page_size},success:function(t){e.inviteList=e.inviteList.concat(t.data.list),e.total_num=t.data.page_count}})},moreList:function(){this.page++,this.isClick=!1,this.page<this.total_num?(this.getList(),this.isClick=!0):this.page==this.total_num&&this.getList()},getBaseInfo:function(){var e=this;this.$api.sendRequest({url:"/memberrecommend/api/memberrecommend/info",success:function(t){0==t.code&&(e.info=t.data,e.$refs.loadingCover&&e.$refs.loadingCover.hide())}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openRulePopup:function(){this.$refs.rulePopup.open()},closeRulePopup:function(){this.$refs.rulePopup.close()},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/pages/index/index";this.memberId&&(t+="?source_member="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},openPosterPopup:function(){this.getPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open()},closePosterPopup:function(){this.$refs.posterPopup.close()},getPoster:function(){var e=this,t={source_member:this.memberId};this.$api.sendRequest({url:"/memberrecommend/api/memberrecommend/poster",data:{page:"/pages/index/index",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},savePoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})}}};t.default=i}).call(this,i("543d")["default"])},"9fa2":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{orderClose:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要关闭该订单吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/presale/api/order/close",data:{order_id:t},success:function(e){0==e.code?"function"==typeof i&&i():o.$util.showToast({title:e.message,duration:2e3})}})}})},deleteOrder:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要删除该订单吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/presale/api/order/delete",data:{order_id:t},success:function(e){0==e.code?"function"==typeof i&&i():o.$util.showToast({title:e.message,duration:2e3})}})}})},refundDeposit:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要退定金吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/presale/api/refund/applyRefund",data:{order_id:t},success:function(e){0==e.code?"function"==typeof i&&i():o.$util.showToast({title:e.message,duration:2e3})}})}})},orderPayFinal:function(e,t){var i=this,o="/presale/api/order/pay",r={id:e.id};""==e.final_out_trade_no&&(o="/presale/api/ordercreate/finalCreate",r.is_balance=this.isBalance),this.$api.sendRequest({url:o,data:r,success:function(e){i.isSub=!1,e.code>=0?0==i.payMoney?i.$util.redirectTo("/pages_tool/pay/result",{code:e.data},"redirectTo"):i.$refs.choosePaymentPopup.getPayInfo(e.data):i.$util.showToast({title:e.message}),i.isBalance=0},fail:function(e){i.isSub=!1}})},orderPayDeposit:function(e,t){var i=this;this.$api.sendRequest({url:"/presale/api/order/pay",data:{id:e.id},success:function(e){i.isSub=!1,e.code>=0?i.$refs.choosePaymentPopup.getPayInfo(e.data):i.$util.showToast({title:e.message})},fail:function(e){i.isSub=!1}})},openPaymentPopup:function(t,i){this.payType=i,"final_money"==i?""==t.final_out_trade_no&&(this.payMoney=t.order_money-t.presale_deposit_money):"presale_deposit_money"==i&&(this.payMoney=t.pay_deposit_money),e.setStorageSync("paySource","presale"),this.$refs.choosePaymentPopup.open()}}};t.default=i}).call(this,i("543d")["default"])},a098:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},a21a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("4b63"));function r(e){return e&&e.__esModule?e:{default:e}}function n(t,i,o){e.openLocation({latitude:t,longitude:i,name:o,fail:function(t){e.showModal({content:"打开地图失败，请稍后重试"})}})}function a(e,t,i){switch(i){case"gcj02":return[e,t];case"bd09":return o.default.bd09togcj02(e,t);case"wgs84":return o.default.wgs84togcj02(e,t);default:return[e,t]}}var s={openMap:function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gcj02",r=a(t,e,o);n(r[1],r[0],i)}};t.default=s}).call(this,i("543d")["default"])},a2a9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"搜索",history:"历史搜索",hot:"热门搜索",find:"搜索发现",hidefind:"当前搜索发现已隐藏",inputPlaceholder:"搜索商品"};t.lang=o},a2d9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单详情"};t.lang=o},a310:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的砍价"};t.lang=o},a31d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"品牌专区"};t.lang=o},a34a:function(e,t,i){e.exports=i("bbdd")},a365:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"核销台"};t.lang=o},a3f5:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{orderId:null,orderNo:"",memberName:"",memberNeadimg:"",isAnonymous:1,goodsList:[],goodsEvalList:[],imgList:[],isEvaluate:0,flag:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},methods:{getUserInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code?(e.memberName=t.data.nickname,e.memberNeadimg=t.data.headimg):e.$util.showToast({title:t.message})}})},getOrderInfo:function(){var e=this,t={order_id:this.orderId};this.$api.sendRequest({url:"/api/order/evluateinfo",data:t,success:function(t){if(0==t.code)if(e.isEvaluate=t.data.evaluate_status,e.orderNo=t.data.list[0].order_no,e.goodsList=t.data.list,e.isEvaluate)for(var i=0;i<t.data.list.length;i++){var o=[];e.imgList.push(o),e.goodsEvalList.push({order_goods_id:t.data.list[i].order_goods_id,goods_id:t.data.list[i].goods_id,sku_id:t.data.list[i].sku_id,again_content:"",again_images:""})}else for(var r=0;r<t.data.list.length;r++){var n=[];e.imgList.push(n),e.goodsEvalList.push({content:"",images:"",scores:5,explain_type:1,order_goods_id:t.data.list[r].order_goods_id,goods_id:t.data.list[r].goods_id,sku_id:t.data.list[r].sku_id,sku_name:t.data.list[r].sku_name,sku_price:t.data.list[r].price,sku_image:t.data.list[r].sku_image})}else e.$util.showToast({title:"未获取到订单数据"}),setTimeout((function(){e.$util.redirectTo("/pages/order/list",{},"redirectTo")}),1e3);e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(){this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},setStar:function(e){this.goodsEvalList[e.index].scores=e.value,e.value>=4?this.goodsEvalList[e.index].explain_type=1:1<e.value&&e.value<4?this.goodsEvalList[e.index].explain_type=2:this.goodsEvalList[e.index].explain_type=3},isAll:function(){this.isAnonymous?this.isAnonymous=0:this.isAnonymous=1},addImg:function(e){var t=this,i=this.imgList[e].length?this.imgList[e].length:0;this.$util.upload(6-i,{path:"evaluateimg"},(function(i){var o=t.imgList[e];o=o.concat(i),t.imgList[e]=[],t.$set(t.imgList,e,o),t.isEvaluate?t.goodsEvalList[e].again_images=t.imgList[e].toString():t.goodsEvalList[e].images=t.imgList[e].toString()}))},deleteImg:function(e,t,i){this.imgList[t].splice(i,1),this.isEvaluate?this.goodsEvalList[t].again_images=this.imgList[t].toString():this.goodsEvalList[t].images=this.imgList[t].toString()},preview:function(t,i){for(var o=this.imgList[i],r=0;r<o.length;r++)o[r]=this.$util.img(o[r]);e.previewImage({urls:o,current:t})},save:function(){var e=this;if(0!=this.evaluateConfig.evaluate_status){for(var t=0;t<this.goodsEvalList.length;t++)if(this.isEvaluate&&!this.goodsEvalList[t].again_content.trim().length)return void this.$util.showToast({title:"商品的评价不能为空哦"});var i=JSON.stringify(this.goodsEvalList),o={order_id:this.orderId,goods_evaluate:i};this.isEvaluate||(o.order_no=this.orderNo,o.member_name=this.memberName,o.member_headimg=this.memberNeadimg,o.is_anonymous=this.isAnonymous),this.flag||(this.flag=!0,this.$api.sendRequest({url:this.isEvaluate?"/api/goodsevaluate/again":"/api/goodsevaluate/add",data:o,success:function(t){0==t.code?(e.$util.showToast({title:"评价成功"}),setTimeout((function(){e.$util.redirectTo("/pages/order/list",{},"redirectTo")}),1e3)):(e.$util.showToast({title:t.message}),e.flag=!1)},fail:function(t){e.flag=!1}}))}else this.$util.showToast({title:"商家未开启商品评价功能"})},imageError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i}}})}}};t.default=i}).call(this,i("543d")["default"])},a723:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{collectionList:[],isShowEmpty:!1}},methods:{toDetail:function(e){this.$util.redirectTo("/pages/goods/detail",{goods_id:e.goods_id})},getData:function(e){var t=this;this.isShowEmpty=!1;var i="/api/goodscollect/page",o=[];this.$api.sendRequest({url:i,data:{page_size:e.size,page:e.num},async:!1}).then((function(i){for(var r=i.data.list,n=0;n<r.length;n++)r[n].composite_score=Math.floor((parseFloat(r[n].shop_desccredit)+parseFloat(r[n].shop_servicecredit)+parseFloat(r[n].shop_deliverycredit))/3).toFixed(1);o=o.concat(r),1==e.num&&(t.collectionList=[]),t.collectionList=t.collectionList.concat(r),e.endSuccess(o.length),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.isShowEmpty=!0}))},listenRefresh:function(e){this.$refs.goodsRecommend.init()},deleteItem:function(e){var t=this;this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:e},success:function(i){if(0==i.code){t.$util.showToast({title:"删除成功"});var o=t.collectionList,r=o.filter((function(t){return t.goods_id!=e}));t.collectionList=r}else t.$util.showToast({title:i.message})}})},imageError:function(e){this.collectionList[e].logo=this.$util.getDefaultImage().goods,this.$forceUpdate()},goodsImageError:function(e){this.collectionList[e].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()}}};t.default=o},a782:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={tabBar:{home:"首页",category:"分类",cart:"购物车",member:"个人中心"},common:{name:"中文",mescrollTextInOffset:"下拉刷新",mescrollTextOutOffset:"释放更新",mescrollEmpty:"暂无相关数据",goodsRecommendTitle:"猜你喜欢",currencySymbol:"¥",submit:"提交"}};t.lang=o},a962:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"预售专区"};t.lang=o},a995:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{cancleRefund:function(t,i){var o=this;e.showModal({content:"撤销之后本次申请将会关闭,如后续仍有问题可再次发起申请。",cancelText:"暂不撤销",cancelColor:"#898989",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/orderrefund/cancel",data:{order_goods_id:t},success:function(e){"function"==typeof i&&i(e)}})}})}}};t.default=i}).call(this,i("543d")["default"])},aae4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{goodsRoute:"/pages_promotion/groupbuy/detail",posterApi:"/groupbuy/api/goods/poster",groupbuy_id:0}},onLoad:function(e){var t=this;if(this.skuId=e.sku_id||0,this.groupbuy_id=e.groupbuy_id||0,e.id&&(this.groupbuy_id=e.id),e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("id")&&(t.groupbuy_id=e.split("-")[1]),-1!=e.indexOf("sku_id")&&(t.skuId=e.split("-")[1])}))}},onShow:function(){var e=this;return a(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsSkuDetail();case 2:case"end":return t.stop()}}),t)})))()},methods:{getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/groupbuy/api/goods/detail",async:!1,data:{groupbuy_id:e.groupbuy_id}});case 2:i=t.sent,r=i.data,null!=r.goods_sku_detail?(e.goodsSkuDetail=r.goods_sku_detail,0==e.skuId&&(e.skuId=e.goodsSkuDetail.sku_id),e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail",{goods_id:e.goodsSkuDetail.goods_id},"redirectTo")}),1e3)),e.shareQuery="groupbuy_id="+e.groupbuy_id+"&sku_id="+e.skuId,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id,type:"groupbuy",type_id:e.goodsSkuDetail.groupbuy_id},e.posterParams={groupbuy_id:e.groupbuy_id},e.handleGoodsSkuData(),e.goodsSkuDetail.show_price=e.goodsSkuDetail.groupbuy_price,e.goodsSkuDetail.save_price=e.goodsSkuDetail.price-e.goodsSkuDetail.show_price>0?(e.goodsSkuDetail.price-e.goodsSkuDetail.show_price).toFixed(2):0,e.$refs.loadingCover&&e.$refs.loadingCover.hide()):e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 5:case"end":return t.stop()}}),t)})))()},groupbuy:function(){var e=this;this.token?this.$refs.goodsSku.show("groupbuy",(function(){e.getCartCount()})):this.source_member?this.$refs.login.open(this.shareUrl+"&source_member="+this.source_member):this.$refs.login.open(this.shareUrl)}}};t.default=s},ab74:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},ac12:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"余额明细"};t.lang=o},aea8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"充值记录"};t.lang=o},b246:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"文章详情"};t.lang=o},b29b:function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}var n={KEY_ERR:311,KEY_ERR_MSG:"key格式错误",PARAM_ERR:310,PARAM_ERR_MSG:"请求参数信息有误",SYSTEM_ERR:600,SYSTEM_ERR_MSG:"系统错误",WX_ERR_CODE:1e3,WX_OK_CODE:200},a="https://apis.map.qq.com/ws/",s=a+"place/v1/search",c=a+"place/v1/suggestion",u=a+"geocoder/v1/",l=a+"district/v1/list",d=a+"district/v1/getchildren",f=a+"distance/v1/",h=a+"direction/v1/",p={driving:"driving",transit:"transit"},m=6378136.49,g={safeAdd:function(e,t){var i=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(i>>16);return o<<16|65535&i},bitRotateLeft:function(e,t){return e<<t|e>>>32-t},md5cmn:function(e,t,i,o,r,n){return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(t,e),this.safeAdd(o,n)),r),i)},md5ff:function(e,t,i,o,r,n,a){return this.md5cmn(t&i|~t&o,e,t,r,n,a)},md5gg:function(e,t,i,o,r,n,a){return this.md5cmn(t&o|i&~o,e,t,r,n,a)},md5hh:function(e,t,i,o,r,n,a){return this.md5cmn(t^i^o,e,t,r,n,a)},md5ii:function(e,t,i,o,r,n,a){return this.md5cmn(i^(t|~o),e,t,r,n,a)},binlMD5:function(e,t){var i,o,r,n,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,c=-271733879,u=-1732584194,l=271733878;for(i=0;i<e.length;i+=16)o=s,r=c,n=u,a=l,s=this.md5ff(s,c,u,l,e[i],7,-680876936),l=this.md5ff(l,s,c,u,e[i+1],12,-389564586),u=this.md5ff(u,l,s,c,e[i+2],17,606105819),c=this.md5ff(c,u,l,s,e[i+3],22,-1044525330),s=this.md5ff(s,c,u,l,e[i+4],7,-176418897),l=this.md5ff(l,s,c,u,e[i+5],12,1200080426),u=this.md5ff(u,l,s,c,e[i+6],17,-1473231341),c=this.md5ff(c,u,l,s,e[i+7],22,-45705983),s=this.md5ff(s,c,u,l,e[i+8],7,1770035416),l=this.md5ff(l,s,c,u,e[i+9],12,-1958414417),u=this.md5ff(u,l,s,c,e[i+10],17,-42063),c=this.md5ff(c,u,l,s,e[i+11],22,-1990404162),s=this.md5ff(s,c,u,l,e[i+12],7,1804603682),l=this.md5ff(l,s,c,u,e[i+13],12,-40341101),u=this.md5ff(u,l,s,c,e[i+14],17,-1502002290),c=this.md5ff(c,u,l,s,e[i+15],22,1236535329),s=this.md5gg(s,c,u,l,e[i+1],5,-165796510),l=this.md5gg(l,s,c,u,e[i+6],9,-1069501632),u=this.md5gg(u,l,s,c,e[i+11],14,643717713),c=this.md5gg(c,u,l,s,e[i],20,-373897302),s=this.md5gg(s,c,u,l,e[i+5],5,-701558691),l=this.md5gg(l,s,c,u,e[i+10],9,38016083),u=this.md5gg(u,l,s,c,e[i+15],14,-660478335),c=this.md5gg(c,u,l,s,e[i+4],20,-405537848),s=this.md5gg(s,c,u,l,e[i+9],5,568446438),l=this.md5gg(l,s,c,u,e[i+14],9,-1019803690),u=this.md5gg(u,l,s,c,e[i+3],14,-187363961),c=this.md5gg(c,u,l,s,e[i+8],20,1163531501),s=this.md5gg(s,c,u,l,e[i+13],5,-1444681467),l=this.md5gg(l,s,c,u,e[i+2],9,-51403784),u=this.md5gg(u,l,s,c,e[i+7],14,1735328473),c=this.md5gg(c,u,l,s,e[i+12],20,-1926607734),s=this.md5hh(s,c,u,l,e[i+5],4,-378558),l=this.md5hh(l,s,c,u,e[i+8],11,-2022574463),u=this.md5hh(u,l,s,c,e[i+11],16,1839030562),c=this.md5hh(c,u,l,s,e[i+14],23,-35309556),s=this.md5hh(s,c,u,l,e[i+1],4,-1530992060),l=this.md5hh(l,s,c,u,e[i+4],11,1272893353),u=this.md5hh(u,l,s,c,e[i+7],16,-155497632),c=this.md5hh(c,u,l,s,e[i+10],23,-1094730640),s=this.md5hh(s,c,u,l,e[i+13],4,681279174),l=this.md5hh(l,s,c,u,e[i],11,-358537222),u=this.md5hh(u,l,s,c,e[i+3],16,-722521979),c=this.md5hh(c,u,l,s,e[i+6],23,76029189),s=this.md5hh(s,c,u,l,e[i+9],4,-640364487),l=this.md5hh(l,s,c,u,e[i+12],11,-421815835),u=this.md5hh(u,l,s,c,e[i+15],16,530742520),c=this.md5hh(c,u,l,s,e[i+2],23,-995338651),s=this.md5ii(s,c,u,l,e[i],6,-198630844),l=this.md5ii(l,s,c,u,e[i+7],10,1126891415),u=this.md5ii(u,l,s,c,e[i+14],15,-1416354905),c=this.md5ii(c,u,l,s,e[i+5],21,-57434055),s=this.md5ii(s,c,u,l,e[i+12],6,1700485571),l=this.md5ii(l,s,c,u,e[i+3],10,-1894986606),u=this.md5ii(u,l,s,c,e[i+10],15,-1051523),c=this.md5ii(c,u,l,s,e[i+1],21,-2054922799),s=this.md5ii(s,c,u,l,e[i+8],6,1873313359),l=this.md5ii(l,s,c,u,e[i+15],10,-30611744),u=this.md5ii(u,l,s,c,e[i+6],15,-1560198380),c=this.md5ii(c,u,l,s,e[i+13],21,1309151649),s=this.md5ii(s,c,u,l,e[i+4],6,-145523070),l=this.md5ii(l,s,c,u,e[i+11],10,-1120210379),u=this.md5ii(u,l,s,c,e[i+2],15,718787259),c=this.md5ii(c,u,l,s,e[i+9],21,-343485551),s=this.safeAdd(s,o),c=this.safeAdd(c,r),u=this.safeAdd(u,n),l=this.safeAdd(l,a);return[s,c,u,l]},binl2rstr:function(e){var t,i="",o=32*e.length;for(t=0;t<o;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i},rstr2binl:function(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i},rstrMD5:function(e){return this.binl2rstr(this.binlMD5(this.rstr2binl(e),8*e.length))},rstrHMACMD5:function(e,t){var i,o,r=this.rstr2binl(e),n=[],a=[];for(n[15]=a[15]=void 0,r.length>16&&(r=this.binlMD5(r,8*e.length)),i=0;i<16;i+=1)n[i]=909522486^r[i],a[i]=1549556828^r[i];return o=this.binlMD5(n.concat(this.rstr2binl(t)),512+8*t.length),this.binl2rstr(this.binlMD5(a.concat(o),640))},rstr2hex:function(e){var t,i,o="0123456789abcdef",r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r},str2rstrUTF8:function(e){return unescape(encodeURIComponent(e))},rawMD5:function(e){return this.rstrMD5(this.str2rstrUTF8(e))},hexMD5:function(e){return this.rstr2hex(this.rawMD5(e))},rawHMACMD5:function(e,t){return this.rstrHMACMD5(this.str2rstrUTF8(e),str2rstrUTF8(t))},hexHMACMD5:function(e,t){return this.rstr2hex(this.rawHMACMD5(e,t))},md5:function(e,t,i){return t?i?this.rawHMACMD5(t,e):this.hexHMACMD5(t,e):i?this.rawMD5(e):this.hexMD5(e)},getSig:function(e,t,i,o){var r=null,n=[];return Object.keys(e).sort().forEach((function(t){n.push(t+"="+e[t])})),"search"==i&&(r="/ws/place/v1/search?"+n.join("&")+t),"suggest"==i&&(r="/ws/place/v1/suggestion?"+n.join("&")+t),"reverseGeocoder"==i&&(r="/ws/geocoder/v1/?"+n.join("&")+t),"geocoder"==i&&(r="/ws/geocoder/v1/?"+n.join("&")+t),"getCityList"==i&&(r="/ws/district/v1/list?"+n.join("&")+t),"getDistrictByCityId"==i&&(r="/ws/district/v1/getchildren?"+n.join("&")+t),"calculateDistance"==i&&(r="/ws/distance/v1/?"+n.join("&")+t),"direction"==i&&(r="/ws/direction/v1/"+o+"?"+n.join("&")+t),r=this.md5(r),r},location2query:function(e){if("string"==typeof e)return e;for(var t="",i=0;i<e.length;i++){var o=e[i];t&&(t+=";"),o.location&&(t=t+o.location.lat+","+o.location.lng),o.latitude&&o.longitude&&(t=t+o.latitude+","+o.longitude)}return t},rad:function(e){return e*Math.PI/180},getEndLocation:function(e){for(var t=e.split(";"),i=[],o=0;o<t.length;o++)i.push({lat:parseFloat(t[o].split(",")[0]),lng:parseFloat(t[o].split(",")[1])});return i},getDistance:function(e,t,i,o){var r=this.rad(e),n=this.rad(i),a=r-n,s=this.rad(t)-this.rad(o),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(n)*Math.pow(Math.sin(s/2),2)));return c*=m,c=Math.round(1e4*c)/1e4,parseFloat(c.toFixed(0))},getWXLocation:function(e,t,i){this.$util.getLocation({type:"gcj02",success:e,fail:t,complete:i})},getLocationParam:function(e){if("string"==typeof e){var t=e.split(",");e=2===t.length?{latitude:e.split(",")[0],longitude:e.split(",")[1]}:{}}return e},polyfillParam:function(e){e.success=e.success||function(){},e.fail=e.fail||function(){},e.complete=e.complete||function(){}},checkParamKeyEmpty:function(e,t){if(!e[t]){var i=this.buildErrorConfig(n.PARAM_ERR,n.PARAM_ERR_MSG+t+"参数格式有误");return e.fail(i),e.complete(i),!0}return!1},checkKeyword:function(e){return!this.checkParamKeyEmpty(e,"keyword")},checkLocation:function(e){var t=this.getLocationParam(e.location);if(!t||!t.latitude||!t.longitude){var i=this.buildErrorConfig(n.PARAM_ERR,n.PARAM_ERR_MSG+" location参数格式有误");return e.fail(i),e.complete(i),!1}return!0},buildErrorConfig:function(e,t){return{status:e,message:t}},handleData:function(e,t,i){if("search"==i){for(var o=t.data,r=[],n=0;n<o.length;n++)r.push({id:o[n].id||null,title:o[n].title||null,latitude:o[n].location&&o[n].location.lat||null,longitude:o[n].location&&o[n].location.lng||null,address:o[n].address||null,category:o[n].category||null,tel:o[n].tel||null,adcode:o[n].ad_info&&o[n].ad_info.adcode||null,city:o[n].ad_info&&o[n].ad_info.city||null,district:o[n].ad_info&&o[n].ad_info.district||null,province:o[n].ad_info&&o[n].ad_info.province||null});e.success(t,{searchResult:o,searchSimplify:r})}else if("suggest"==i){var a=t.data,s=[];for(n=0;n<a.length;n++)s.push({adcode:a[n].adcode||null,address:a[n].address||null,category:a[n].category||null,city:a[n].city||null,district:a[n].district||null,id:a[n].id||null,latitude:a[n].location&&a[n].location.lat||null,longitude:a[n].location&&a[n].location.lng||null,province:a[n].province||null,title:a[n].title||null,type:a[n].type||null});e.success(t,{suggestResult:a,suggestSimplify:s})}else if("reverseGeocoder"==i){var c=t.result,u={address:c.address||null,latitude:c.location&&c.location.lat||null,longitude:c.location&&c.location.lng||null,adcode:c.ad_info&&c.ad_info.adcode||null,city:c.address_component&&c.address_component.city||null,district:c.address_component&&c.address_component.district||null,nation:c.address_component&&c.address_component.nation||null,province:c.address_component&&c.address_component.province||null,street:c.address_component&&c.address_component.street||null,street_number:c.address_component&&c.address_component.street_number||null,recommend:c.formatted_addresses&&c.formatted_addresses.recommend||null,rough:c.formatted_addresses&&c.formatted_addresses.rough||null};if(c.pois){var l=c.pois,d=[];for(n=0;n<l.length;n++)d.push({id:l[n].id||null,title:l[n].title||null,latitude:l[n].location&&l[n].location.lat||null,longitude:l[n].location&&l[n].location.lng||null,address:l[n].address||null,category:l[n].category||null,adcode:l[n].ad_info&&l[n].ad_info.adcode||null,city:l[n].ad_info&&l[n].ad_info.city||null,district:l[n].ad_info&&l[n].ad_info.district||null,province:l[n].ad_info&&l[n].ad_info.province||null});e.success(t,{reverseGeocoderResult:c,reverseGeocoderSimplify:u,pois:l,poisSimplify:d})}else e.success(t,{reverseGeocoderResult:c,reverseGeocoderSimplify:u})}else if("geocoder"==i){var f=t.result,h={title:f.title||null,latitude:f.location&&f.location.lat||null,longitude:f.location&&f.location.lng||null,adcode:f.ad_info&&f.ad_info.adcode||null,province:f.address_components&&f.address_components.province||null,city:f.address_components&&f.address_components.city||null,district:f.address_components&&f.address_components.district||null,street:f.address_components&&f.address_components.street||null,street_number:f.address_components&&f.address_components.street_number||null,level:f.level||null};e.success(t,{geocoderResult:f,geocoderSimplify:h})}else if("getCityList"==i){var p=t.result[0],m=t.result[1],g=t.result[2];e.success(t,{provinceResult:p,cityResult:m,districtResult:g})}else if("getDistrictByCityId"==i){var _=t.result[0];e.success(t,_)}else if("calculateDistance"==i){var v=t.result.elements,y=[];for(n=0;n<v.length;n++)y.push(v[n].distance);e.success(t,{calculateDistanceResult:v,distance:y})}else if("direction"==i){var b=t.result.routes;e.success(t,b)}else e.success(t)},buildWxRequestConfig:function(e,t,i){var o=this;return t.header={"content-type":"application/json"},t.method="GET",t.success=function(t){var r=t.data;0===r.status?o.handleData(e,r,i):e.fail(r)},t.fail=function(t){t.statusCode=n.WX_ERR_CODE,e.fail(o.buildErrorConfig(n.WX_ERR_CODE,t.errMsg))},t.complete=function(t){var i=+t.statusCode;switch(i){case n.WX_ERR_CODE:e.complete(o.buildErrorConfig(n.WX_ERR_CODE,t.errMsg));break;case n.WX_OK_CODE:var r=t.data;0===r.status?e.complete(r):e.complete(o.buildErrorConfig(r.status,r.message));break;default:e.complete(o.buildErrorConfig(n.SYSTEM_ERR,n.SYSTEM_ERR_MSG))}},t},locationProcess:function(e,t,i,o){var r=this;if(i=i||function(t){t.statusCode=n.WX_ERR_CODE,e.fail(r.buildErrorConfig(n.WX_ERR_CODE,t.errMsg))},o=o||function(t){t.statusCode==n.WX_ERR_CODE&&e.complete(r.buildErrorConfig(n.WX_ERR_CODE,t.errMsg))},e.location){if(r.checkLocation(e)){var a=g.getLocationParam(e.location);t(a)}}else r.getWXLocation(t,i,o)}},_=function(){"use strict";function e(t){if(i(this,e),!t.key)throw Error("key值不能为空");this.key=t.key}return r(e,[{key:"search",value:function(e){var t=this;if(e=e||{},g.polyfillParam(e),g.checkKeyword(e)){var i={keyword:e.keyword,orderby:e.orderby||"_distance",page_size:e.page_size||10,page_index:e.page_index||1,output:"json",key:t.key};e.address_format&&(i.address_format=e.address_format),e.filter&&(i.filter=e.filter);var o=e.distance||"1000",r=e.auto_extend||1,n=null,a=null;e.region&&(n=e.region),e.rectangle&&(a=e.rectangle);var c=function(t){n&&!a?(i.boundary="region("+n+","+r+","+t.latitude+","+t.longitude+")",e.sig&&(i.sig=g.getSig(i,e.sig,"search"))):a&&!n?(i.boundary="rectangle("+a+")",e.sig&&(i.sig=g.getSig(i,e.sig,"search"))):(i.boundary="nearby("+t.latitude+","+t.longitude+","+o+","+r+")",e.sig&&(i.sig=g.getSig(i,e.sig,"search"))),wx.request(g.buildWxRequestConfig(e,{url:s,data:i},"search"))};g.locationProcess(e,c)}}},{key:"getSuggestion",value:function(e){var t=this;if(e=e||{},g.polyfillParam(e),g.checkKeyword(e)){var i={keyword:e.keyword,region:e.region||"全国",region_fix:e.region_fix||0,policy:e.policy||0,page_size:e.page_size||10,page_index:e.page_index||1,get_subpois:e.get_subpois||0,output:"json",key:t.key};if(e.address_format&&(i.address_format=e.address_format),e.filter&&(i.filter=e.filter),e.location){var o=function(t){i.location=t.latitude+","+t.longitude,e.sig&&(i.sig=g.getSig(i,e.sig,"suggest")),wx.request(g.buildWxRequestConfig(e,{url:c,data:i},"suggest"))};g.locationProcess(e,o)}else e.sig&&(i.sig=g.getSig(i,e.sig,"suggest")),wx.request(g.buildWxRequestConfig(e,{url:c,data:i},"suggest"))}}},{key:"reverseGeocoder",value:function(e){var t=this;e=e||{},g.polyfillParam(e);var i={coord_type:e.coord_type||5,get_poi:e.get_poi||0,output:"json",key:t.key};e.poi_options&&(i.poi_options=e.poi_options);var o=function(t){i.location=t.latitude+","+t.longitude,e.sig&&(i.sig=g.getSig(i,e.sig,"reverseGeocoder")),wx.request(g.buildWxRequestConfig(e,{url:u,data:i},"reverseGeocoder"))};g.locationProcess(e,o)}},{key:"geocoder",value:function(e){var t=this;if(e=e||{},g.polyfillParam(e),!g.checkParamKeyEmpty(e,"address")){var i={address:e.address,output:"json",key:t.key};e.region&&(i.region=e.region),e.sig&&(i.sig=g.getSig(i,e.sig,"geocoder")),wx.request(g.buildWxRequestConfig(e,{url:u,data:i},"geocoder"))}}},{key:"getCityList",value:function(e){var t=this;e=e||{},g.polyfillParam(e);var i={output:"json",key:t.key};e.sig&&(i.sig=g.getSig(i,e.sig,"getCityList")),wx.request(g.buildWxRequestConfig(e,{url:l,data:i},"getCityList"))}},{key:"getDistrictByCityId",value:function(e){var t=this;if(e=e||{},g.polyfillParam(e),!g.checkParamKeyEmpty(e,"id")){var i={id:e.id||"",output:"json",key:t.key};e.sig&&(i.sig=g.getSig(i,e.sig,"getDistrictByCityId")),wx.request(g.buildWxRequestConfig(e,{url:d,data:i},"getDistrictByCityId"))}}},{key:"calculateDistance",value:function(e){var t=this;if(e=e||{},g.polyfillParam(e),!g.checkParamKeyEmpty(e,"to")){var i={mode:e.mode||"walking",to:g.location2query(e.to),output:"json",key:t.key};if(e.from&&(e.location=e.from),"straight"==i.mode){var o=function(t){for(var o=g.getEndLocation(i.to),r={message:"query ok",result:{elements:[]},status:0},n=0;n<o.length;n++)r.result.elements.push({distance:g.getDistance(t.latitude,t.longitude,o[n].lat,o[n].lng),duration:0,from:{lat:t.latitude,lng:t.longitude},to:{lat:o[n].lat,lng:o[n].lng}});var a=r.result.elements,s=[];for(n=0;n<a.length;n++)s.push(a[n].distance);return e.success(r,{calculateResult:a,distanceResult:s})};g.locationProcess(e,o)}else{o=function(t){i.from=t.latitude+","+t.longitude,e.sig&&(i.sig=g.getSig(i,e.sig,"calculateDistance")),wx.request(g.buildWxRequestConfig(e,{url:f,data:i},"calculateDistance"))};g.locationProcess(e,o)}}}},{key:"direction",value:function(e){var t=this;if(e=e||{},g.polyfillParam(e),!g.checkParamKeyEmpty(e,"to")){var i={output:"json",key:t.key};"string"==typeof e.to?i.to=e.to:i.to=e.to.latitude+","+e.to.longitude;var o=null;e.mode=e.mode||p.driving,o=h+e.mode,e.from&&(e.location=e.from),e.mode==p.driving&&(e.from_poi&&(i.from_poi=e.from_poi),e.heading&&(i.heading=e.heading),e.speed&&(i.speed=e.speed),e.accuracy&&(i.accuracy=e.accuracy),e.road_type&&(i.road_type=e.road_type),e.to_poi&&(i.to_poi=e.to_poi),e.from_track&&(i.from_track=e.from_track),e.waypoints&&(i.waypoints=e.waypoints),e.policy&&(i.policy=e.policy),e.plate_number&&(i.plate_number=e.plate_number)),e.mode==p.transit&&(e.departure_time&&(i.departure_time=e.departure_time),e.policy&&(i.policy=e.policy));var r=function(t){i.from=t.latitude+","+t.longitude,e.sig&&(i.sig=g.getSig(i,e.sig,"direction",e.mode)),wx.request(g.buildWxRequestConfig(e,{url:o,data:i},"direction"))};g.locationProcess(e,r)}}}]),e}();e.exports=_},b341:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{diyinfo:null,memberInfo:null,memberCode:{timer:null,barcode:"",qrcode:"",routerParameter:"",dynamicNumber:""},superMember:null,orderNum:{waitpay:0,waitsend:0,waitconfirm:0,waitrate:0,refunding:0}}},computed:{storeToken:function(){return this.$store.state.token},memberInfostyle:function(){if(!this.diyinfo)return"";var e={};return"system"==this.diyinfo.member_info.background_type?e.background="url('"+this.$util.img("public/static/img/diy_view/member_info_bg.png")+"') no-repeat bottom / contain, var(--base-color)":e.background="url('"+this.$util.img("public/static/img/diy_view/member_info_bg.png")+"') no-repeat bottom / contain, linear-gradient("+this.diyinfo.member_info.background[0]+", "+this.diyinfo.member_info.background[1]+" 0%, "+this.diyinfo.member_info.background[2]+" 100%)",this.$util.objToStyle(e)},superMemberStyle:function(){if(!this.diyinfo)return"";var e={"margin-left":2*parseInt(this.diyinfo.member_info.margin)+"rpx ","margin-right":2*parseInt(this.diyinfo.member_info.margin)+"rpx ",background:"url('"+this.$util.img("public/static/img/diy_view/super_member_bg.png")+"') no-repeat bottom / 100% 100%, linear-gradient(107deg, "+this.themeStyle.super_member.super_member_start_bg+" 0%, "+this.themeStyle.super_member.super_member_end_bg+" 100%)"};return this.$util.objToStyle(e)},orderWrapStyle:function(){return this.diyinfo?this.$util.objToStyle({padding:2*parseInt(this.diyinfo.order.margin[0])+"rpx "+2*parseInt(this.diyinfo.order.margin[1])+"rpx "+2*parseInt(this.diyinfo.order.margin[2])+"rpx"}):""},orderStyle:function(){return this.diyinfo?this.$util.objToStyle({"border-top-left-radius":2*parseInt(this.diyinfo.order.radius[0])+"rpx","border-top-right-radius":2*parseInt(this.diyinfo.order.radius[0])+"rpx","border-bottom-left-radius":2*parseInt(this.diyinfo.order.radius[1])+"rpx","border-bottom-right-radius":2*parseInt(this.diyinfo.order.radius[1])+"rpx"}):""},menuStyle:function(){return this.diyinfo?this.$util.objToStyle({"border-top-left-radius":2*parseInt(this.diyinfo.menu.radius[0])+"rpx","border-top-right-radius":2*parseInt(this.diyinfo.menu.radius[0])+"rpx","border-bottom-left-radius":2*parseInt(this.diyinfo.menu.radius[1])+"rpx","border-bottom-right-radius":2*parseInt(this.diyinfo.menu.radius[1])+"rpx"}):""},menuWrapStyle:function(){return this.diyinfo?this.$util.objToStyle({padding:2*parseInt(this.diyinfo.menu.margin[0])+"rpx "+2*parseInt(this.diyinfo.menu.margin[1])+"rpx "+2*parseInt(this.diyinfo.menu.margin[2])+"rpx"}):""},advWrapStyle:function(){return this.diyinfo?this.$util.objToStyle({padding:2*parseInt(this.diyinfo.adv.margin[0])+"rpx "+2*parseInt(this.diyinfo.adv.margin[1])+"rpx "+2*parseInt(this.diyinfo.adv.margin[2])+"rpx"}):""},advStyle:function(){if(!this.diyinfo)return"";var t=0,i=this.$util.deepClone(this.diyinfo.adv.list),o=e.getSystemInfoSync().windowWidth-e.upx2px(4*parseInt(this.diyinfo.adv.margin[1]));return i.forEach((function(e,i){var r=o/e.img_width,n=e.img_height*r;(0==t||t<n)&&(t=n)})),this.$util.objToStyle({"border-top-left-radius":2*parseInt(this.diyinfo.adv.radius[0])+"rpx","border-top-right-radius":2*parseInt(this.diyinfo.adv.radius[0])+"rpx","border-bottom-left-radius":2*parseInt(this.diyinfo.adv.radius[1])+"rpx","border-bottom-right-radius":2*parseInt(this.diyinfo.adv.radius[1])+"rpx",height:t+"px"})}},watch:{storeToken:function(t,i){t&&(this.getMemberInfo(),e.getStorageSync("source_member")&&this.$util.onSourceMember(e.getStorageSync("source_member")))}},onLoad:function(t){var i=this;return a(o.default.mark((function r(){return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.hideTabBar(),o.next=3,i.getDiyInfo();case 3:i.getMemberCardInfo(),t.code&&i.$api.sendRequest({url:"/wechat/api/wechat/authcodetoopenid",data:{code:t.code},success:function(e){e.code>=0&&(e.data.userinfo.nickName&&i.modifyNickname(e.data.userinfo.nickName),e.data.userinfo.avatarUrl&&i.modifyHeadimg(e.data.userinfo.avatarUrl))}});case 5:case"end":return o.stop()}}),r)})))()},onShow:function(){e.getStorageSync("token")?this.getMemberInfo():this.initInfo()},methods:{initInfo:function(){this.memberInfo=null,this.orderNum={waitpay:0,waitsend:0,waitconfirm:0,waitrate:0,refunding:0}},getDiyInfo:function(){var e=this;return a(o.default.mark((function t(){var i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/api/diyview/memberindex",async:!1,success:function(e){}});case 2:i=t.sent,0==i.code&&(e.diyinfo=i.data,e.handleIconStyle(),e.checkSignIsStart(),e.checkMemberRecommendIsStart()),e.$refs.loadingCover&&e.$refs.loadingCover.hide();case 5:case"end":return t.stop()}}),t)})))()},handleIconStyle:function(){var e=this;0==this.diyinfo.order.icon_style&&Object.keys(this.diyinfo.order.icon).forEach((function(t){"system"==e.diyinfo.member_info.background_type?e.diyinfo.order.icon[t].style.iconColor=[e.$util.colourBlend(e.themeStyle.bg_color,"#ffffff",.5),e.themeStyle.bg_color]:e.diyinfo.order.icon[t].style.iconColor=[e.diyinfo.member_info.background[1],e.diyinfo.member_info.background[2]]}))},redirect:function(t){e.getStorageSync("token")?this.$util.redirectTo(t):this.$refs.login.open(t)},diyRedirect:function(e){e.wap_url&&-1==e.wap_url.indexOf("http")&&-1==e.wap_url.indexOf("http")?this.redirect(e.wap_url):this.$util.diyRedirectTo(e)},getMemberInfo:function(){var t=this;this.$api.sendRequest({url:"/api/member/info",data:{},success:function(e){0==e.code&&(t.memberInfo?Object.assign(t.memberInfo,e.data):t.memberInfo=e.data,t.getCouponNum(),t.getOrderNum(),t.checkIsVerifier(),t.checkFenxiaoIsStart(),t.addonIsExist.birthdaygift&&t.getBirthdayGiftTo(),t.addonIsExist.scenefestival&&t.getHolidayGiftTo())},complete:function(t){e.stopPullDownRefresh()}})},getCouponNum:function(){var e=this;this.$api.sendRequest({url:"/coupon/api/coupon/num",success:function(t){0==t.code&&e.$set(e.memberInfo,"coupon_num",t.data)}})},showMemberQrcode:function(){var e=this;this.memberCode.timer&&clearInterval(this.memberCode.timer),this.getMemberQrcode(),this.memberCode.timer=setInterval((function(){e.getMemberQrcode()}),3e4)},closeMemberQrcode:function(){clearInterval(this.memberCode.timer),this.$refs.erWeiPopup.close()},getMemberQrcode:function(){var e=this;this.$api.sendRequest({url:"/api/member/membereqrcode",data:{page:""},success:function(t){0==t.code&&(e.memberCode.barcode=t.bar_code,e.memberCode.qrcode=t.data.path,e.memberCode.routerParameter=t.data.url,e.memberCode.dynamicNumber=t.dynamic_number,e.$refs.erWeiPopup.showPopup||e.$refs.erWeiPopup.open())}})},getMemberCardInfo:function(){var e=this;this.$api.sendRequest({url:"/supermember/api/membercard/firstcard",success:function(t){0==t.code&&t.data&&(e.superMember=t.data)}})},getOrderNum:function(){var e=this;this.$api.sendRequest({url:"/api/order/num",data:{order_status:"waitpay,waitsend,waitconfirm,waitrate,refunding"},success:function(t){0==t.code&&(e.orderNum=t.data)}})},onPullDownRefresh:function(){e.getStorageSync("token")?this.getMemberInfo():e.stopPullDownRefresh()},checkIsVerifier:function(){var e=this;this.$api.sendRequest({url:"/api/verify/checkisverifier",success:function(t){0!=t.code&&(e.diyinfo.menu.menus.verifier.isShow=0)}})},checkSignIsStart:function(){var e=this;this.diyinfo.menu.menus.membersignin&&this.$api.sendRequest({url:"/api/membersignin/getSignStatus",success:function(t){0!=t.code||t.data.is_use||(e.diyinfo.menu.menus.membersignin.isShow=0)}})},checkFenxiaoIsStart:function(){var e=this;this.diyinfo&&this.diyinfo.menu.menus.fenxiao&&this.$api.sendRequest({url:"/fenxiao/api/config/basics",success:function(t){0==t.code&&t.data&&((e.memberInfo.is_fenxiao||t.data.is_apply)&&0!=t.data.level||(e.diyinfo.menu.menus.fenxiao.isShow=0))}})},checkMemberRecommendIsStart:function(){var e=this;this.diyinfo.menu.menus.memberrecommend&&this.$api.sendRequest({url:"/memberrecommend/api/memberrecommend/info",success:function(t){0==t.code&&t.data||(e.diyinfo.menu.menus.memberrecommend.isShow=0)}})},getHolidayGiftTo:function(){var e=this;this.$api.sendRequest({url:"/scenefestival/api/config/config",success:function(t){t.code>=0&&t.data[0]&&1==t.data[0].flag&&e.$refs.nsNewGift&&e.$refs.nsNewGift.open()}})},getBirthdayGiftTo:function(){var e=this;this.$api.sendRequest({url:"/birthdaygift/api/Config/config",success:function(t){t.code>=0&&t.data&&e.$refs.birthdayGift&&1==t.data.flag&&e.$refs.birthdayGift.open()}})},getWxAuth:function(e){var t=this;wx.getUserProfile({desc:"用于完善会员资料",success:function(i){t.modifyNickname(i.userInfo.nickName),t.modifyHeadimg(i.userInfo.avatarUrl),"function"==typeof e&&e()}})},modifyNickname:function(e){var t=this;this.$api.sendRequest({url:"/api/member/modifynickname",data:{nickname:e},success:function(i){0==i.code&&(t.memberInfo.nickname=e)}})},modifyHeadimg:function(e){var t=this;this.$api.sendRequest({url:"/api/member/modifyheadimg",data:{headimg:e},success:function(i){0==i.code&&(t.memberInfo.headimg=e)}})},redirectBeforeAuth:function(t){var i=this;e.getStorageSync("token")?-1!=this.memberInfo.nickname.indexOf("u_")&&this.memberInfo.nickname==this.memberInfo.username?this.getWxAuth((function(){i.$util.redirectTo(t)})):this.$util.redirectTo(t):this.$refs.login.open("/pages/member/index")}}};t.default=s}).call(this,i("543d")["default"])},b3a4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},b4f6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品列表"};t.lang=o},b968:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"领取优惠券"};t.lang=o},bb1c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"推广海报"};t.lang=o},bbdd:function(e,t,i){var o=function(){return this||"object"===typeof self&&self}()||Function("return this")(),r=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,n=r&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=i("96cf"),r)o.regeneratorRuntime=n;else try{delete o.regeneratorRuntime}catch(a){o.regeneratorRuntime=void 0}},bbf9:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{info:null,timeMachine:null,page:1,goodsList:[],cart:{},totalPrice:0,totalNum:0,goodsSkuDetail:null,skuList:[],cartShow:!1,isSub:!1,token:null,memberId:0}},onLoad:function(t){var i=this;if(t.id&&(this.id=t.id),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(e){-1!=e.indexOf("id")&&(i.id=e.split("-")[1])}))}if(t.source_member&&e.setStorageSync("source_member",t.source_member),t.scene){o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("sku_id")&&(i.skuId=t.split("-")[1]),-1!=t.indexOf("m")&&e.setStorageSync("source_member",t.split("-")[1]),-1!=t.indexOf("is_test")&&e.setStorageSync("is_test",1)}))}this.getBaleInfo()},onShow:function(){e.getStorageSync("token")&&e.getStorageSync("source_member")&&this.$util.onSourceMember(e.getStorageSync("source_member"))},methods:{getBaleInfo:function(){var e=this;this.$api.sendRequest({url:"/bale/api/bale/detail",data:{bale_id:this.id},success:function(t){0==t.code?(e.info=t.data,e.info?1==e.info.status?e.timeMachine=e.$util.countDown(e.info.end_time-t.timestamp):2==e.info.status&&(e.$util.showToast({title:"该活动已关闭"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index")}),1500)):(e.$util.showToast({title:"未找到活动"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index")}),1500))):(e.$util.showToast({title:"未找到活动"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index")}),1500))},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},getGoodsList:function(e){var t=this;this.$api.sendRequest({url:"/api/goodssku/page",data:{page:e.num,page_size:e.size,goods_id_arr:this.info.goods_ids},success:function(i){t.$refs.loadingCover&&t.$refs.loadingCover.hide();var o=[],r=i.message;0==i.code&&i.data?(0==i.data.page_count&&(t.emptyShow=!0),o=i.data.list):t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},imageError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},singleSkuPlus:function(e){if(void 0!=this.cart["goods_"+e.goods_id]){var t=this.cart["goods_"+e.goods_id].num;if(t+1>e.stock)return void this.$util.showToast({title:"库存不足"});this.cart["goods_"+e.goods_id].num+=1,this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num+=1}else this.cart["goods_"+e.goods_id]={num:1},this.cart["goods_"+e.goods_id]["sku_"+e.sku_id]=e,this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num=1;this.totalNum+=1,this.cart=Object.assign({},this.cart)},singleSkuReduce:function(e){if(void 0!=this.cart["goods_"+e.goods_id]){var t=this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num;this.cart["goods_"+e.goods_id].num-=1,this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num-=1,this.totalNum-=1,t-1==0&&(delete this.cart["goods_"+e.goods_id]["sku_"+e.sku_id],1==Object.keys(this.cart["goods_"+e.goods_id]).length&&delete this.cart["goods_"+e.goods_id]),this.cart=Object.assign({},this.cart)}},manySkuSelect:function(e){var t=this;this.$api.sendRequest({url:"/api/goodssku/detail",data:{sku_id:e.sku_id},success:function(e){0==e.code&&null!=e.data.goods_sku_detail&&(t.goodsSkuDetail=e.data.goods_sku_detail,t.goodsSkuDetail.bale_id=t.id,t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.show_price=t.goodsSkuDetail.price,t.goodsSkuDetail.activity_sku_ids=t.info.sku_ids.split(","),setTimeout((function(){t.$refs.goodsSku.show("bale",(function(){}))}),100))}})},refreshGoodsSkuDetail:function(e){Object.assign(this.goodsSkuDetail,e)},joinCart:function(e){void 0!=this.cart["goods_"+e.goods_id]?void 0!=this.cart["goods_"+e.goods_id]["sku_"+e.sku_id]?(this.cart["goods_"+e.goods_id].num+=e.num-this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num,this.totalNum+=e.num-this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num,this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num=e.num):(this.cart["goods_"+e.goods_id]["sku_"+e.sku_id]=e.detail,this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num=e.num,this.cart["goods_"+e.goods_id].num+=e.num,this.totalNum+=e.num):(this.cart["goods_"+e.goods_id]={num:e.num},this.cart["goods_"+e.goods_id]["sku_"+e.sku_id]=e.detail,this.cart["goods_"+e.goods_id]["sku_"+e.sku_id].num=e.num,this.totalNum+=e.num),this.cart=Object.assign({},this.cart),this.$refs.goodsSku.hide()},openCartPopup:function(){this.skuList.length&&(this.cartShow=!this.cartShow)},closeCartPopup:function(){this.cartShow=!1},clearCart:function(){this.cart={},this.totalNum=0,this.closeCartPopup()},submit:function(){var t=this;if(e.getStorageSync("token")){if(this.isSub)return;this.isSub=!0;var i=[];this.skuList.forEach((function(e){i.push({sku_id:e.sku_id,num:e.num})})),e.setStorage({key:"baleOrderCreateData",data:{bale_id:this.id,sku_list_json:JSON.stringify(i)},success:function(){t.isSub=!1,t.$util.redirectTo("/pages_promotion/bale/payment")}})}else setTimeout((function(){t.$refs.login.open("/pages_promotion/bale/detail?id="+t.id)}))}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},sku:function(e){var t="";return e&&(t=e.sku_name.replace(e.goods_name,"")),t}},watch:{cart:{deep:!0,handler:function(e,t){var i=[],o=1;for(var r in this.cart){var n=this.cart[r];for(var a in n)if(-1==a.indexOf("num")){var s=n[a];s.start=o,s.end=o+s.num,i.push(n[a]),o+=s.num}}this.skuList=i}},totalNum:function(e){if(e>0)if(e%this.info.num==0)this.totalPrice=this.info.price*(e/this.info.num);else{for(var t=Math.floor(e/this.info.num),i=parseFloat(t*this.info.price),o=t*this.info.num,r=0;r<e%this.info.num;r++){o+=1;for(var n=0;n<this.skuList.length;n++){var a=this.skuList[n];if(o>=a.start&&o<a.end){i+=parseFloat(a.price);break}}}this.totalPrice=i}else this.totalPrice=0}},onShareAppMessage:function(){var e=this.$util.getCurrentShareRoute(this.memberId),t=e.path;return{title:"这些商品"+this.info.price+"元任选"+this.info.num+"件",imageUrl:"",path:t,success:function(e){},fail:function(e){}}},onShareTimeline:function(){var e="这些商品"+this.info.price+"元任选"+this.info.num+"件",t=this.$util.getCurrentShareRoute(this.memberId),i=t.query;return{title:e,query:i,imageUrl:""}}};t.default=i}).call(this,i("543d")["default"])},bcca:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品咨询"};t.lang=o},bea4:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("f27e")),r=a(i("ec6f")),n=a(i("7a9a"));function a(e){return e&&e.__esModule?e:{default:e}}var s="weapp",c="微信小程序",u={sendRequest:function(t){var i=void 0!=t.data?"POST":"GET",a=o.default.baseUrl+t.url,u={app_type:s,app_type_name:c};if(e.getStorageSync("token")&&(u.token=e.getStorageSync("token")),e.getStorageSync("store")&&(u.store_id=e.getStorageSync("store").store_id),void 0!=t.data&&Object.assign(u,t.data),!1===t.async)return new Promise((function(o,s){e.request({url:a,method:i,data:u,header:t.header||{"content-type":"application/x-www-form-urlencoded;application/json"},dataType:t.dataType||"json",responseType:t.responseType||"text",success:function(t){if(-3==t.data.code&&n.default.state.siteState>0)return n.default.commit("setSiteState",-3),void r.default.redirectTo("/pages_tool/storeclose/storeclose",{},"reLaunch");t.data.refreshtoken&&e.setStorage({key:"token",data:t.data.refreshtoken}),-10009!=t.data.code&&-10010!=t.data.code||e.removeStorage({key:"token"}),o(t.data)},fail:function(e){s(e)},complete:function(e){s(e)}})}));e.request({url:a,method:i,data:u,header:t.header||{"content-type":"application/x-www-form-urlencoded;application/json"},dataType:t.dataType||"json",responseType:t.responseType||"text",success:function(i){if(-3==i.data.code&&n.default.state.siteState>0)return n.default.commit("setSiteState",-3),void r.default.redirectTo("/pages_tool/storeclose/storeclose",{},"reLaunch");i.data.refreshtoken&&e.setStorage({key:"token",data:i.data.refreshtoken}),-10009!=i.data.code&&-10010!=i.data.code||e.removeStorage({key:"token"}),"function"==typeof t.success&&t.success(i.data)},fail:function(e){"function"==typeof t.fail&&t.fail(e)},complete:function(e){"function"==typeof t.complete&&t.complete(e)}})}};t.default=u}).call(this,i("543d")["default"])},c0df:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的拼单"};t.lang=o},c151:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的足迹",emptyTpis:"您还未浏览过任何商品！"};t.lang=o},c22b:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var a=e.apply(t,i);function s(e){n(a,o,r,s,c,"next",e)}function c(e){n(a,o,r,s,c,"throw",e)}s(void 0)}))}}var s={data:function(){return{goodsRoute:"/pages/goods/detail",couponList:[],couponBtnSwitch:!1,posterApi:"/api/goods/poster",manjian:{type:0,manjian_name:"",rule_json:null},bundlingType:!1,bundling:[{bundling_goods:{bl_name:"",sku_image:""}}],levelInfo:{},showFenxiao:0,membercard:null,hackReset:!0}},computed:{showDiscount:function(){var e=!1;return 0==this.preview&&this.addonIsExist.discount&&1==this.goodsSkuDetail.promotion_type&&this.goodsSkuDetail.discountTimeMachine&&(!this.goodsSkuDetail.member_price||this.goodsSkuDetail.member_price>0&&Number(this.goodsSkuDetail.member_price)>Number(this.goodsSkuDetail.discount_price))&&(e=!0),e},memberCardDiscount:function(){var e=0,t=this.goodsSkuDetail.member_price>0&&Number(this.goodsSkuDetail.member_price)<Number(this.goodsSkuDetail.discount_price)?this.goodsSkuDetail.member_price:this.goodsSkuDetail.discount_price;return this.membercard&&this.membercard.member_price>0&&parseFloat(t)>parseFloat(this.membercard.member_price)&&(e=parseFloat(t)-parseFloat(this.membercard.member_price)),e.toFixed(2)}},onLoad:function(e){var t=this;if(this.skuId=e.sku_id||0,this.goodsId=e.goods_id||0,e.scene){var i=decodeURIComponent(e.scene);i=i.split("&"),i.length&&i.forEach((function(e){-1!=e.indexOf("goods_id")&&(t.goodsId=e.split("-")[1])}))}},onShow:function(){var e=this;return a(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsSkuDetail();case 2:0==e.preview&&(e.getCoupon(),e.getManjian(),e.getBundling(),1==e.addonIsExist.fenxiao&&e.getFenxiaoGoodsDetail());case 3:case"end":return t.stop()}}),t)})))()},onHide:function(){this.couponBtnSwitch=!1},methods:{SetSkuid:function(e){this.skuId=e,this.getBundling()},getFenxiaoGoodsDetail:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/goods/detail",data:{sku_id:this.skuId},success:function(t){0==t.code&&t.data&&(e.levelInfo=t.data)}})},getGoodsSkuDetail:function(){var e=this;return a(o.default.mark((function t(){var i,r,n;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/api/goodssku/detail",async:!1,data:{sku_id:e.skuId,goods_id:e.goodsId}});case 2:if(i=t.sent,r=i.data,null==r.goods_sku_detail){t.next=24;break}if(!("presale"==r.goods_sku_detail.promotion_type&&r.goods_sku_detail.end_time-i.timestamp>0)){t.next=8;break}return e.$util.redirectTo("/pages_promotion/presale/detail",{id:r.goods_sku_detail.presale_id,sku_id:e.skuId},"reLaunch"),t.abrupt("return");case 8:e.goodsSkuDetail=r.goods_sku_detail,e.skuId||(e.skuId=e.goodsSkuDetail.sku_id),e.goodsId||(e.goodsId=e.goodsSkuDetail.goods_id),e.shareQuery="goods_id="+e.goodsSkuDetail.goods_id,e.shareUrl=e.goodsRoute+"?"+e.shareQuery,e.chatRoomParams={sku_id:e.goodsSkuDetail.sku_id},n=e.goodsSkuDetail.goods_promotion[0],n&&n.discount_id&&(e.chatRoomParams.type="discount",e.chatRoomParams.type_id=n.discount_id),e.posterParams={goods_id:e.goodsId},e.handleGoodsSkuData(),1==e.goodsSkuDetail.promotion_type&&e.addonIsExist.discount&&(e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.discountTimeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):e.goodsSkuDetail.promotion_type=0),1==e.goodsSkuDetail.promotion_type&&e.goodsSkuDetail.discountTimeMachine?e.goodsSkuDetail.member_price>0&&Number(e.goodsSkuDetail.member_price)<=Number(e.goodsSkuDetail.discount_price)?e.goodsSkuDetail.show_price=e.goodsSkuDetail.member_price:e.goodsSkuDetail.show_price=e.goodsSkuDetail.discount_price:e.goodsSkuDetail.member_price>0?e.goodsSkuDetail.show_price=e.goodsSkuDetail.member_price:e.goodsSkuDetail.show_price=e.goodsSkuDetail.price,""!=e.token&&0==e.preview&&e.addonIsExist.supermember&&e.getMemberInfo(),e.$refs.loadingCover&&e.$refs.loadingCover.hide(),t.next=25;break;case 24:e.$util.redirectTo("/pages_tool/goods/not_exist",{},"redirectTo");case 25:case"end":return t.stop()}}),t)})))()},refreshLevelInfo:function(e){this.$refs.refLeverInfo.levelInfo.commission_money=e.commission_money},choiceSku:function(){var e=this;this.$refs.goodsSku.show("buy_now",(function(){e.getCartCount()}))},joinCart:function(){var t=this;e.getStorageSync("token")||0!=this.preview?1==this.goodsSkuDetail.is_virtual?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.$refs.goodsSku.show("join_cart",(function(){t.getCartCount()})):this.$refs.login.open(this.shareUrl)},buyNow:function(){var t=this;e.getStorageSync("token")||0!=this.preview?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.$refs.login.open(this.shareUrl)},getCoupon:function(){var e=this;this.$api.sendRequest({url:"/coupon/api/coupon/goodsCoupon",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.couponList=i,e.couponList.forEach((function(e){e.count==e.lead_count?e.useState=2:0!=e.max_fetch&&e.member_coupon_num&&e.member_coupon_num>=e.max_fetch?e.useState=1:e.useState=0})),e.couponList=e.couponList.sort(e.sortBy("useState")))}})},sortBy:function(e){return function(t,i){return t[e]-i[e]}},openCouponPopup:function(){this.$refs.couponPopup.open()},closeCouponPopup:function(){this.$refs.couponPopup.close()},receiveCoupon:function(e){var t=this,i=this;this.preview||this.couponBtnSwitch||(this.couponBtnSwitch=!0,this.token?this.$api.sendRequest({url:"/coupon/api/coupon/receive",data:{coupon_type_id:e.coupon_type_id,get_type:2},success:function(o){o.data;var r="",n=t.couponList;if(r=1==o.data.is_exist&&o.code<0?"您已领取过该优惠券，快去使用吧":0==o.code?"领取成功，快去使用吧":o.message,1==o.data.is_exist)for(var a=0;a<n.length;a++)n[a].coupon_type_id==e.coupon_type_id&&i.$set(i.couponList[a],"useState",1);else for(var s=0;s<n.length;s++)n[s].coupon_type_id==e.coupon_type_id&&i.$set(i.couponList[s],"useState",2);t.$util.showToast({title:r}),i.$forceUpdate(),t.hackReset=!1,t.$nextTick((function(){t.hackReset=!0})),t.couponBtnSwitch=!1}}):(this.$refs.login.open(this.shareUrl),this.couponBtnSwitch=!1))},refreshCoupon:function(e){for(var t in this.couponList){var i=this.couponList[t];e==i.coupon_type_id&&this.$set(this.couponList[t],"is_lingqu",1)}this.$forceUpdate()},getManjian:function(){var e=this;this.$api.sendRequest({url:"/manjian/api/manjian/info",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(i){e.manjian=i;var o=0==i.type?"元":"件";Object.keys(i.rule_json).forEach((function(t){var r=i.rule_json[t];if(r.coupon_data)for(var n=0;n<r.coupon_data.length;n++)r.coupon_data[n].coupon_num=r.coupon_num[n];if(r.limit=0==i.type?parseFloat(r.limit).toFixed(2):parseInt(r.limit),void 0!=r.discount_money&&(void 0==e.manjian.manjian?e.manjian.manjian="满"+r.limit+o+"减"+r.discount_money+"元":e.manjian.manjian+="；满"+r.limit+o+"减"+r.discount_money+"元"),void 0!=r.point||void 0!=r.coupon){var a="";void 0!=r.point&&(a="送"+r.point+"积分"),void 0!=r.coupon&&void 0!=r.coupon_data&&r.coupon_data.forEach((function(e,t){"discount"==e.type?""==a?a="送"+r.coupon_num[t]+"张"+parseFloat(e.discount)+"折优惠券":a+="、送"+r.coupon_num[t]+"张"+parseFloat(e.discount)+"折优惠券":""==a?a="送"+r.coupon_num[t]+"张"+parseFloat(e.money)+"元优惠券":a+="、送"+r.coupon_num[t]+"张"+parseFloat(e.money)+"元优惠券"})),void 0==e.manjian.mansong?e.manjian.mansong="满"+r.limit+o+a:e.manjian.mansong+="；满"+r.limit+o+a}void 0!=r.free_shipping&&(void 0==e.manjian.free_shipping?e.manjian.free_shipping="满"+r.limit+o+"包邮":e.manjian.free_shipping+="；满"+r.limit+o+"包邮")}))}}})},openManjianPopup:function(){this.$refs.manjianPopup.open()},closeManjianPopup:function(){this.$refs.manjianPopup.close()},getBundling:function(){var e=this;this.$api.sendRequest({url:"/bundling/api/bundling/lists",data:{sku_id:this.skuId},success:function(t){if(e.bundling=t.data,t.data&&t.data.length){for(var i=0;i<e.bundling[0].bundling_goods.length;i++){if(e.bundling[0].bundling_goods[i].sku_id==e.skuId){e.bundlingType=!0;break}e.bundlingType=!1}for(i=0;i<e.bundling.length;i++)for(var o=0;o<e.bundling[i].bundling_goods.length;o++)e.bundling[i].bundling_goods[o].sku_id==e.skuId&&e.bundling[i].bundling_goods.splice(o,1)}}})},openBundlingPopup:function(){this.$refs.bundlingPopup.open()},closeBundlingPopup:function(){this.$refs.bundlingPopup.close()},imageError:function(){this.goodsSkuDetail.sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},bundlingImageError:function(e,t){this.bundling[e].bundling_goods[t].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},fenxiao:function(){this.$refs.fenxiaoPopup.show()},toGoodsDetail:function(e){this.$util.redirectTo(this.goodsRoute,{sku_id:e})},toComoDetail:function(e){this.$util.redirectTo("/pages_promotion/bundling/detail",{bl_id:e})},getMemberInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code&&t.data&&0==t.data.member_level_type&&e.getMemberCardInfo()}})},getMemberCardInfo:function(){var e=this;this.$api.sendRequest({url:"/supermember/api/membercard/recommendcard",data:{sku_id:this.goodsSkuDetail.sku_id},success:function(t){0==t.code&&t.data&&(e.membercard=t.data)}})}}};t.default=s}).call(this,i("543d")["default"])},c305:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"会员卡"};t.lang=o},c409:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{themeColor:"",tabBarHeight:"0px"}},onLoad:function(){},onShow:function(){var t=this;this.$langConfig.refresh();var i=setInterval((function(){var o=e.getStorageSync("theme_style");o.main_color&&(t.themeColorSet(),clearInterval(i))}),50);this.themeColor&&this.getTabbarHeight()},computed:{themeStyle:function(){return e.getStorageSync("theme_style")},addonIsExist:function(){return e.getStorageSync("addon_is_exist")},tabBarList:function(){return this.$store.state.tabBarList},siteInfo:function(){return e.getStorageSync("siteInfo")}},methods:{themeColorSet:function(){var t=this,i=e.getStorageSync("theme_style");this.themeColor="--base-color:".concat(i.main_color,";--base-help-color:").concat(i.aux_color,";--tab-bar-height:").concat(this.tabBarHeight,";"),Object.keys(i).forEach((function(e){var o=i[e];"object"==typeof o?Object.keys(o).forEach((function(e){t.themeColor+="--"+e.replace(/_/g,"-")+":"+o[e]+";"})):"string"==typeof e&&e&&(t.themeColor+="--"+e.replace(/_/g,"-")+":"+o+";")}))},lightenDarkenColor:function(e,t){var i=!1;"#"==e[0]&&(e=e.slice(1),i=!0);var o=parseInt(e,16),r=(o>>16)+t;r>255?r=255:r<0&&(r=0);var n=(o>>8&255)+t;n>255?n=255:n<0&&(n=0);var a=(255&o)+t;return a>255?a=255:a<0&&(a=0),(i?"#":"")+(a|n<<8|r<<16).toString(16)},getTabbarHeight:function(){var t=this;try{var i=e.createSelectorQuery().in(this);i.select("#tab-bar").boundingClientRect((function(e){e&&(t.tabBarHeight=e.height+"px",t.themeColorSet())})).exec()}catch(o){}}},filters:{moneyFormat:function(e){return isNaN(parseFloat(e))?e:parseFloat(e).toFixed(2)}},onReady:function(){var e=this,t=0,i=setInterval((function(){e.getTabbarHeight(),t+=1,"0px"==e.tabBarHeight&&10!=t||clearInterval(i)}),100)}};t.default=i}).call(this,i("543d")["default"])},c567:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"个人资料",headImg:"头像",account:"账号",nickname:"昵称",realName:"真实姓名",sex:"性别",birthday:"生日",password:"密码",paypassword:"支付密码",mobilePhone:"手机",bindMobile:"绑定手机",cancellation:"注销账号",lang:"语言",logout:"退出登录",save:"保存",noset:"未设置",nickPlaceholder:"请输入新昵称",pleaseRealName:"请输入真实姓名",nowPassword:"当前密码",newPassword:"新密码",confirmPassword:"确认新密码",phoneNumber:"手机号",confirmCode:"验证码",confirmCodeInput:"请输入验证码",confirmCodeInputerror:"验证码错误",findanimateCode:"获取动态码",animateCode:"动态码",animateCodeInput:"请输入动态码",modifyNickname:"修改昵称",modifyPassword:"修改密码",bindPhone:"绑定手机",alikeNickname:"与原昵称一致，无需修改",noEmityNickname:"昵称不能为空",updateSuccess:"修改成功",pleaseInputOldPassword:"请输入原始密码",pleaseInputNewPassword:"请输入新密码",passwordLength:"密码长度不能小于6位",alikePassword:"两次密码不一致",samePassword:"新密码不能与原密码相同",surePhoneNumber:"请输入正确的手机号",alikePhone:"与原手机号一致，无需修改",modify:"修改"};t.lang=o},c5a0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"收货地址",newAddAddress:"新增地址",getAddress:"一键获取地址",is_default:"默认",modify:"编辑",del:"删除"};t.lang=o},c678:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"店铺打烊"};t.lang=o},c8aac:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"退款详情"};t.lang=o},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(o){"object"===typeof window&&(i=window)}e.exports=i},cbc6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},ce70:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("ec6f"));function r(e){return e&&e.__esModule?e:{default:e}}var n=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,a=/^<\/([-A-Za-z0-9_]+)[^>]*>/,s=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,c=m("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),u=m("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),l=m("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),d=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),f=m("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),h=m("script,style");function p(e,t){var i,o,r,p=[],m=e;p.last=function(){return this[this.length-1]};while(e){if(o=!0,p.last()&&h[p.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+p.last()+"[^>]*>"),(function(e,i){return i=i.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(i),""})),v("",p.last());else if(0==e.indexOf("\x3c!--")?(i=e.indexOf("--\x3e"),i>=0&&(t.comment&&t.comment(e.substring(4,i)),e=e.substring(i+3),o=!1)):0==e.indexOf("</")?(r=e.match(a),r&&(e=e.substring(r[0].length),r[0].replace(a,v),o=!1)):0==e.indexOf("<")&&(r=e.match(n),r&&(e=e.substring(r[0].length),r[0].replace(n,_),o=!1)),o){i=e.indexOf("<");var g=i<0?e:e.substring(0,i);e=i<0?"":e.substring(i),t.chars&&t.chars(g)}if(e==m)throw"Parse Error: "+e;m=e}function _(e,i,o,r){if(i=i.toLowerCase(),u[i])while(p.last()&&l[p.last()])v("",p.last());if(d[i]&&p.last()==i&&v("",i),r=c[i]||!!r,r||p.push(i),t.start){var n=[];o.replace(s,(function(e,t){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:f[t]?t:"";n.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})})),t.start&&t.start(i,n,r)}}function v(e,i){if(i){for(o=p.length-1;o>=0;o--)if(p[o]==i)break}else var o=0;if(o>=0){for(var r=p.length-1;r>=o;r--)t.end&&t.end(p[r]);p.length=o}}v()}function m(e){for(var t={},i=e.split(","),o=0;o<i.length;o++)t[i[o]]=!0;return t}function g(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function _(e){e=e.replace(/<!--[\s\S]*-->/gi,"");return e}function v(t){var i=e.getSystemInfoSync(),r=i.safeArea.width||i.screenWidth;r-=20,r+="px";var n='<img style="width:100% !important;display:block;max-width: '.concat(r,' !important;"');t=t.replace(/\\/g,"").replace(/<img/g,n);return t=t.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){return n+' src="'+o.default.img(t)+'"/>'})),t}function y(e){e=e.replace(/style\s*=\s*["][^>]*;[^"]?/gi,(function(e,t){return e=e.replace(/[:](\s?)[\s\S]*/gi,(function(e,t){return e.replace(/"/g,"'")})),e}));return e}function b(e){return e.reduce((function(e,t){var i=t.value,o=t.name;return e[o]?e[o]=e[o]+" "+i:e[o]=i,e}),{})}function w(e){e=g(e),e=_(e),e=v(e),e=y(e);var t=[],i={node:"root",children:[]};return p(e,{start:function(e,o,r){var n={name:e};if(0!==o.length&&(n.attrs=b(o)),r){var a=t[0]||i;a.children||(a.children=[]),a.children.push(n)}else t.unshift(n)},end:function(e){var o=t.shift();if(o.name!==e&&console.error("invalid state: mismatch end tag"),0===t.length)i.children.push(o);else{var r=t[0];r.children||(r.children=[]),r.children.push(o)}},chars:function(e){var o={type:"text",text:e};if(0===t.length)i.children.push(o);else{var r=t[0];r.children||(r.children=[]),r.children.push(o)}},comment:function(e){var i={node:"comment",text:e},o=t[0];o.children||(o.children=[]),o.children.push(i)}}),i.children}var D=w;t.default=D}).call(this,i("543d")["default"])},cf99:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("2f60"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(t.date,t.selected),o=t.startDate,r=t.endDate,a=t.range;n(this,e),this.date=this.getDate(new Date),this.selected=i||[],this.startDate=o,this.endDate=r,this.range=a,this.cleanMultipleStatus(),this.weeks={}}return s(e,[{key:"setDate",value:function(e){this.selectDate=this.getDate(e),this._getWeek(this.selectDate.fullDate)}},{key:"cleanMultipleStatus",value:function(){this.multipleStatus={before:"",after:"",data:[]}}},{key:"resetSatrtDate",value:function(e){this.startDate=e}},{key:"resetEndDate",value:function(e){this.endDate=e}},{key:"getDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";e||(e=new Date),"object"!==typeof e&&(e=e.replace(/-/g,"/"));var o=new Date(e);switch(i){case"day":o.setDate(o.getDate()+t);break;case"month":31===o.getDate()?o.setDate(o.getDate()+t):o.setMonth(o.getMonth()+t);break;case"year":o.setFullYear(o.getFullYear()+t);break}var r=o.getFullYear(),n=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,a=o.getDate()<10?"0"+o.getDate():o.getDate();return{fullDate:r+"-"+n+"-"+a,year:r,month:n,date:a,day:o.getDay()}}},{key:"_getLastMonthDays",value:function(e,t){for(var i=[],o=e;o>0;o--){var r=new Date(t.year,t.month-1,1-o).getDate();i.push({date:r,month:t.month-1,lunar:this.getlunar(t.year,t.month-1,r),disable:!0})}return i}},{key:"_currentMonthDys",value:function(e,t){for(var i=this,o=[],r=this.date.fullDate,n=function(e){var n=t.year+"-"+(t.month,t.month+"-")+(e<10?"0"+e:e),a=r===n,s=i.selected&&i.selected.find((function(e){if(i.dateEqual(n,e.date))return e})),c=!0,u=!0;if(i.startDate){var l=i.dateCompare(i.startDate,r);c=i.dateCompare(l?i.startDate:r,n)}if(i.endDate){var d=i.dateCompare(r,i.endDate);u=i.dateCompare(n,d?i.endDate:r)}var f=i.multipleStatus.data,h=!1,p=-1;i.range&&(f&&(p=f.findIndex((function(e){return i.dateEqual(e,n)}))),-1!==p&&(h=!0));var m={fullDate:n,year:t.year,date:e,multiple:!!i.range&&h,beforeMultiple:i.dateEqual(i.multipleStatus.before,n),afterMultiple:i.dateEqual(i.multipleStatus.after,n),month:t.month,lunar:i.getlunar(t.year,t.month,e),disable:!c||!u,isDay:a};s&&(m.extraInfo=s),o.push(m)},a=1;a<=e;a++)n(a);return o}},{key:"_getNextMonthDays",value:function(e,t){for(var i=[],o=1;o<e+1;o++)i.push({date:o,month:Number(t.month)+1,lunar:this.getlunar(t.year,Number(t.month)+1,o),disable:!0});return i}},{key:"getInfo",value:function(e){var t=this;e||(e=new Date);var i=this.canlender.find((function(i){return i.fullDate===t.getDate(e).fullDate}));return i}},{key:"dateCompare",value:function(e,t){return e=new Date(e.replace("-","/").replace("-","/")),t=new Date(t.replace("-","/").replace("-","/")),e<=t}},{key:"dateEqual",value:function(e,t){return e=new Date(e.replace("-","/").replace("-","/")),t=new Date(t.replace("-","/").replace("-","/")),e.getTime()-t.getTime()===0}},{key:"geDateAll",value:function(e,t){var i=[],o=e.split("-"),r=t.split("-"),n=new Date;n.setFullYear(o[0],o[1]-1,o[2]);var a=new Date;a.setFullYear(r[0],r[1]-1,r[2]);for(var s=n.getTime()-864e5,c=a.getTime()-864e5,u=s;u<=c;)u+=864e5,i.push(this.getDate(new Date(parseInt(u))).fullDate);return i}},{key:"getlunar",value:function(e,t,i){return o.default.solar2lunar(e,t,i)}},{key:"setSelectInfo",value:function(e,t){this.selected=t,this._getWeek(e)}},{key:"setMultiple",value:function(e){var t=this.multipleStatus,i=t.before,o=t.after;this.range&&(i&&o?(this.multipleStatus.before="",this.multipleStatus.after="",this.multipleStatus.data=[]):i?(this.multipleStatus.after=e,this.dateCompare(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before)):this.multipleStatus.before=e,this._getWeek(e))}},{key:"_getWeek",value:function(e){var t=this.getDate(e),i=(t.fullDate,t.year),o=t.month,r=(t.date,t.day,new Date(i,o-1,1).getDay()),n=new Date(i,o,0).getDate(),a={lastMonthDays:this._getLastMonthDays(r,this.getDate(e)),currentMonthDys:this._currentMonthDys(n,this.getDate(e)),nextMonthDays:[],weeks:[]},s=[],c=42-(a.lastMonthDays.length+a.currentMonthDys.length);a.nextMonthDays=this._getNextMonthDays(c,this.getDate(e)),s=s.concat(a.lastMonthDays,a.currentMonthDys,a.nextMonthDays);for(var u={},l=0;l<s.length;l++)l%7===0&&(u[parseInt(l/7)]=new Array(7)),u[parseInt(l/7)][l%7]=s[l];this.canlender=s,this.weeks=u}}]),e}(),u=c;t.default=u},cfa5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"公告详情"};t.lang=o},cffa:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"兑换结果",exchangeSuccess:"兑换成功",see:"查看兑换记录",goHome:"回到首页"};t.lang=o},d0b2:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{orderPay:function(t){var i=this;0==t.adjust_money?this.pay():e.showModal({title:"提示",content:"商家已将支付金额调整为"+t.pay_money+"元，是否继续支付？",success:function(e){e.confirm&&i.pay()}})},pay:function(){var e=this;this.$api.sendRequest({url:"/api/order/pay",data:{order_ids:this.orderData.order_id},success:function(t){t.code>=0?e.$refs.choosePaymentPopup.getPayInfo(t.data):e.$util.showToast({title:t.message})}})},orderClose:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要关闭该订单吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/close",data:{order_id:t},success:function(e){e.code>=0?"function"==typeof i&&i():o.$util.showToast({title:"当前订单可能存在拼团，维权等操作，"+e.message+"不可以关闭哦!",duration:2e3})}})}})},orderDelivery:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定已经收到货物了吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/takedelivery",data:{order_id:t},success:function(e){o.$util.showToast({title:e.message}),"function"==typeof i&&i()}})}})},orderVirtualDelivery:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要进行收货吗操作？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/membervirtualtakedelivery",data:{order_id:t},success:function(e){o.$util.showToast({title:e.message}),"function"==typeof i&&i()}})}})}}};t.default=i}).call(this,i("543d")["default"])},d255:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的礼品",emptyTips:"暂无礼品"};t.lang=o},d337:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"编辑账户",name:"姓名",namePlaceholder:"请输入真实姓名",mobilePhone:"手机号码",mobilePhonePlaceholder:"请输入手机号",accountType:"账号类型",bankInfo:"支行信息",bankInfoPlaceholder:"请输入支行信息",withdrawalAccount:"提现账号",withdrawalAccountPlaceholder:"请输入提现账号",save:"保存"};t.lang=o},d34b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"订单列表",emptyTips:"暂无相关订单",all:"全部",waitPay:"待付款",readyDelivery:"待发货",waitDelivery:"待收货",waitEvaluate:"待评价",update:"释放刷新",updateIng:"加载中..."};t.lang=o},d7fa:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我要评价"};t.lang=o},d937:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"拼团分享"};t.lang=o},dbc3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的红包列表"};t.lang=o},dcab:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"会员中心",login:"立即登录",loginTpis:"登录体验更多功能",memberLevel:"会员等级",moreAuthority:"更多权限",allOrders:"全部订单",seeAllOrders:"查看全部订单",waitPay:"待付款",readyDelivery:"待发货",waitDelivery:"待收货",waitEvaluate:"待评价",refunding:"退款",sign:"签到",personInfo:"个人资料",receivingAddress:"收货地址",accountList:"账户列表",couponList:"优惠券",mySpellList:"我的拼单",myBargain:"我的砍价",virtualCode:"虚拟码",winningRecord:"我的礼品",myCollection:"我的关注",myTracks:"我的足迹",pintuanOrder:"拼团订单",yushouOrder:"预售订单",verification:"核销台",message:"我的消息",exchangeOrder:"积分兑换",balance:"余额",point:"积分",coupon:"优惠券",memberRecommend:"邀请有礼",myPresale:"我的预售",myGiftcard:"我的礼品卡",myDivideticket:"我的瓜分券",myRebate:"拼团返利",myHongbao:"我的红包列表",myBlindBox:"我的盲盒"};t.lang=o},dd1c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"兑换"};t.lang=o},de59:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},df6f:function(e,t,i){var o={"./en-us/common.js":"73ab","./zh-cn/common.js":"a782"};function r(e){var t=n(e);return i(t)}function n(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=n,e.exports=r,r.id="df6f"},e0c6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的余额",accountBalance:"账户余额 ",money:" (元)",recharge:"充值",withdrawal:"提现",balanceDetailed:"余额明细",emptyTips:"暂无余额记录",rechargeRecord:"充值记录",ableAccountBalance:"现金余额 ",noAccountBalance:"储值余额 "};t.lang=o},e1ce:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"秒杀专区"};t.lang=o},e40a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,is_point:1,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:"",member_address:{mobile:""},is_open_card:0,member_card_unit:""},orderPaymentData:{shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice:{invoice_content_array:[]}},member_account:{balance:0,is_pay_password:0},delivery:{delivery_type:""},member_address:{mobile:""},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},isSub:!1,tempData:null,manjian:[],storeInfo:{storeList:[],currStore:{}},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTime:!1,showTimeBar:!1},post_free:{},canLocalDelicery:!0,deliveryWeek:"",out_trade_no:null}},onLoad:function(){this.location||this.$util.getLocation()},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){var t={local:0,type:1};e.setStorageSync("addressBack","/pages_promotion/giftcard/payment/payment?giftcard_id="+this.giftcard_id+"&id="+this.id),"local"==this.orderPaymentData.delivery.delivery_type&&(t.local=1,t.type=2),this.$util.redirectTo("/pages_tool/member/address",t)},getOrderPaymentData:function(){var t=this;if(!this.out_trade_no){this.orderCreateData=e.getStorageSync("orderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){this.location&&(this.orderCreateData.latitude=this.location.latitude,this.orderCreateData.longitude=this.location.longitude);var o=e.getStorageSync("store");o&&(this.orderCreateData.default_store_id=o.store_id),this.orderCreateData.cart_ids&&this.orderCreateData.jielong_id?this.$api.sendRequest({url:"/jielong/api/cart/goodsLists",data:{jielong_id:this.orderCreateData.jielong_id},success:function(e){if(0==e.data.length)return t.$util.redirectTo("/pages/index/index",{},"reLaunch"),!1;t.dingdna()}}):this.dingdna()}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index",{},"reLaunch")}),1500))}},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.is_point=1,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderPaymentData.shop_goods_list.invoice&&(this.orderPaymentData.shop_goods_list.invoice.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type.split(","),this.orderCreateData.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type[0]);var i=this.orderPaymentData;if(i.recommend_member_card&&(this.orderCreateData.member_card_unit=Object.keys(i.recommend_member_card.charge_rule)[0]),void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var n=r.name,a=r.title;"store"==n&&(i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)})),this.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""})}else{n=o[0].name;"store"==n&&(this.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""});a=o[0].title}this.orderCreateData.delivery.delivery_type=n,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var s=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;s.length&&(this.orderCreateData.invoice_content=s[0])}if(0==this.orderPaymentData.is_virtual)if(this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){if(this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1,0==this.orderPaymentData.shop_goods_list.local_config.info.time_type)this.deliveryWeek="全天";else if(this.orderPaymentData.shop_goods_list.local_config.info.time_week.length>0){this.timeInfo.showTime=!0;for(var c=this.orderPaymentData.shop_goods_list.local_config.info.time_week,u=!1,l=0;l<c.length;l++)if(l+1<c.length){var d=c[l+1]-c[l];if(d>1){u=!0;break}}var f=["周日","周一","周二","周三","周四","周五","周六"];if(u){var h=[];for(l=0;l<c.length;l++)h.push(f[c[l]]);this.deliveryWeek=h.join("、")}else this.deliveryWeek=f[c[0]]+"至"+f[c[c.length-1]]}else this.deliveryWeek="店铺未设置配送时间";var p=(new Date).getHours().toString(),m=(new Date).getMinutes().toString();1==p.length&&(p="0"+p),1==m.length&&(m="0"+m),this.orderCreateData.buyer_ask_delivery_time=p+":"+m;var g=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(g);var _=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(_);var v=new Date(this.$util.timeStampTurnTime(this.orderPaymentData.timestamp)),y=v.getHours(),b=v.getMinutes(),w=parseInt(this.timeInfo.start_time.split(":")[0]),D=parseInt(this.timeInfo.start_time.split(":")[1]),S=parseInt(this.timeInfo.end_time.split(":")[0]),k=parseInt(this.timeInfo.end_time.split(":")[1]);this.canLocalDelicery&&(w==S&&D==k||((y<w||y==w&&b<D)&&(this.orderCreateData.buyer_ask_delivery_time=(1==w.toString().length?"0"+w:w)+":"+(1==D.toString().length?"0"+D:D)),(y>S||y==S&&b>k)&&(this.canLocalDelicery=!1)))}else this.deliveryWeek="店铺未开启配送时间";i.system_form&&(this.orderPaymentData.system_form=i.system_form),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]}))},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},dingdna:function(){var e=this;this.orderCreateData.giftcard_id=this.giftcard_id,this.$api.sendRequest({url:"/giftcard/api/giftcard/payment",data:this.orderCreateData,success:function(t){t.code>=0?(e.post_free=t.data.shop_goods_list.promotion,e.orderPaymentData=t.data,e.orderPaymentData.timestamp=t.timestamp,e.handlePaymentData(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()):(e.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){e.$util.redirectTo("/pages/index/index",{},"reLaunch")}),1500))},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"没有可提货的门店,请选择其他配送方式"}),!1;if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}if("local"==this.orderCreateData.delivery.delivery_type){if("店铺未开启配送时间"==this.deliveryWeek)return this.$util.showToast({title:"店铺未设置配送时间"}),!1;if(!this.canLocalDelicery)return this.$util.showToast({title:"本店已休息"}),!1;if(o!=n||r!=a){var t=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[0]),i=parseInt(this.orderCreateData.buyer_ask_delivery_time.split(":")[1]),o=parseInt(this.timeInfo.start_time.split(":")[0]),r=parseInt(this.timeInfo.start_time.split(":")[1]),n=parseInt(this.timeInfo.end_time.split(":")[0]),a=parseInt(this.timeInfo.end_time.split(":")[1]);if(t<o||t==o&&i<r)return this.$util.showToast({title:"送达时间不能小于配送开始时间"}),!1;if(!(t>o&&t<n||t==o&&i>r||t==o&&i>=r&&t<n))return this.$util.showToast({title:"送达时间范围：开始时间~结束时间"}),!1}}var s=!0;for(var c in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[c])){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"未设置配送方式'});break}if("store"==this.orderCreateData.delivery[c].delivery_type&&0==this.orderCreateData.delivery[c].store_id){s=!1,this.$util.showToast({title:'店铺"'+this.orderPaymentData.shop_goods_list[c].site_name+'"没有可提货的门店,请选择其他配送方式'});break}}if(!s)return!1}if(this.orderPaymentData.system_form){var u=this.$refs.form.verify();if(!u)return!1}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&(this.storeSelected(t),this.member_address.mobile||(this.member_address.mobile=""!=this.orderPaymentData.member_account.mobile?this.orderPaymentData.member_account.mobile:"")),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},popupConfirm:function(e){this.$forceUpdate(),this.tempData=null,this.$refs[e].close()},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.$forceUpdate()},getTime:function(){var e=["0","1","2","3","4","5","6"],t=(new Date).getDay();this.timeInfo.week=e[t]},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail",{goods_id:e})},openChoosePayment:function(t,i){var o=this;this.orderCreateData.giftcard_id=t,this.orderCreateData.id=i,this.orderCreateData.delivery=JSON.stringify(this.orderCreateData.delivery),this.verify()&&e.showModal({title:"提示",content:"确定要使用该礼品卡吗",success:function(e){e.confirm&&o.$api.sendRequest({url:"/giftcard/api/giftcard/use",data:o.orderCreateData,success:function(e){o.$util.showToast({title:e.message}),setTimeout((function(){o.$util.redirectTo("/pages_promotion/giftcard/my_giftcard/my_giftcard")}),1e3)}})}})},subscribeMessage:function(){var t="ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY";this.orderCreateData.delivery&&"store"==this.orderCreateData.delivery.delivery_type&&(t="ORDER_PAY,ORDER_TAKE_DELIVERY"),this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:t},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages_tool/login/login"),this.getTime(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{location:function(){return this.$store.state.location}},watch:{location:function(e){e&&this.getOrderPaymentData()}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},e547:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=["zh-cn","en-us"],r=e.getStorageSync("lang")||"zh-cn",n={langList:["zh-cn","en-us"],lang:function(e){var t=getCurrentPages()[getCurrentPages().length-1];if(t){var o,n="";try{var a=i("df6f")("./"+r+"/common.js").lang,s=t.route.split("/");o=s.slice(1,s.length);var c=i("982cd")("./"+r+"/"+o.join("/")+".js").lang;for(var u in c)a[u]=c[u];var l=e.split(".");if(l.length>1)for(var d in l){var f=parseInt(d)+1;f<l.length&&(n=a[l[d]][l[f]])}else n=a[e]}catch(p){n=-1!=e.indexOf("common.")||-1!=e.indexOf("tabBar.")?a[e]:e}if(arguments.length>1)for(var h=1;h<arguments.length;h++)n=n.replace("{"+(h-1)+"}",arguments[h]);return(void 0==n||"title"==n&&"title"==e)&&(n=""),n}},change:function(t){var i=getCurrentPages()[getCurrentPages().length-1];i&&(e.setStorageSync("lang",t),r=e.getStorageSync("lang")||"zh-cn",this.refresh(),e.reLaunch({url:"/pages/member/index"}))},refresh:function(){var t=getCurrentPages()[getCurrentPages().length-1];t&&(this.title(this.lang("title")),e.setTabBarItem({index:0,text:this.lang("tabBar.home")}),e.setTabBarItem({index:1,text:this.lang("tabBar.category")}),e.setTabBarItem({index:2,text:this.lang("tabBar.cart")}),e.setTabBarItem({index:3,text:this.lang("tabBar.member")}))},title:function(t){t&&e.setNavigationBarTitle({title:t,success:function(e){},fail:function(e){}})},list:function(){var e=[];try{for(var t=0;t<o.length;t++){var r=i("df6f")("./"+o[t]+"/common.js").lang;e.push({name:r.common.name,value:o[t]})}}catch(n){}return e}};t.default=n}).call(this,i("543d")["default"])},e6bb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"编辑收货地址",consignee:"姓名",consigneePlaceholder:"收货人姓名",mobile:"手机",mobilePlaceholder:"收货人手机号",telephone:"电话",telephonePlaceholder:"收货人固定电话（选填）",receivingCity:"地区",address:"详细地址",addressPlaceholder:"小区、街道、写字楼",save:"保存"};t.lang=o},e7c3:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(i("ce70"));function r(e){return e&&e.__esModule?e:{default:e}}var n={data:function(){return{skuId:0,goodsId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},preview:0,token:"",contactData:{title:"",path:"",img:""},shareQuery:"",shareUrl:"",source_member:0,chatRoomParams:{},isIphoneX:!1,whetherCollection:0,memberId:0,posterParams:{}}},onLoad:function(t){if(this.preview=t.preview||0,this.token=e.getStorageSync("token"),this.isIphoneX=this.$util.uniappIsIPhoneX(),t.source_member&&(e.setStorageSync("source_member",t.source_member),this.source_member=t.source_member),this.token&&e.getStorageSync("source_member")&&this.$util.onSourceMember(e.getStorageSync("source_member")),t.scene){var i=decodeURIComponent(t.scene);i=i.split("&"),i.length&&i.forEach((function(t){-1!=t.indexOf("m")&&e.setStorageSync("source_member",t.split("-")[1]),-1!=t.indexOf("is_test")&&e.setStorageSync("is_test",1)}))}},computed:{cartCount:function(){return this.$store.state.cartNumber}},onShow:function(){var e=this;this.token&&(this.getCartCount(),this.$util.getMemberId().then((function(t){e.memberId=t})))},watch:{memberId:function(){this.goodsSkuDetail.goods_id&&this.setPublicShare()}},methods:{handleGoodsSkuData:function(){if(this.$langConfig.title(this.goodsSkuDetail.goods_name),this.modifyGoodsInfo(),this.getWhetherCollection(),this.$refs.goodsDetailView.init({sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,preview:this.preview,source_member:this.source_member,posterParams:this.posterParams,posterApi:this.posterApi,shareUrl:this.shareUrl,memberId:this.memberId,goodsRoute:this.goodsRoute}),this.goodsSkuDetail.video_url&&(this.switchMedia="video"),this.goodsSkuDetail.sku_images?this.goodsSkuDetail.sku_images=this.goodsSkuDetail.sku_images.split(","):this.goodsSkuDetail.sku_images=[],this.goodsSkuDetail.goods_spec_format&&this.goodsSkuDetail.goods_image&&(this.goodsSkuDetail.goods_image=this.goodsSkuDetail.goods_image.split(","),this.goodsSkuDetail.sku_images=this.goodsSkuDetail.goods_image.concat(this.goodsSkuDetail.sku_images)),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.goodsSkuDetail.sku_spec_format&&(this.goodsSkuDetail.sku_spec_format=JSON.parse(this.goodsSkuDetail.sku_spec_format)),this.goodsSkuDetail.goods_attr_format){var e=JSON.parse(this.goodsSkuDetail.goods_attr_format);this.goodsSkuDetail.goods_attr_format=this.$util.unique(e,"attr_id");for(var t=0;t<this.goodsSkuDetail.goods_attr_format.length;t++)for(var i=0;i<e.length;i++)this.goodsSkuDetail.goods_attr_format[t].attr_id==e[i].attr_id&&this.goodsSkuDetail.goods_attr_format[t].attr_value_id!=e[i].attr_value_id&&(this.goodsSkuDetail.goods_attr_format[t].attr_value_name+="、"+e[i].attr_value_name)}if(this.goodsSkuDetail.goods_spec_format&&(this.goodsSkuDetail.goods_spec_format=JSON.parse(this.goodsSkuDetail.goods_spec_format)),this.goodsSkuDetail.goods_content&&(this.goodsSkuDetail.goods_content=(0,o.default)(this.goodsSkuDetail.goods_content)),this.goodsSkuDetail.goods_service)for(var r in this.goodsSkuDetail.goods_service)this.goodsSkuDetail.goods_service[r]["icon"]=JSON.parse(this.goodsSkuDetail.goods_service[r]["icon"]);this.contactData={title:this.goodsSkuDetail.sku_name,path:this.shareUrl,img:this.$util.img(this.goodsSkuDetail.sku_image,{size:"big"})},this.$refs.goodsPromotion&&this.$refs.goodsPromotion.refresh(this.goodsSkuDetail.goods_promotion),"/pages/goods/detail"!=this.goodsRoute&&this.setPublicShare(),this.getBarrageData()},refreshGoodsSkuDetail:function(e){var t=this;this.$refs.goodsPromotion&&this.$refs.goodsPromotion.refresh(this.goodsSkuDetail.goods_promotion),this.$refs.goodsDetailView&&(Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))),this.$langConfig.title(this.goodsSkuDetail.sku_name)},goHome:function(){this.preview||this.$util.redirectTo("/pages/index/index",{},"reLaunch")},goCart:function(){this.preview||this.$util.redirectTo("/pages/goods/cart",{},"reLaunch")},getCartCount:function(){this.$store.dispatch("getCartNumber")},modifyGoodsInfo:function(){this.preview||(this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}}))},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){this.$refs.goodsDetailView&&(this.whetherCollection=this.$refs.goodsDetailView.collection())},openSharePopup:function(){this.$refs.goodsDetailView&&this.$refs.goodsDetailView.openSharePopup()},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getBarrageData:function(){var e=this;this.$api.sendRequest({url:"/api/goods/goodsbarrage",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){if(0==t.code&&t.data){var i=[];for(var o in t.data.list)if(t.data.list[o]["title"]){var r=t.data.list[o]["title"].substr(0,1)+"*"+t.data.list[o]["title"].substr(t.data.list[o]["title"].length-1,1);i.push({img:t.data.list[o]["img"]?t.data.list[o]["img"]:e.$util.getDefaultImage().head,title:r+"已下单"})}e.goodsSkuDetail.barrageData=i}}})},setPublicShare:function(){var e=this.$config.h5Domain+this.shareUrl;this.memberId&&(e+="&source_member="+this.memberId),this.$util.setPublicShare({title:this.goodsSkuDetail.goods_name,desc:"",link:e,imgUrl:"object"==typeof this.goodsSkuDetail.goods_image?this.goodsSkuDetail.goods_image[0]:this.goodsSkuDetail.goods_image.split(",")[0]})}},onShareAppMessage:function(e){var t=this.shareUrl;return this.memberId&&(t+="&source_member="+this.memberId),{title:this.goodsSkuDetail.sku_name,imageUrl:this.$util.img(this.goodsSkuDetail.sku_image,{size:"big"}),path:t,success:function(e){},fail:function(e){}}},onShareTimeline:function(){var e=this.shareQuery;return this.memberId&&(e+="&source_member="+this.memberId),{title:this.goodsSkuDetail.sku_name,query:e,imageUrl:this.$util.img(this.goodsSkuDetail.sku_image,{size:"big"})}}};t.default=n}).call(this,i("543d")["default"])},e82f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"组合套餐"};t.lang=o},eb70:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"待付款订单"};t.lang=o},ec64:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"};t.lang=o},ec6b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},ec6f:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(i("a34a")),r=c(i("f27e")),n=c(i("7a9a")),a=c(i("bea4")),s=i("5e27");function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function l(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var n=e.apply(t,i);function a(e){u(n,o,r,a,s,"next",e)}function s(e){u(n,o,r,a,s,"throw",e)}a(void 0)}))}}var d={redirectTo:function(t,i,o){var r=t,n=["/pages/index/index","/pages/goods/category","/pages/goods/cart","/pages/member/index"];void 0!=i&&Object.keys(i).forEach((function(e){-1!=r.indexOf("?")?r+="&"+e+"="+i[e]:r+="?"+e+"="+i[e]}));for(var a=0;a<n.length;a++)if(0==r.indexOf(n[a]))return void e.switchTab({url:r});switch(o){case"tabbar":e.switchTab({url:r});break;case"redirectTo":e.redirectTo({url:r});break;case"reLaunch":e.reLaunch({url:r});break;default:e.navigateTo({url:r})}},img:function(e,t){var i="";if(void 0!=e&&""!=e){if(e.split(",").length>1&&(e=e.split(",")[0]),t&&e!=this.getDefaultImage().goods){var o=e.split("."),n=o[o.length-1];o.pop(),o[o.length-1]=o[o.length-1]+"_"+t.size.toUpperCase(),o.push(n),e=o.join(".")}i=-1==e.indexOf("http://")&&-1==e.indexOf("https://")?r.default.imgDomain+"/"+e:e,i=i.replace("addons/NsGoodsAssist/","").replace("shop/goods/","")}return i},timeStampTurnTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0!=e&&""!=e&&e>0){var i=new Date;i.setTime(1e3*e);var o=i.getFullYear(),r=i.getMonth()+1;r=r<10?"0"+r:r;var n=i.getDate();n=n<10?"0"+n:n;var a=i.getHours();a=a<10?"0"+a:a;var s=i.getMinutes(),c=i.getSeconds();return s=s<10?"0"+s:s,c=c<10?"0"+c:c,t?"yearMonthDay"==t?o+"年"+r+"月"+n+"日":o+"-"+r+"-"+n:o+"-"+r+"-"+n+" "+a+":"+s+":"+c}return""},timeTurnTimeStamp:function(e){var t=e.split(" ",2),i=(t[0]?t[0]:"").split("-",3),o=(t[1]?t[1]:"").split(":",3);return new Date(parseInt(i[0],10)||null,(parseInt(i[1],10)||1)-1,parseInt(i[2],10)||null,parseInt(o[0],10)||null,parseInt(o[1],10)||null,parseInt(o[2],10)||null).getTime()/1e3},countDown:function(e){var t=0,i=0,o=0,r=0;return e>0&&(t=Math.floor(e/86400),i=Math.floor(e/3600)-24*t,o=Math.floor(e/60)-24*t*60-60*i,r=Math.floor(e)-24*t*60*60-60*i*60-60*o),t<10&&(t="0"+t),i<10&&(i="0"+i),o<10&&(o="0"+o),r<10&&(r="0"+r),{d:t,h:i,i:o,s:r}},unique:function(e,t){var i=new Map;return e.filter((function(e){return!i.has(e[t])&&i.set(e[t],1)}))},inArray:function(e,t){return null==t?-1:t.indexOf(e)},getDay:function(e){var t=new Date,i=t.getTime()+864e5*e;t.setTime(i);var o=function(e){var t=e;return 1==e.toString().length&&(t="0"+e),t},r=t.getFullYear(),n=t.getMonth(),a=t.getDate(),s=t.getDay(),c=parseInt(t.getTime()/1e3);n=o(n+1),a=o(a);var u=["周日","周一","周二","周三","周四","周五","周六"];return{t:c,y:r,m:n,d:a,w:u[s]}},upload:function(t,i,r,n){var a="weapp",s="微信小程序",c={token:e.getStorageSync("token"),app_type:a,app_type_name:s};c=Object.assign(c,i);var u=t,d=this;e.chooseImage({count:u,sizeType:["compressed"],sourceType:["album","camera"],success:function(){var t=l(o.default.mark((function t(a){var s,u,l,f,h;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=a.tempFilePaths,u=c,l=[],e.showLoading({title:"图片上传中"}),f=0;case 5:if(!(f<s.length)){t.next=14;break}return t.next=8,d.upload_file_server(s[f],u,i.path,n);case 8:h=t.sent,l.push(h),l.length==s.length&&(e.hideLoading(),e.showToast({title:"上传成功",icon:"none"}),"function"==typeof r&&r(l));case 11:f++,t.next=5;break;case 14:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}(),fail:function(t){e.hideLoading(),e.showToast({title:"上传失败",icon:"none"})}})},upload_file_server:function(t,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(n)var a=r.default.baseUrl+n;else a=r.default.baseUrl+"/api/upload/"+o;return new Promise((function(o,r){e.uploadFile({url:a,filePath:t,name:"file",formData:i,success:function(e){var t=JSON.parse(e.data);t.code>=0?o(t.data.pic_path):r("error")}})}))},copy:function(t,i){e.setClipboardData({data:t,success:function(){"function"==typeof i&&i()}})},isWeiXin:function(){return!1},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.title=t.title||"",t.icon=t.icon||"none",t.duration=t.duration||1500,e.showToast(t),t.success&&t.success()},isIPhoneX:function(){var t=e.getSystemInfoSync();return-1!=t.model.search("iPhone X")},isAndroid:function(){var t=e.getSystemInfoSync().platform;return"ios"!=t&&("android"==t||void 0)},deepClone:function(e){var t=function(e){return"object"==typeof e};if(!t(e))throw new Error("obj 不是一个对象！");var i=Array.isArray(e),o=i?[]:{};for(var r in e)o[r]=t(e[r])?this.deepClone(e[r]):e[r];return o},diyRedirectTo:function(t){if(null!=t&&1!=Object.keys(t).length){if(t.wap_url&&-1!=t.wap_url.indexOf("/pages/index/index")){var i=getCurrentPages(),o=i[i.length-1],r=getCurrentPages()[0];if("pages/index/index"==r.route){if(-1!=t.wap_url.indexOf("?name=")){var n=t.wap_url.indexOf("name=")+5;r.name=t.wap_url.substr(n)}else r.name="DIY_VIEW_INDEX";var a=["DIY_VIEW_INDEX"];return-1==a.indexOf(r.name)&&a.push(r.name),e.setStorageSync("diy_page_route",a),e.setStorageSync("diy_name",r.name),r.onShow(),void("pages/index/index"!=o.route&&e.navigateBack({delta:1}))}if(-1!=t.wap_url.indexOf("/pages/index/index")&&t.diy_name)return e.setStorageSync("diy_name",t.diy_name),void e.switchTab({url:t.wap_url})}t.wap_url&&-1!=t.wap_url.indexOf("http")||t.wap_url&&-1!=t.wap_url.indexOf("http")?this.redirectTo("/pages_tool/webview/webview",{src:encodeURIComponent(t.wap_url)}):t.appid?e.navigateToMiniProgram({appId:t.appid,path:t.page}):"MOBILE"!=t.name||t.wap_url?t.wap_url&&this.redirectTo(t.wap_url):e.makePhoneCall({phoneNumber:t.mobile,success:function(e){},fail:function(e){}})}},getDefaultImage:function(){var t=e.getStorageSync("default_img");return t?(t.goods=this.img(t.goods),t.head=this.img(t.head),t.store=this.img(t.store),t):{goods:"",head:"",store:""}},uniappIsIPhoneX:function(){var t=!1,i=e.getSystemInfoSync();return-1==i.model.search("iPhone X")&&-1==i.model.search("iPhone 11")&&-1==i.model.search("iPhone 12")&&-1==i.model.search("iPhone 13")||(t=!0),t},uniappIsIPhone11:function(){var t=!1,i=e.getSystemInfoSync();return-1!=i.model.search("iPhone 11")&&(t=!0),t},numberFixed:function(e,t){return t||(t=0),Number(e).toFixed(t)},getUrlCode:function(e){var t=location.search,i=new Object;if(-1!=t.indexOf("?"))for(var o=t.substr(1),r=o.split("&"),n=0;n<r.length;n++)i[r[n].split("=")[0]]=r[n].split("=")[1];"function"==typeof e&&e(i)},getCurrRoute:function(){var e=getCurrentPages();return e.length?e[e.length-1].route:""},goBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/index/index";1==getCurrentPages().length?this.redirectTo(t):e.navigateBack()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},getLocation:function(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.getLocation({type:null!==(t=i.type)&&void 0!==t?t:"gcj02",success:function(e){n.default.commit("setLocation",e),"function"==typeof i.success&&i.success(e)},fail:function(e){"function"==typeof i.fail&&i.fail(e)},complete:function(e){"function"==typeof i.complete&&i.complete(e)}})},getDistance:function(e,t,i,o){var r=e*Math.PI/180,n=i*Math.PI/180,a=r-n,s=t*Math.PI/180-o*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(n)*Math.pow(Math.sin(s/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4,c},onSourceMember:function(t){a.default.sendRequest({url:"/api/Member/alterShareRelation",data:{share_member:t},success:function(t){t.code>=0&&e.removeStorage({key:"source_member",success:function(e){console.log("删除成功",e)}})}})},subscribeMessage:function(t){var i=t;a.default.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:i},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){console.log("res",e)},fail:function(e){console.log("fail",e)}})}})},getMemberId:function(){return new Promise((function(e,t){a.default.sendRequest({url:"/api/member/id",success:function(i){i.code>=0?e(i.data):t(i)}})}))},getMpShare:function(e){if(!e){var t=this.getCurrentRoute();e=t.path}return new Promise((function(t,i){a.default.sendRequest({url:"/weapp/api/weapp/share",data:{path:e},success:function(e){if(e.code>=0){var o=e.data.data;if(o){var r={title:o.title,path:o.path,imageUrl:o.imageUrl,success:function(e){},fail:function(e){}};o.path.indexOf("?")>0&&o.path.split("?")[1];var n={title:o.title,query:o.path,imageUrl:o.imageUrl};t({appMessage:r,timeLine:n})}else i(e.data)}else i(e.data)}})}))},setPublicShare:function(t){var i=this;this.isWeiXin()&&a.default.sendRequest({url:"/wechat/api/wechat/jssdkconfig",data:{url:"ios"==e.getSystemInfoSync().platform?e.getStorageSync("initUrl"):window.location.href},success:function(e){if(0==e.code){var o,r,n,a=new s.Weixin;a.init(e.data),a.weixin.showOptionMenu(),a.setShareData({title:null!==(o=t.title)&&void 0!==o?o:"",desc:null!==(r=t.desc)&&void 0!==r?r:"",link:null!==(n=t.link)&&void 0!==n?n:location.href,imgUrl:t.imgUrl?i.img(t.imgUrl):""},(function(e){console.log(e)}))}}})},getCurrentRoute:function(){var e=getCurrentPages(),t=e[e.length-1].route,i=e[e.length-1].options,o=[];for(var r in i)o.push(r+"="+i[r]);var n="/"+t,a=o.join("&");return a&&(n+="?"+a),{path:n,query:a}},getCurrentShareRoute:function(e){var t=this.getCurrentRoute();return t.path=t.path.replace(/[?|&]source_member=\d+/,""),e&&(t.path.indexOf("?")>0?t.path+="&":t.path+="?",t.path+="source_member="+e,t.query&&(t.query+="&"),t.query+="source_member="+e),t},objToStyle:function(e){var t=[];for(var i in e)t.push(i+":"+e[i]);return t.join(";")},colourBlend:function(e,t,i){i=Math.max(Math.min(Number(i),1),0);var o=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),n=parseInt(e.substring(5,7),16),a=parseInt(t.substring(1,3),16),s=parseInt(t.substring(3,5),16),c=parseInt(t.substring(5,7),16),u=Math.round(o*(1-i)+a*i),l=Math.round(r*(1-i)+s*i),d=Math.round(n*(1-i)+c*i);return u=("0"+(u||0).toString(16)).slice(-2),l=("0"+(l||0).toString(16)).slice(-2),d=("0"+(d||0).toString(16)).slice(-2),"#"+u+l+d},bezier:function(e,t){for(var i=[],o=[],r=[],n=Math.sqrt(Math.pow(e[1]["x"]-e[0]["x"],2)+Math.pow(e[1]["y"]-e[0]["y"],2)),a=Math.sqrt(Math.pow(e[2]["x"]-e[1]["x"],2)+Math.pow(e[2]["y"]-e[1]["y"],2)),s=-n/t,c=-a/t,u=(e[1]["y"]-e[0]["y"])/(e[1]["x"]-e[0]["x"]),l=(e[2]["y"]-e[1]["y"])/(e[2]["x"]-e[1]["x"]),d=Math.atan(u),f=Math.atan(l),h=1;h<=t;h++){var p=s*h,m=c*h,g={};g["x"]=p*Math.cos(d)+e[0]["x"],g["y"]=p*Math.sin(d)+e[0]["y"],o.push(g);var _={};_["x"]=m*Math.cos(f)+e[1]["x"],_["y"]=m*Math.sin(f)+e[1]["y"],r.push(_);var v=(_["y"]-g["y"])/(_["x"]-g["x"]),y=Math.atan(v),b=Math.sqrt(Math.pow(_["x"]-g["x"],2)+Math.pow(_["y"]-g["y"],2)),w=p/n*b,D={};D["x"]=w*Math.cos(y)+g["x"],D["y"]=w*Math.sin(y)+g["y"],i.push(D)}return{bezier_points:i}}};t.default=d}).call(this,i("543d")["default"])},edde:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"支付密码"};t.lang=o},ef59:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={emjoyList:{"[emjoy_01]":"public/static/img/emjoy/emjoy_01.gif","[emjoy_02]":"public/static/img/emjoy/emjoy_02.gif","[emjoy_03]":"public/static/img/emjoy/emjoy_03.gif","[emjoy_04]":"public/static/img/emjoy/emjoy_04.gif","[emjoy_05]":"public/static/img/emjoy/emjoy_05.gif","[emjoy_06]":"public/static/img/emjoy/emjoy_06.gif","[emjoy_07]":"public/static/img/emjoy/emjoy_07.gif","[emjoy_08]":"public/static/img/emjoy/emjoy_08.gif","[emjoy_09]":"public/static/img/emjoy/emjoy_09.gif","[emjoy_10]":"public/static/img/emjoy/emjoy_10.gif","[emjoy_11]":"public/static/img/emjoy/emjoy_11.gif","[emjoy_12]":"public/static/img/emjoy/emjoy_12.gif","[emjoy_13]":"public/static/img/emjoy/emjoy_13.gif","[emjoy_14]":"public/static/img/emjoy/emjoy_14.gif","[emjoy_15]":"public/static/img/emjoy/emjoy_15.gif","[emjoy_16]":"public/static/img/emjoy/emjoy_16.gif","[emjoy_17]":"public/static/img/emjoy/emjoy_17.gif","[emjoy_18]":"public/static/img/emjoy/emjoy_18.gif","[emjoy_19]":"public/static/img/emjoy/emjoy_19.gif","[emjoy_20]":"public/static/img/emjoy/emjoy_20.gif","[emjoy_21]":"public/static/img/emjoy/emjoy_21.gif","[emjoy_22]":"public/static/img/emjoy/emjoy_22.gif","[emjoy_23]":"public/static/img/emjoy/emjoy_23.gif","[emjoy_24]":"public/static/img/emjoy/emjoy_24.gif","[emjoy_25]":"public/static/img/emjoy/emjoy_25.gif","[emjoy_26]":"public/static/img/emjoy/emjoy_26.gif","[emjoy_27]":"public/static/img/emjoy/emjoy_27.gif","[emjoy_28]":"public/static/img/emjoy/emjoy_28.gif","[emjoy_29]":"public/static/img/emjoy/emjoy_29.gif","[emjoy_30]":"public/static/img/emjoy/emjoy_30.gif","[emjoy_31]":"public/static/img/emjoy/emjoy_31.gif","[emjoy_32]":"public/static/img/emjoy/emjoy_32.gif","[emjoy_33]":"public/static/img/emjoy/emjoy_33.gif","[emjoy_34]":"public/static/img/emjoy/emjoy_34.gif","[emjoy_35]":"public/static/img/emjoy/emjoy_35.gif","[emjoy_36]":"public/static/img/emjoy/emjoy_36.gif","[emjoy_37]":"public/static/img/emjoy/emjoy_37.gif","[emjoy_38]":"public/static/img/emjoy/emjoy_38.gif","[emjoy_39]":"public/static/img/emjoy/emjoy_39.gif","[emjoy_40]":"public/static/img/emjoy/emjoy_40.gif","[emjoy_41]":"public/static/img/emjoy/emjoy_41.gif","[emjoy_42]":"public/static/img/emjoy/emjoy_42.gif","[emjoy_43]":"public/static/img/emjoy/emjoy_43.gif","[emjoy_44]":"public/static/img/emjoy/emjoy_44.gif","[emjoy_45]":"public/static/img/emjoy/emjoy_45.gif","[emjoy_46]":"public/static/img/emjoy/emjoy_46.gif","[emjoy_47]":"public/static/img/emjoy/emjoy_47.gif"}};t.default=o},ef8b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"帮助详情"};t.lang=o},f0c5:function(e,t,i){"use strict";function o(e,t,i,o,r,n,a,s,c,u){var l,d="function"===typeof e?e.options:e;if(c){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in c)f.call(c,h)&&!f.call(d.components,h)&&(d.components[h]=c[h])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),o&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(d.functional){d._injectStyles=l;var p=d.render;d.render=function(e,t){return l.call(t),p(e,t)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:d}}i.d(t,"a",(function(){return o}))},f27e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o="",r={baseUrl: "{{$baseUrl}}",imgDomain: "{{$imgDomain}}",h5Domain: "{{$h5Domain}}",mpKey: "{{$mpKey}}",webSocket: "{{$webSocket}}",pingInterval: 1500},n=r;t.default=n},f2a3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"笔记详情"};t.lang=o},f385:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{showTop:!1,scrollTop:0,oldLocation:0}},methods:{scrollToTopNative:function(){e.pageScrollTo({duration:200,scrollTop:0})}},onReachBottom:function(){this.$refs.goodrecommend&&this.$refs.goodrecommend.getLikeList(10)},onPageScroll:function(e){this.oldLocation=e.scrollTop,e.scrollTop>400?this.showTop=!0:this.showTop=!1}};t.default=i}).call(this,i("543d")["default"])},f4c5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"砸金蛋"};t.lang=o},f4e9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"砍价专区"};t.lang=o},f564:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("a34a")),r=n(i("50ee"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,o,r,n,a){try{var s=e[n](a),c=s.value}catch(u){return void i(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function s(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var n=e.apply(t,i);function s(e){a(n,o,r,s,c,"next",e)}function c(e){a(n,o,r,s,c,"throw",e)}s(void 0)}))}}var c={data:function(){return{registerConfig:{},indent:"all",customNavTitle:"",memberInfo:{headimg:""},formData:{userHeadImg:"",number:"",nickName:"",sex:"",realName:"",birthday:"",currentPassword:"",newPassword:"",confirmPassword:"",mobile:"",mobileVercode:"",mobileDynacode:"",mobileCodeText:"",username:""},memberInfoformData:{userHeadImg:"",number:"",nickName:"",sex:"",realName:"",birthday:"",currentPassword:"",newPassword:"",confirmPassword:"",mobile:"",mobileVercode:"",mobileDynacode:"",mobileCodeText:""},langList:[],langIndex:0,seconds:120,timer:null,isSend:!1,captcha:{id:"",img:""},isIphoneX:!1,items:[{value:"0",name:"未知"},{value:"1",name:"男",checked:"true"},{value:"2",name:"女"}],current:0,memberConfig:{is_audit:0,is_enable:0}}},onLoad:function(e){this.formData.mobileCodeText=this.$lang("findanimateCode"),e.back&&(this.back=e.back),this.getCaptcha(),e.action&&(this.indent=e.action,this.setNavbarTitle()),this.getRegisterConfig(),this.isIphoneX=this.$util.uniappIsIPhoneX(),this.initLang(),this.getMemberConfig()},onShow:function(){var t=this;e.getStorageSync("token")?this.getInfo():setTimeout((function(){t.$refs.login.open("/pages_tool/member/info")}))},onHide:function(){this.seconds=120,this.formData.mobileCodeText="获取动态码",this.isSend=!1,clearInterval(this.timer)},watch:{seconds:function(e){0==e&&(this.seconds=120,this.formData.mobileCodeText="获取动态码",this.isSend=!1,clearInterval(this.timer))},storeToken:function(e,t){e&&this.getInfo()}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")},storeToken:function(){return this.$store.state.token}},methods:{initLang:function(){if(this.langList=this.$langConfig.list(),e.getStorageSync("lang")){for(var t=0;t<this.langList.length;t++)if(this.langList[t].value==e.getStorageSync("lang")){this.langIndex=t;break}}else this.langIndex=0},setNavbarTitle:function(){var t="个人资料";switch(this.indent){case"name":t=this.$lang("modifyNickname");break;case"realName":t=this.$lang("realName");break;case"sex":t=this.$lang("sex");break;case"birthday":t=this.$lang("birthday");break;case"password":t=this.$lang("password");break;case"mobile":t=this.$lang("mobile");break}e.setNavigationBarTitle({title:t})},getInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code&&(e.memberInfo=t.data,e.memberInfoformData.userHeadImg=e.memberInfo.headimg,e.memberInfoformData.number=e.memberInfo.username,e.memberInfoformData.nickName=e.memberInfo.nickname,e.memberInfoformData.realName=e.memberInfo.realname?e.memberInfo.realname:"请输入真实姓名",e.memberInfoformData.sex=0==e.memberInfo.sex?"未知":1==e.memberInfo.sex?"男":"女",e.memberInfoformData.birthday=e.memberInfo.birthday?e.$util.timeStampTurnTime(e.memberInfo.birthday,"YYYY-MM-DD"):"请选择生日",e.memberInfoformData.mobile=e.memberInfo.mobile,e.formData.username=e.memberInfo.username,e.formData.nickName=e.memberInfo.nickname,e.formData.realName=e.memberInfo.realname,e.formData.sex=e.memberInfo.sex,e.formData.birthday=e.memberInfo.birthday?e.$util.timeStampTurnTime(e.memberInfo.birthday,"YYYY-MM-DD"):"请选择生日"),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},modifyInfo:function(t){switch(t){case"cancellation":this.getCancelStatus();break;case"language":for(var i=[],o=0;o<this.langList.length;o++)i.push(this.langList[o].name);e.showActionSheet({itemList:i,success:function(e){vm.langIndex!=e.tapIndex&&vm.$langConfig.change(vm.langList[e.tapIndex].value)}});break;default:this.$util.redirectTo("/pages_tool/member/info_edit",{action:t})}},getCancelStatus:function(){var e=this;this.$api.sendRequest({url:"/membercancel/api/membercancel/info",success:function(t){t.code>=0&&(t.data?0==t.data.status?e.$util.redirectTo("/pages_tool/member/cancelstatus",{back:"/pages_tool/member/info"}):1==t.data.status?e.$util.redirectTo("/pages_tool/member/cancelsuccess",{back:"/pages_tool/member/info"}):e.$util.redirectTo("/pages_tool/member/cancelrefuse",{back:"/pages_tool/member/info"}):e.$util.redirectTo("/pages_tool/member/cancellation",{back:"/pages_tool/member/info"}))}})},NavReturn:function(){e.navigateBack({delta:1})},getCaptcha:function(){var e=this;this.$api.sendRequest({url:"/api/captcha/captcha",data:{captcha_id:this.captcha.id},success:function(t){t.code>=0&&(e.captcha=t.data,e.captcha.img=e.captcha.img.replace(/\r\n/g,""))}})},logout:function(){var t=this;e.showModal({title:"提示",content:"确定要退出登录吗",success:function(i){i.confirm&&e.removeStorage({key:"token",success:function(i){e.setStorageSync("loginLock",1),e.removeStorageSync("userInfo"),t.$store.dispatch("getCartNumber").then((function(e){})),t.$util.redirectTo("/pages/member/index")}})}})},headImage:function(){this.$util.redirectTo("/pages_tool/member/modify_face")},testBinding:function(e){var t=this;return s(o.default.mark((function e(){var i;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkMobile();case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))()},getMemberConfig:function(){var e=this;this.$api.sendRequest({url:"/membercancel/api/membercancel/config",success:function(t){t.code>=0&&(e.memberConfig=t.data)}})},save:function(e){switch(e){case"username":this.modifyUserName();break;case"name":this.modifyNickName();break;case"realName":this.modifyRealName();break;case"sex":this.modifySex();break;case"birthday":this.modifyBirthday();break;case"password":this.modifyPassword();break;case"mobile":this.modifyMobile();break}},modifyUserName:function(){var e=this;if(this.formData.username!=this.memberInfo.username){var t=[{name:"username",checkType:"required",errorMsg:this.$lang("noEmityUsername")}];if(t.length){var i=r.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifyusername",data:{username:this.formData.username},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:r.default.error})}}else this.$util.showToast({title:this.$lang("alikeusername")})},modifyNickName:function(){var e=this;if(this.formData.nickName!=this.memberInfo.nickname){var t=[{name:"nickName",checkType:"required",errorMsg:this.$lang("noEmityNickname")}];if(t.length){var i=r.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifynickname",data:{nickname:this.formData.nickName},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:r.default.error})}}else this.$util.showToast({title:this.$lang("alikeNickname")})},modifyRealName:function(){var e=this;if(this.formData.realName==this.memberInfo.realname&&this.memberInfo.realname)this.$util.showToast({title:"与原真实姓名一致，无需修改"});else{var t=[{name:"realName",checkType:"required",errorMsg:"真实姓名不能为空"}];if(t.length){var i=r.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifyrealname",data:{realname:this.formData.realName},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:r.default.error})}}},radioChange:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].value===e.target.value){this.formData.sex=t;break}},modifySex:function(){var e=this;this.$api.sendRequest({url:"/api/member/modifysex",data:{sex:this.formData.sex},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}})},bindDateChange:function(e){this.formData.birthday=e.target.value},getDate:function(e){var t=new Date,i=t.getFullYear(),o=t.getMonth()+1,r=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=2),o=o>9?o:"0"+o,r=r>9?r:"0"+r,"".concat(i,"-").concat(o,"-").concat(r)},modifyBirthday:function(){var e=this;this.$api.sendRequest({url:"/api/member/modifybirthday",data:{birthday:this.$util.timeTurnTimeStamp(this.formData.birthday)},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}})},getRegisterConfig:function(){var e=this;this.$api.sendRequest({url:"/api/register/config",success:function(t){t.code>=0&&(e.registerConfig=t.data.value)}})},modifyPassword:function(){var t=this;if(this.memberInfo.password)var i=[{name:"currentPassword",checkType:"required",errorMsg:this.$lang("pleaseInputOldPassword")},{name:"newPassword",checkType:"required",errorMsg:this.$lang("pleaseInputNewPassword")}];else i=[{name:"mobileVercode",checkType:"required",errorMsg:this.$lang("confirmCodeInput")},{name:"mobileDynacode",checkType:"required",errorMsg:this.$lang("animateCodeInput")},{name:"newPassword",checkType:"required",errorMsg:this.$lang("pleaseInputNewPassword")}];var o=this.registerConfig;if(o.pwd_len>0&&i.push({name:"newPassword",checkType:"lengthMin",checkRule:o.pwd_len,errorMsg:"新密码长度不能小于"+o.pwd_len+"位"}),o.pwd_complexity){var n="密码需包含",a="";-1!=o.pwd_complexity.indexOf("number")&&(a+="(?=.*?[0-9])",n+="数字"),-1!=o.pwd_complexity.indexOf("letter")&&(a+="(?=.*?[a-z])",n+="、小写字母"),-1!=o.pwd_complexity.indexOf("upper_case")&&(a+="(?=.*?[A-Z])",n+="、大写字母"),-1!=o.pwd_complexity.indexOf("symbol")&&(a+="(?=.*?[#?!@$%^&*-])",n+="、特殊字符"),i.push({name:"newPassword",checkType:"reg",checkRule:a,errorMsg:n})}var s=r.default.check(this.formData,i);if(s){if(this.formData.currentPassword==this.formData.newPassword)return void this.$util.showToast({title:"新密码不能与原密码相同"});if(this.formData.newPassword!=this.formData.confirmPassword)return void this.$util.showToast({title:"两次密码不一致"});this.$api.sendRequest({url:"/api/member/modifypassword",data:{new_password:this.formData.newPassword,old_password:this.formData.currentPassword,code:this.formData.mobileDynacode,key:e.getStorageSync("password_mobile_key")},success:function(i){0==i.code?(t.$util.showToast({title:t.$lang("updateSuccess")}),t.NavReturn(),e.removeStorageSync("password_mobile_key")):(t.$util.showToast({title:i.message}),t.getCaptcha())}})}else this.$util.showToast({title:r.default.error})},vertifyMobile:function(){var e=[{name:"mobile",checkType:"required",errorMsg:"请输入手机号"},{name:"mobile",checkType:"phoneno",errorMsg:"请输入正确的手机号"}],t=r.default.check(this.formData,e);return!!t||(this.$util.showToast({title:r.default.error}),!1)},checkMobile:function(){var e=this;return s(o.default.mark((function t(){var i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.vertifyMobile()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$api.sendRequest({url:"/api/member/checkmobile",data:{mobile:e.formData.mobile},async:!1});case 4:if(i=t.sent,0==i.code){t.next=8;break}return e.$util.showToast({title:i.message}),t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()},bindMoblieCode:function(){var t=this;return s(o.default.mark((function i(){var n,a;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(120==t.seconds){i.next=2;break}return i.abrupt("return");case 2:n=[{name:"mobile",checkType:"phoneno",errorMsg:t.$lang("surePhoneNumber")},{name:"mobileVercode",checkType:"required",errorMsg:t.$lang("confirmCodeInput")}],a=r.default.check(t.formData,n),a&&!t.isSend?(t.isSend=!0,t.$api.sendRequest({url:"/api/member/bindmobliecode",data:{mobile:t.formData.mobile,captcha_id:t.captcha.id,captcha_code:t.formData.mobileVercode},success:function(i){var o=i.data;o.key?(120==t.seconds&&null==t.timer&&(t.timer=setInterval((function(){t.seconds--,t.formData.mobileCodeText="已发送("+t.seconds+"s)"}),1e3)),e.setStorageSync("mobile_key",o.key)):(t.$util.showToast({title:i.message}),t.isSend=!1)},fail:function(e){t.isSend=!1,t.getCaptcha()}})):t.$util.showToast({title:r.default.error?r.default.error:"请勿重复点击"});case 5:case"end":return i.stop()}}),i)})))()},modifyMobile:function(){var t=this;return s(o.default.mark((function i(){var n,a;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=[{name:"mobile",checkType:"phoneno",errorMsg:t.$lang("surePhoneNumber")},{name:"mobileVercode",checkType:"required",errorMsg:t.$lang("confirmCodeInput")},{name:"mobileDynacode",checkType:"required",errorMsg:t.$lang("animateCodeInput")}],a=r.default.check(t.formData,n),!a){i.next=9;break}if(t.formData.mobile!=t.memberInfo.mobile){i.next=6;break}return t.$util.showToast({title:t.$lang("alikePhone")}),i.abrupt("return");case 6:t.$api.sendRequest({url:"/api/member/modifymobile",data:{mobile:t.formData.mobile,captcha_id:t.captcha.id,captcha_code:t.formData.mobileVercode,code:t.formData.mobileDynacode,key:e.getStorageSync("mobile_key")},success:function(e){0==e.code?(t.$util.showToast({title:t.$lang("updateSuccess")}),t.back?t.$util.redirectTo("/pages_tool/member/pay_password",{back:t.back},"redirectTo"):t.NavReturn()):(t.$util.showToast({title:e.message}),t.getCaptcha())},fail:function(e){t.isSend=!1,t.getCaptcha()}}),i.next=10;break;case 9:t.$util.showToast({title:r.default.error});case 10:case"end":return i.stop()}}),i)})))()},passwordMoblieCode:function(){var t=this;120==this.seconds&&(""!=this.formData.mobileVercode?this.isSend?this.$util.showToast({title:"请勿重复点击"}):(this.isSend=!0,this.$api.sendRequest({url:"/api/member/pwdmobliecode",data:{captcha_id:this.captcha.id,captcha_code:this.formData.mobileVercode},success:function(i){var o=i.data;o.key?(120==t.seconds&&null==t.timer&&(t.timer=setInterval((function(){t.seconds--,t.formData.mobileCodeText="已发送("+t.seconds+"s)"}),1e3)),e.setStorageSync("password_mobile_key",o.key)):(t.$util.showToast({title:i.message}),t.isSend=!1)},fail:function(e){t.isSend=!1,t.getCaptcha()}})):this.$util.showToast({title:this.$lang("confirmCodeInput")}))},initFormData:function(){this.formData.currentPassword="",this.formData.newPassword="",this.formData.confirmPassword="",this.formData.mobileVercode="",this.formData.mobileDynacode="",this.formData.mobile=""}}};t.default=c}).call(this,i("543d")["default"])},f606:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"核销记录",emptyTips:"暂无记录"};t.lang=o},f608:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"我的优惠券"};t.lang=o},f693:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{listStyle:"",loadingType:"loading",orderType:"",priceOrder:"desc",categoryList:[],goodsList:[],order:"",sort:"desc",showCategory:!1,showScreen:!1,keyword:"",categoryId:0,minPrice:"",maxPrice:"",isFreeShipping:!1,isIphoneX:!1,emptyShow:!1}},onLoad:function(e){this.categoryId=e.category_id||0,this.keyword=e.keyword||"",this.loadCategoryList(this.categoryId),this.isIphoneX=this.$util.uniappIsIPhoneX()},onShow:function(){},methods:{getGoodsList:function(e){var t=this;this.$api.sendRequest({url:"/fenxiao/api/goods/page",data:{page:e.num,page_size:e.size,keyword:this.keyword,category_id:this.categoryId,min_price:this.minPrice,max_price:this.maxPrice,is_free_shipping:this.isFreeShipping?1:0,order:this.order,sort:this.sort},success:function(i){var o=[],r=i.message;0==i.code&&i.data?(0==i.data.page_count&&(t.emptyShow=!0),o=i.data.list):t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},changeListStyle:function(){this.listStyle?this.listStyle="":this.listStyle="largest"},loadCategoryList:function(e,t){var i=this;this.$api.sendRequest({url:"/api/goodscategory/tree",data:{},success:function(e){null!=e.data&&(i.categoryList=e.data)}})},sortTabClick:function(e){if("sales"==e)this.order="sale_num",this.sort="desc";else if("discount_price"==e)this.order="discount_price",this.sort="desc";else{if("screen"==e)return void(this.showScreen=!0);this.order="",this.sort=""}this.orderType===e&&"discount_price"!==e||(this.orderType=e,"discount_price"===e?(this.priceOrder="asc"===this.priceOrder?"desc":"asc",this.sort=this.priceOrder):this.priceOrder="",this.$refs.mescroll.refresh())},navToDetailPage:function(e){this.$util.redirectTo("/pages/goods/detail",{goods_id:e.goods_id})},search:function(){this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh()},selectedCategory:function(e){this.categoryId=e},screenData:function(){if(""!=this.minPrice||""!=this.maxPrice){if(!Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"请输入最高价"});if(Number(this.minPrice)<0||Number(this.maxPrice)<0)return void this.$util.showToast({title:"筛选价格不能小于0"});if(""!=this.minPrice&&Number(this.minPrice)>Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最低价不能大于最高价"});if(""!=this.maxPrice&&Number(this.maxPrice)<Number(this.minPrice))return void this.$util.showToast({title:"最高价不能小于最低价"})}this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh(),this.showScreen=!1},imageError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().goods,this.$forceUpdate()},followGoods:function(e,t,i){var o=this;this.$api.sendRequest({url:"/fenxiao/api/goodscollect/add",data:{goods_id:t,sku_id:i},success:function(t){var i="";i=t.code>=0?"关注成功":t.message,o.$util.showToast({title:i}),o.goodsList[e].is_collect=1}})},delFollow:function(e,t){var i=this;this.$api.sendRequest({url:"/fenxiao/api/goodscollect/delete",data:{collect_id:e},success:function(e){var o="";o=0==e.code?"取消成功":e.message,i.$util.showToast({title:o});var r=i.goodsList;r[t].is_collect=0,i.goodsList=r}})},resetData:function(){this.categoryId=0,this.minPrice="",this.maxPrice="",this.isFreeShipping=!1}}};t.default=o},f696:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:""};t.lang=o},f732:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"账号注销"};t.lang=o},fa27:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"刮刮乐"};t.lang=o},fa42:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var o={title:"核销明细"};t.lang=o}}]);
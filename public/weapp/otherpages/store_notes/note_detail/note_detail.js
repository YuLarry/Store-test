(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["otherpages/store_notes/note_detail/note_detail"],{"179f":function(e,o,t){"use strict";var n=t("7762"),i=t.n(n);i.a},"4d2f":function(e,o,t){"use strict";t.d(o,"b",(function(){return i})),t.d(o,"c",(function(){return s})),t.d(o,"a",(function(){return n}));var n={loadingCover:function(){return t.e("components/loading-cover/loading-cover").then(t.bind(null,"30be"))},nsShowToast:function(){return Promise.all([t.e("common/vendor"),t.e("components/ns-show-toast/ns-show-toast")]).then(t.bind(null,"691c"))},nsLogin:function(){return Promise.all([t.e("common/vendor"),t.e("components/ns-login/ns-login")]).then(t.bind(null,"2e9e"))}},i=function(){var e=this,o=e.$createElement,t=(e._self._c,"goods_item"==e.noteType?e.$util.img(e.goodsItemInfo.goods_image):null),n="goods_item"==e.noteType&&1==e.goodsItemInfo.is_show_release_time?e.$util.timeStampTurnTime(e.goodsItemInfo.create_time,"time"):null,i="goods_item"!=e.noteType&&"shop_said"==e.noteType&&1==e.shopSaidInfo.is_show_release_time?e.$util.timeStampTurnTime(e.shopSaidInfo.create_time,"time"):null,s="goods_item"!=e.noteType&&"shop_said"==e.noteType?e.__map(e.shopSaidInfo.goods_list,(function(o,t){var n=e.__get_orig(o),i=e.shopSaidInfo.goods_list?e.$util.img(o.goods_image.split(",")[0]):null;return{$orig:n,g3:i}})):null;e.$mp.data=Object.assign({},{$root:{g0:t,g1:n,g2:i,l0:s}})},s=[]},7762:function(e,o,t){},"77a4":function(e,o,t){"use strict";t.r(o);var n=t("4d2f"),i=t("e898");for(var s in i)"default"!==s&&function(e){t.d(o,e,(function(){return i[e]}))}(s);t("179f");var a,d=t("f0c5"),r=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);o["default"]=r.exports},a1e2:function(e,o,t){"use strict";(function(e){t("5558");n(t("66fd"));var o=n(t("77a4"));function n(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,t("543d")["createPage"])},e898:function(e,o,t){"use strict";t.r(o);var n=t("fc2a"),i=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(o,e,(function(){return n[e]}))}(s);o["default"]=i.a},fc2a:function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=s(t("df06")),i=s(t("ccd8"));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){Promise.all([t.e("common/vendor"),t.e("components/ns-show-toast/ns-show-toast")]).then(function(){return resolve(t("691c"))}.bind(null,t)).catch(t.oe)},d={components:{nsShowToast:a},data:function(){return{noteId:"",noteType:"",goodsItemInfo:{},shopSaidInfo:{},giveLikeIdent:!1,giveLikeFlag:!1}},onLoad:function(e){e.note_id?(this.noteId=e.note_id,this.getNoteDetail()):this.$util.redirectTo("/otherpages/store_notes/note_list/note_list",{},"redirectTo")},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("token")&&this.isDianzan()},mixins:[i.default],onShareAppMessage:function(){var e="goods_item"==this.noteType?this.goodsItemInfo.note_title:this.shopSaidInfo.note_title;return{title:e,path:"/otherpages/store_notes/note_detail/note_detail?note_id="+this.noteId}},methods:{getNoteDetail:function(){var e=this;this.$api.sendRequest({url:"/notes/api/notes/detail",data:{note_id:this.noteId},success:function(o){0==o.code?(e.noteType=o.data.note_type,"goods_item"==e.noteType?(e.goodsItemInfo=o.data,e.goodsItemInfo.note_content&&(e.goodsItemInfo.note_content=(0,n.default)(e.goodsItemInfo.note_content)),e.goodsItemInfo.goods_image=e.goodsItemInfo.goods_list[0].goods_image.split(",")[0],e.goodsItemInfo.goods_highlights&&(e.goodsItemInfo.goods_highlights=e.goodsItemInfo.goods_highlights.split(","))):(e.shopSaidInfo=o.data,e.shopSaidInfo.note_content&&(e.shopSaidInfo.note_content=(0,n.default)(e.shopSaidInfo.note_content)))):e.$util.showToast({title:o.message}),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},giveLike:function(){var o=this;if(e.getStorageSync("token")){if(this.giveLikeFlag)return!1;this.giveLikeFlag=!0;var t=this.giveLikeIdent?"/notes/api/record/delete":"/notes/api/record/add";this.$api.sendRequest({url:t,data:{note_id:this.noteId},success:function(e){o.giveLikeFlag=!1,0==e.code&&e.data>0?("goods_item"!=o.noteType?o.shopSaidInfo.dianzan_num=o.giveLikeIdent?o.shopSaidInfo.dianzan_num-1:o.shopSaidInfo.dianzan_num+1:o.goodsItemInfo.dianzan_num=o.giveLikeIdent?o.goodsItemInfo.dianzan_num-1:o.goodsItemInfo.dianzan_num+1,o.giveLikeIdent=!o.giveLikeIdent):o.$util.showToast({title:e.message})}})}else this.$refs.login.open("/pages/index/index/index")},isDianzan:function(){var e=this;this.$api.sendRequest({url:"/notes/api/record/isDianzan",data:{note_id:this.noteId},success:function(o){0==o.code?e.giveLikeIdent=1==o.data:e.$util.showToast({title:o.message})}})},redirectToGoods:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=o?e:e.goods_list[0].sku_id;this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t})},imageError:function(){this.goodsItemInfo.goods_image&&(this.goodsItemInfo.goods_image=this.$util.getDefaultImage().default_goods_img),this.$forceUpdate()}}};o.default=d}).call(this,t("543d")["default"])}},[["a1e2","common/runtime","common/vendor"]]]);
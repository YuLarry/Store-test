(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["otherpages/goods/search/search"],{"466a":function(t,e,i){"use strict";i.r(e);var s=i("ea8f"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e["default"]=n.a},5047:function(t,e,i){"use strict";i.r(e);var s=i("6b68"),n=i("466a");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("529e");var r,a=i("f0c5"),u=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"e71e0a7c",null,!1,s["a"],r);e["default"]=u.exports},"529e":function(t,e,i){"use strict";var s=i("5f92"),n=i.n(s);n.a},"5f92":function(t,e,i){},"6b68":function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s}));var n=function(){var t=this,e=t.$createElement,i=(t._self._c,t.placWords?null:t.$lang("inputPlaceholder")),s=t.historyList.length?t.$lang("history"):null,n=t.hotList.length?t.$lang("hot"):null;t._isMounted||(t.e0=function(e){t.isAllHistory=!1}),t.$mp.data=Object.assign({},{$root:{m0:i,m1:s,m2:n}})},o=[]},e961:function(t,e,i){"use strict";(function(t){i("34b0");s(i("66fd"));var e=s(i("5047"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},ea8f:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("c409"));function n(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{inputValue:"",historyList:[],searchList:[],showSearch:!0,alikeList:[],isIndex:!1,placWords:"",hotList:[],isAllHistory:!1}},components:{},onLoad:function(e){e.keyword&&(this.inputValue=e.keyword),!t.getStorageSync("search")&&t.setStorageSync("search",[])},onShow:function(){this.$langConfig.refresh(),this.findHistoryList(),this.defaultSearch(),this.findHotList(),this.$nextTick((function(){this.getHistoryHeight()}))},mixins:[s.default],methods:{findHistoryList:function(){this.historyList=t.getStorageSync("search").reverse()},deleteHistoryList:function(){var e=this;t.showModal({title:"提示",content:"确认删除全部历史记录？",success:function(i){i.confirm&&(t.setStorageSync("search",[]),e.findHistoryList())}})},deleteItem:function(e){var i=this;t.showModal({title:"提示",content:"确认删除该条历史记录？",success:function(s){if(s.confirm){var n=t.getStorageSync("search"),o=n.filter((function(t){return t!=e}));t.setStorageSync("search",o),i.findHistoryList()}}})},defaultSearch:function(){var t=this;this.$api.sendRequest({url:"/api/goods/defaultSearchWords",success:function(e){t.placWords=e.data.words}})},findHotList:function(){var t=this;this.$api.sendRequest({url:"/api/goods/hotSearchWords",success:function(e){t.hotList=e.data.words.split(",")}})},inputFocus:function(t){this.showScroll=!1,""!=this.inputValue.trim()&&(this.dataList=[])},otherSearch:function(t){this.inputValue=t,this.search()},search:function(){var e=this;if(""!=this.inputValue.trim()){this.showScroll=!0;var i=t.getStorageSync("search"),s=[];i.length?(s=i.filter((function(t){return t!=e.inputValue.trim()})),s.push(this.inputValue.trim())):s.push(this.inputValue.trim()),t.setStorageSync("search",s),this.$util.redirectTo("/pages/goods/list/list",{keyword:this.inputValue.trim()})}else""==this.placWords?this.$util.showToast({title:"搜索内容不能为空哦"}):this.$util.redirectTo("/pages/goods/list/list",{keyword:this.placWords})},getHistoryHeight:function(){var e=this,i=t.createSelectorQuery().in(this);i.select("#history-list").boundingClientRect((function(i){i&&i.height>2*t.upx2px(70)+2*t.upx2px(35)&&(e.isAllHistory=!0)})).exec()}}};e.default=o}).call(this,i("543d")["default"])}},[["e961","common/runtime","common/vendor"]]]);
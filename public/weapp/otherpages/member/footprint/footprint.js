(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["otherpages/member/footprint/footprint"],{"49b6":function(t,e,i){},"49c2":function(t,e,i){"use strict";i.r(e);var n=i("a81b"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"7ef2":function(t,e,i){"use strict";(function(t){i("67ba");n(i("66fd"));var e=n(i("cacb"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},a048:function(t,e,i){"use strict";var n=i("49b6"),o=i.n(n);o.a},a81b:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("b6ac"));function o(t){return t&&t.__esModule?t:{default:t}}var r=[],s={data:function(){return{goodsList:[],current:-1,manage:!1,idArr:[],mescroll:null,isSub:!1,token:null}},mixins:[n.default],onShow:function(){var e=this;this.$langConfig.refresh(),t.getStorageSync("token")?(this.token=t.getStorageSync("token"),this.$refs.mescroll&&this.$refs.mescroll.refresh()):setTimeout((function(){e.$refs.login.open("/otherpages/member/footprint/footprint")}))},computed:{selected:function(){return 0==this.idArr.length},isAll:function(){return this.idArr.length==this.goodsList.length},storeToken:function(){return this.$store.state.token}},methods:{getListData:function(t){var e=this;this.mescroll=t,this.$api.sendRequest({url:"/api/goodsbrowse/page",data:{page:t.num,page_size:t.size},success:function(i){var n=[],o=i.message;0==i.code&&i.data?n=i.data.list:e.$util.showToast({title:o}),t.endSuccess(n.length),1==t.num&&(e.goodsList=[]),e.goodsList=e.goodsList.concat(n),r=[],e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(i){t.endErr(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},longpress:function(t){this.current=t},deleteFootprint:function(){var t=this;0!=this.idArr.length?this.isSub||(this.isSub=!0,this.$api.sendRequest({url:"/api/goodsbrowse/delete",data:{id:this.idArr.toString()},success:function(e){t.isSub=!1,e.code>=0?(t.idArr=[],t.mescroll.resetUpScroll()):t.$util.showToast({title:e.message})}})):this.$util.showToast({title:"请选择要删除的数据！"})},manageFootprint:function(){this.manage=!this.manage,r=[]},goodsImg:function(t){var e=t.split(",");return e[0]?this.$util.img(e[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},imgError:function(t){r=[],this.goodsList[t].goods_image=this.$util.getDefaultImage().default_goods_img},showPrice:function(t){var e=t.discount_price;return t.member_price&&parseFloat(t.member_price)<parseFloat(e)&&(e=t.member_price),e},goodsTag:function(t){return t.label_name||""},datetime:function(t){var e=new Date;e.setTime(1e3*t.browse_time);var i=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var o=e.getDate();o=o<10?"0"+o:o;var s=i+"/"+n+"/"+o;if(-1==this.$util.inArray(s,r))return r.push(s),s},singleElection:function(t){-1==this.$util.inArray(t.id,this.idArr)?this.idArr.push(t.id):this.idArr.splice(this.$util.inArray(t.id,this.idArr),1),r=[]},allElection:function(){if(this.idArr.length!=this.goodsList.length){this.idArr=[];var t=[];this.goodsList.forEach((function(e){t.push(e.id)})),this.idArr=t}else this.idArr=[];r=[]},toDetail:function(t){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.sku_id})}},watch:{storeToken:function(t,e){t&&(this.token=t,this.$refs.mescroll.refresh())}}};e.default=s}).call(this,i("543d")["default"])},cacb:function(t,e,i){"use strict";i.r(e);var n=i("d08a"),o=i("49c2");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("a048");var s,a=i("f0c5"),u=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=u.exports},d08a:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={nsEmpty:function(){return i.e("components/ns-empty/ns-empty").then(i.bind(null,"90af"))},nsLogin:function(){return Promise.all([i.e("common/vendor"),i.e("components/ns-login/ns-login")]).then(i.bind(null,"2bc6"))},loadingCover:function(){return i.e("components/loading-cover/loading-cover").then(i.bind(null,"4c1d"))}},o=function(){var t=this,e=t.$createElement,i=(t._self._c,t.$lang("common.currencySymbol")),n=t.$lang("common.currencySymbol"),o=t.token&&t.goodsList.length?t.__map(t.goodsList,(function(e,i){var n=t.__get_orig(e),o=t.datetime(e),r=t.manage?t.$util.inArray(e.id,t.idArr):null,s=t.goodsImg(e.goods_image),a=t.goodsTag(e),u=""!=a?t.goodsTag(e):null,l=t.showPrice(e),c=e.member_price&&e.member_price==t.showPrice(e),d=c?t.$util.img("upload/uniapp/index/VIP.png"):null,g=c||1!=e.promotion_type?null:t.$util.img("upload/uniapp/index/discount.png");return{$orig:n,m0:o,g0:r,m1:s,m2:a,m3:u,m6:l,m7:c,g1:d,g2:g}})):null;t.$mp.data=Object.assign({},{$root:{m4:i,m5:n,l0:o}})},r=[]}},[["7ef2","common/runtime","common/vendor"]]]);
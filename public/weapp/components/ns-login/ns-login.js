(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/ns-login/ns-login"],{"154c":function(e,t,n){},2893:function(e,t,n){"use strict";n.r(t);var i=n("f97f"),o=n("d1db");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("3eee");var s,a=n("f0c5"),u=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"172ef75c",null,!1,i["a"],s);t["default"]=u.exports},"3eee":function(e,t,n){"use strict";var i=n("154c"),o=n.n(i);o.a},c324:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"ns-login",data:function(){return{url:"",registerConfig:{}}},created:function(){this.getRegisterConfig()},methods:{getRegisterConfig:function(){var e=this;this.$api.sendRequest({url:"/api/register/config",success:function(t){t.code>=0&&(e.registerConfig=t.data.value)}})},open:function(e){e&&(this.url=e),this.authLogin()},toLogin:function(){this.url?this.$util.redirectTo("/pages_tool/login/login",{back:encodeURIComponent(this.url)}):this.$util.redirectTo("/pages_tool/login/login")},authLogin:function(){var t=this;if(this.registerConfig.third_party){var n=e.getStorageSync("authInfo");e.getStorageSync("source_member")&&(n.source_member=e.getStorageSync("source_member")),this.$api.sendRequest({url:"/api/login/auth",data:n,success:function(n){n.code>=0?e.setStorage({key:"token",data:n.data.token,success:function(){e.removeStorageSync("authInfo"),t.$store.dispatch("getCartNumber"),t.$store.commit("setToken",n.data.token),n.data.is_register&&t.$refs.registerReward.getReward()&&t.$refs.registerReward.open()}}):-10016==n.code&&1==t.registerConfig.bind_mobile?t.$refs.bindMobile.open():t.$util.showToast({title:n.message})},fail:function(){t.$util.showToast({title:"登录失败"})}})}else this.toLogin()}}};t.default=n}).call(this,n("543d")["default"])},d1db:function(e,t,n){"use strict";n.r(t);var i=n("c324"),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},f97f:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={bindMobile:function(){return Promise.all([n.e("common/vendor"),n.e("components/bind-mobile/bind-mobile")]).then(n.bind(null,"b1f8"))},registerReward:function(){return n.e("components/register-reward/register-reward").then(n.bind(null,"87d9"))}},o=function(){var e=this,t=e.$createElement;e._self._c},r=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/ns-login/ns-login-create-component',
    {
        'components/ns-login/ns-login-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("2893"))
        })
    },
    [['components/ns-login/ns-login-create-component']]
]);

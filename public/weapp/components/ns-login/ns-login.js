(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/ns-login/ns-login"],{"2e9e":function(n,e,t){"use strict";t.r(e);var o=t("5070"),i=t("318d");for(var u in i)"default"!==u&&function(n){t.d(e,n,(function(){return i[n]}))}(u);t("70da");var r,a=t("f0c5"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=c.exports},"318d":function(n,e,t){"use strict";t.r(e);var o=t("5396"),i=t.n(o);for(var u in o)"default"!==u&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=i.a},5070:function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return u})),t.d(e,"a",(function(){return o}));var o={uniPopup:function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,"1fce"))},bindMobile:function(){return Promise.all([t.e("common/vendor"),t.e("components/bind-mobile/bind-mobile")]).then(t.bind(null,"6b1a"))}},i=function(){var n=this,e=n.$createElement,t=(n._self._c,n.$util.img("/upload/uniapp/member/login.png"));n.$mp.data=Object.assign({},{$root:{g0:t}})},u=[]},5396:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(t("7261"));var o=i(t("946a"));function i(n){return n&&n.__esModule?n:{default:n}}var u=function(){t.e("components/uni-popup/uni-popup").then(function(){return resolve(t("1fce"))}.bind(null,t)).catch(t.oe)},r=function(){Promise.all([t.e("common/vendor"),t.e("components/bind-mobile/bind-mobile")]).then(function(){return resolve(t("6b1a"))}.bind(null,t)).catch(t.oe)},a={mixins:[o.default],name:"ns-login",components:{uniPopup:u,bindMobile:r},data:function(){return{url:"",registerConfig:{}}},created:function(){this.getRegisterConfig()},methods:{getRegisterConfig:function(){var n=this;this.$api.sendRequest({url:"/api/register/config",success:function(e){e.code>=0&&(n.registerConfig=e.data.value)}})},open:function(n){n&&(this.url=n),this.$refs.auth.open()},close:function(){this.$refs.auth.close()},login:function(){var e=this;n.getStorageSync("loginLock")?(this.$refs.auth.close(),this.toLogin()):this.getCode((function(n){n?e.authLogin(n):(e.$refs.auth.close(),e.toLogin())}))},toLogin:function(){this.url?this.$util.redirectTo("/pages/login/login/login",{back:encodeURIComponent(this.url)}):this.$util.redirectTo("/pages/login/login/login")},authLogin:function(e){var t=this;n.setStorage({key:"authInfo",data:e}),n.getStorageSync("source_member")&&(e.source_member=n.getStorageSync("source_member")),this.$api.sendRequest({url:"/api/login/auth",data:e,success:function(e){e.code>=0?(t.$store.commit("setToken",e.data.token),n.setStorage({key:"token",data:e.data.token,success:function(){n.removeStorageSync("loginLock"),n.removeStorageSync("unbound"),n.removeStorageSync("authInfo"),t.$store.dispatch("getCartNumber")}}),t.$refs.auth.close()):1==t.registerConfig.third_party&&1==t.registerConfig.bind_mobile?(t.$refs.auth.close(),t.$refs.bindMobile.open()):(t.$refs.auth.close(),t.toLogin())},fail:function(){t.$refs.auth.close(),t.toLogin()}})}}};e.default=a}).call(this,t("543d")["default"])},"70da":function(n,e,t){"use strict";var o=t("b1a8"),i=t.n(o);i.a},b1a8:function(n,e,t){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/ns-login/ns-login-create-component',
    {
        'components/ns-login/ns-login-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("2e9e"))
        })
    },
    [['components/ns-login/ns-login-create-component']]
]);

(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/pick-regions/pick-regions"],{"3e89":function(e,r,t){"use strict";t.r(r);var n=t("8522"),a=t.n(n);for(var i in n)"default"!==i&&function(e){t.d(r,e,(function(){return n[e]}))}(i);r["default"]=a.a},8522:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(t("a34a"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,r){return o(e)||c(e,r)||l(e,r)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,r){if(e){if("string"===typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,a=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done);n=!0)if(t.push(u.value),r&&t.length===r)break}catch(s){a=!0,i=s}finally{try{n||null==l["return"]||l["return"]()}finally{if(a)throw i}}return t}}function o(e){if(Array.isArray(e))return e}function d(e,r,t,n,a,i,u){try{var l=e[i](u),s=l.value}catch(c){return void t(c)}l.done?r(s):Promise.resolve(s).then(n,a)}function f(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var i=e.apply(r,t);function u(e){d(i,n,a,u,l,"next",e)}function l(e){d(i,n,a,u,l,"throw",e)}u(void 0)}))}}var v={props:{defaultRegions:{type:Array},selectArr:{type:String}},data:function(){return{pickerValueArray:[],cityArr:[],districtArr:[],multiIndex:[0,0,0],isInitMultiArray:!1,isLoadDefaultAreas:!1}},watch:{defaultRegions:{handler:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];3===e.length&&e.join("")!==r.join("")&&this.handleDefaultRegions()},immediate:!0}},computed:{multiArray:function(){if(this.isLoadDefaultAreas){var e=this.pickedArr.map((function(e){return e.map((function(e){return e.label}))}));return e}},pickedArr:function(){return this.isInitMultiArray?"2"==this.selectArr?[this.pickerValueArray[0],this.pickerValueArray[1]]:[this.pickerValueArray[0],this.pickerValueArray[1],this.pickerValueArray[2]]:"2"==this.selectArr?[this.pickerValueArray[0],this.cityArr]:[this.pickerValueArray[0],this.cityArr,this.districtArr]}},created:function(){this.getDefaultAreas(0,{level:0})},methods:{handleColumnChange:function(e){var r=this;return f(n.default.mark((function t(){var a,i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.isInitMultiArray=!1,a=e.detail.column,i=e.detail.value,r.multiIndex[a]=i,t.t0=a,t.next=0===t.t0?7:1===t.t0?14:2===t.t0?18:19;break;case 7:return t.next=9,r.getAreasAsync(r.pickerValueArray[0][r.multiIndex[a]].value);case 9:return r.cityArr=t.sent,t.next=12,r.getAreasAsync(r.cityArr[0].value);case 12:return r.districtArr=t.sent,t.abrupt("break",19);case 14:return t.next=16,r.getAreasAsync(r.cityArr[r.multiIndex[a]].value);case 16:return r.districtArr=t.sent,t.abrupt("break",19);case 18:return t.abrupt("break",19);case 19:case"end":return t.stop()}}),t)})))()},handleValueChange:function(e){var r=i(e.detail.value,3),t=r[0],n=r[1],a=r[2],u=i(this.pickedArr,3),l=u[0],s=u[1],c=u[2],o="";o="2"==this.selectArr?[l[t],s[n]]:[l[t],s[n],c[a]],this.$emit("getRegions",o)},handleDefaultRegions:function(){var e=this,r=setInterval((function(){if(e.isLoadDefaultAreas){e.isInitMultiArray=!1;for(var t=0;t<e.defaultRegions.length;t++)for(var n=function(r){e.defaultRegions[t]==e.pickerValueArray[t][r].value&&1==e.pickerValueArray[t][r].level&&(e.$set(e.multiIndex,t,r),e.getAreas(e.pickerValueArray[t][r].value,(function(t){e.cityArr=t;for(var n=function(t){if(e.defaultRegions[1]==e.cityArr[t].value)return e.$set(e.multiIndex,1,t),e.getAreas(e.cityArr[t].value,(function(n){e.districtArr=n;for(var a=0;a<e.districtArr.length;a++)if(e.defaultRegions[2]==e.districtArr[a].value){e.$set(e.multiIndex,2,a),e.handleValueChange({detail:{value:[r,t,a]}});break}})),"break"},a=0;a<e.cityArr.length;a++){var i=n(a);if("break"===i)break}})))},a=0;a<e.pickerValueArray[t].length;a++)n(a);e.isLoadDefaultAreas&&clearInterval(r)}}),100)},getDefaultAreas:function(e,r){var t=this;this.$api.sendRequest({url:"/api/address/lists",data:{pid:e},success:function(e){if(0==e.code){var n=[],a=void 0;e.data.forEach((function(e,t){void 0!=r&&(0==r.level&&void 0!=r.province_id?a=r.province_id:1==r.level&&void 0!=r.city_id?a=r.city_id:2==r.level&&void 0!=r.district_id&&(a=r.district_id)),void 0==a&&0==t&&(a=e.id),n.push({value:e.id,label:e.name,level:e.level})})),t.pickerValueArray[r.level]=n,r.level+1<3?(r.level++,t.getDefaultAreas(a,r)):(t.isInitMultiArray=!0,t.isLoadDefaultAreas=!0)}}})},getAreasAsync:function(e){var r=this;return f(n.default.mark((function t(){var a,i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.$api.sendRequest({url:"/api/address/lists",data:{pid:e},async:!1});case 2:if(a=t.sent,0!=a.code){t.next=7;break}return i=[],a.data.forEach((function(e,r){i.push({value:e.id,label:e.name,level:e.level})})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))()},getAreas:function(e,r){this.$api.sendRequest({url:"/api/address/lists",data:{pid:e},success:function(e){if(0==e.code){var t=[];e.data.forEach((function(e,r){t.push({value:e.id,label:e.name,level:e.level})})),r&&r(t)}}})}}};r.default=v},9296:function(e,r,t){"use strict";t.r(r);var n=t("d1d9"),a=t("3e89");for(var i in a)"default"!==i&&function(e){t.d(r,e,(function(){return a[e]}))}(i);var u,l=t("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);r["default"]=s.exports},d1d9:function(e,r,t){"use strict";var n;t.d(r,"b",(function(){return a})),t.d(r,"c",(function(){return i})),t.d(r,"a",(function(){return n}));var a=function(){var e=this,r=e.$createElement;e._self._c},i=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/pick-regions/pick-regions-create-component',
    {
        'components/pick-regions/pick-regions-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("9296"))
        })
    },
    [['components/pick-regions/pick-regions-create-component']]
]);

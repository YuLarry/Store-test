(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/diy-seckill/diy-seckill"],{"114a":function(t,e,i){},"45f8":function(t,e,i){"use strict";i.r(e);var s=i("564e"),l=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=l.a},"4dcc":function(t,e,i){"use strict";var s=i("114a"),l=i.n(s);l.a},"564e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){Promise.all([i.e("common/vendor"),i.e("components/ns-show-toast/ns-show-toast")]).then(function(){return resolve(i("691c"))}.bind(null,i)).catch(i.oe)},l={name:"diy-seckill",props:{value:{type:Object}},components:{nsShowToast:s},data:function(){return{seckillId:0,index:null,timeList:[],dataList:[],isNow:!1,seckillH:"",seckillI:"",seckillS:"",seckillName:""}},created:function(){this.getTimeList()},methods:{getTimeList:function(){var t=this;this.$api.sendRequest({url:"/seckill/api/seckill/lists",success:function(e){var i=e.data,s=new Date(1e3*e.timestamp),l=60*s.getHours()*60+60*s.getMinutes()+s.getSeconds();if(i.list.forEach((function(e,i){e.seckill_start_time<=l&&l<e.seckill_end_time&&(t.seckillId=e.seckill_id,t.index=i,t.isNow=!0)})),!t.seckillId)for(var n=0;n<i.list.length;n++)(l<i.list[n].seckill_start_time&&0==n||l<i.list[n].seckill_start_time&&l>i.list[n-1].seckill_end_time&&0!=n||n==i.list.length-1&&l>i.list[n].seckill_end_time)&&(t.seckillId=i.list[n].seckill_id,t.index=n);if(t.isNow){var a=t;setInterval((function(){var t=new Date,e=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds(),s=a.$util.countDown(i.list[a.index].seckill_end_time-e);a.seckillH=s.h,a.seckillI=s.i,a.seckillS=s.s}),1e3)}t.timeList=i.list,t.getDataList(t.seckillId)}})},getDataList:function(t){var e=this;this.$api.sendRequest({url:"/seckill/api/seckillgoods/page",data:{seckill_id:t},success:function(t){var i=t.data;i.list&&(e.dataList=i.list)}})},toMore:function(){this.$util.redirectTo("/promotionpages/seckill/list/list")},toDetail:function(t){this.isNow?this.$util.redirectTo("/promotionpages/seckill/detail/detail",{id:t}):this.$util.showToast({title:"活动还未开始，敬请期待"})},imageError:function(t){this.dataList[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()}}};e.default=l},"68f2":function(t,e,i){"use strict";i.r(e);var s=i("e9ef"),l=i("45f8");for(var n in l)"default"!==n&&function(t){i.d(e,t,(function(){return l[t]}))}(n);i("4dcc");var a,o=i("f0c5"),c=Object(o["a"])(l["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],a);e["default"]=c.exports},e9ef:function(t,e,i){"use strict";i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s}));var s={nsShowToast:function(){return Promise.all([i.e("common/vendor"),i.e("components/ns-show-toast/ns-show-toast")]).then(i.bind(null,"691c"))}},l=function(){var t=this,e=t.$createElement,i=(t._self._c,t.dataList.length&&t.value.list&&t.value.list.imageUrl?t.$util.img(t.value.list.imageUrl):null),s=t.dataList.length?t.__map(t.dataList,(function(e,i){var s=t.__get_orig(e),l=t.$util.img(e.sku_image,{size:"mid"});return{$orig:s,g1:l}})):null;t.$mp.data=Object.assign({},{$root:{g0:i,l0:s}})},n=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/diy-seckill/diy-seckill-create-component',
    {
        'components/diy-seckill/diy-seckill-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("68f2"))
        })
    },
    [['components/diy-seckill/diy-seckill-create-component']]
]);

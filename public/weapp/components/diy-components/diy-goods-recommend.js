(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/diy-components/diy-goods-recommend"],{"3cbb":function(o,t,e){"use strict";e.r(t);var r=e("6296"),s=e.n(r);for(var i in r)"default"!==i&&function(o){e.d(t,o,(function(){return r[o]}))}(i);t["default"]=s.a},6296:function(o,t,e){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={name:"diy-goods-recommend",props:{value:{type:Object,default:function(){return{}}}},data:function(){return{list:[],goodsValue:{},page:1}},created:function(){this.goodsValue=this.value,this.getGoodsList()},computed:{goodsListWarpCss:function(){var o="";return o+="background-color:"+this.goodsValue.componentBgColor+";","round"==this.goodsValue.componentAngle&&(o+="border-top-left-radius:"+2*this.goodsValue.topAroundRadius+"rpx;",o+="border-top-right-radius:"+2*this.goodsValue.topAroundRadius+"rpx;",o+="border-bottom-left-radius:"+2*this.goodsValue.bottomAroundRadius+"rpx;",o+="border-bottom-right-radius:"+2*this.goodsValue.bottomAroundRadius+"rpx;"),this.goodsValue.bgUrl&&(o+="background-image: url('".concat(this.$util.img(this.goodsValue.bgUrl),"');")),o},goodsItemCss:function(){var t="";t+="background-color:"+this.value.elementBgColor+";","round"==this.goodsValue.elementAngle&&(t+="border-top-left-radius:"+2*this.goodsValue.topElementAroundRadius+"rpx;",t+="border-top-right-radius:"+2*this.goodsValue.topElementAroundRadius+"rpx;",t+="border-bottom-left-radius:"+2*this.goodsValue.bottomElementAroundRadius+"rpx;",t+="border-bottom-right-radius:"+2*this.goodsValue.bottomElementAroundRadius+"rpx;"),"shadow"==this.goodsValue.ornament.type&&(t+="box-shadow:0 0 10rpx "+this.goodsValue.ornament.color+";"),"stroke"==this.goodsValue.ornament.type&&(t+="border:2rpx solid "+this.goodsValue.ornament.color+";");var e=o.getSystemInfoSync().safeArea.width||o.getSystemInfoSync().screenWidth,r="";return r="style-2"!=this.goodsValue.style?[e-2*this.rpxUpPx(20)-3*this.rpxUpPx(200)-2*this.rpxUpPx(2*this.value.margin.both)]/6:[e-2*this.rpxUpPx(20)-2*this.rpxUpPx(20)-3*this.rpxUpPx(200)-2*this.rpxUpPx(2*this.value.margin.both)]/6,t+="margin-left:"+r+"px;",t+="margin-right:"+r+"px;",t},swiperHeight:function(){return"style-2"!=this.goodsValue.style?"multiple"==this.value.nameLineMode?"348rpx":"312rpx":"multiple"==this.value.nameLineMode?"360rpx":"320rpx"}},methods:{rpxUpPx:function(t){var e=o.getSystemInfoSync().safeArea.width||o.getSystemInfoSync().screenWidth,r=e*parseInt(t)/750;return Math.floor(r)},getGoodsList:function(){var o=this,t={page:1,page_size:this.goodsValue.count};"category"==this.goodsValue.sources?(t.category_id=this.goodsValue.categoryId,t.category_level=1):"diy"==this.goodsValue.sources&&(t.page_size=0,t.goods_id_arr=this.goodsValue.goodsId.toString()),t.order=this.goodsValue.sortWay,this.$api.sendRequest({url:"/api/goodssku/pagecomponents",data:t,success:function(t){if(0==t.code&&t.data){var e=t.data;o.list=e.list;var r=3,s=[];o.page=Math.ceil(o.list.length/r);for(var i=0;i<o.page;i++){s[i]=[];for(var a=i*r;a<o.list.length;a++){if(s[i].length==r)break;s[i].push(o.list[a])}}o.list=s}}})},toDetail:function(o){this.$util.redirectTo("/pages/goods/detail",{goods_id:o.goods_id})},imgError:function(o){this.list[o]&&(this.list[o].goods_image=this.$util.getDefaultImage().goods)},showPrice:function(o){var t=o.discount_price;return o.member_price&&parseFloat(o.member_price)<parseFloat(t)&&(t=o.member_price),t}}};t.default=e}).call(this,e("543d")["default"])},"6d7c":function(o,t,e){},"83c2":function(o,t,e){"use strict";var r;e.d(t,"b",(function(){return s})),e.d(t,"c",(function(){return i})),e.d(t,"a",(function(){return r}));var s=function(){var o=this,t=o.$createElement,e=(o._self._c,o.list.length?o.__map(o.page,(function(t,e){var r=o.__get_orig(t),s=o.__map(o.list[e],(function(t,e){var r=o.__get_orig(t),s=o.$util.img(t.goods_image,{size:"mid"}),i=(o.goodsValue.goodsNameStyle.control||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&o.goodsValue.priceStyle.mainControl?o.showPrice(t).split("."):null,a=(o.goodsValue.goodsNameStyle.control||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&o.goodsValue.priceStyle.mainControl?o.showPrice(t).split("."):null;return{$orig:r,g0:s,g1:i,g2:a}}));return{$orig:r,l0:s}})):null);o.$mp.data=Object.assign({},{$root:{l1:e}})},i=[]},c6ee:function(o,t,e){"use strict";var r=e("6d7c"),s=e.n(r);s.a},f95d:function(o,t,e){"use strict";e.r(t);var r=e("83c2"),s=e("3cbb");for(var i in s)"default"!==i&&function(o){e.d(t,o,(function(){return s[o]}))}(i);e("c6ee");var a,n=e("f0c5"),u=Object(n["a"])(s["default"],r["b"],r["c"],!1,null,"51ebe13c",null,!1,r["a"],a);t["default"]=u.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/diy-components/diy-goods-recommend-create-component',
    {
        'components/diy-components/diy-goods-recommend-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("f95d"))
        })
    },
    [['components/diy-components/diy-goods-recommend-create-component']]
]);

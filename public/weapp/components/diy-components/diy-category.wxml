<view class="category-page-wrap"><block wx:if="{{value.search}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="search-box" bindtap="__e"><view class="search-content"><input class="uni-input font-size-tag" type="text" maxlength="50" placeholder="商品搜索" confirm-type="search" disabled="true"/><text class="iconfont iconsousuo1"></text></view></view></block><block wx:if="{{categoryTree}}"><view class="content-box"><block wx:if="{{categoryTree.length}}"><block><scroll-view class="tree-wrap" scroll-y="true"><block wx:for="{{categoryTree}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['switchOneCategory',[index]]]]]}}" class="{{['category-item',(select==index)?'select':'']}}" bindtap="__e"><view>{{item.category_name}}</view></view></block></scroll-view><view class="right-flex-wrap"><block wx:if="{{value.template==1||loadType=='all'}}"><scroll-view class="content-wrap vue-ref" scroll-y="true" scroll-into-view="{{categoryId}}" scroll-with-animation="{{true}}" refresher-enabled="{{true}}" refresher-default-style="none" refresher-triggered="{{triggered}}" data-ref="contentWrap" data-event-opts="{{[['scroll',[['listenScroll',['$event']]]],['touchstart',[['touchStart',['$event']]]],['refresherrefresh',[['onRefresh',['$event']]]],['refresherrestore',[['onRestore',['$event']]]]]}}" bindscroll="__e" bindtouchstart="__e" bindrefresherrefresh="__e" bindrefresherrestore="__e"><block wx:for="{{categoryTree}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="child-category" id="{{'category-'+index}}"><diy-category-item class="vue-ref-in-for" vue-id="{{'630053ba-1-'+index}}" category="{{item}}" value="{{value}}" index="{{index}}" select="{{select}}" data-ref="categoryItem" data-event-opts="{{[['^tologin',[['toLogin']]],['^selectsku',[['selectSku',['$event',index]]]],['^addCart',[['addCartPoint']]],['^loadfinish',[['getHeightArea']]]]}}" bind:tologin="__e" bind:selectsku="__e" bind:addCart="__e" bind:loadfinish="__e" bind:__l="__l"></diy-category-item></view></block><view data-ref="endTips" class="end-tips vue-ref" style="{{'opacity:'+(endTips)+';'}}">已经到底了~</view></scroll-view></block><block wx:if="{{(value.template==2||value.template==3)&&loadType=='part'}}"><view class="content-wrap"><block wx:for="{{categoryTree}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="child-category-wrap" style="{{'display:'+(select==index?'block':'none')+';'}}" id="{{'category-'+index}}"><diy-category-item class="vue-ref-in-for" vue-id="{{'630053ba-2-'+index}}" category="{{item}}" value="{{value}}" index="{{index}}" select="{{select}}" last="{{index==categoryTree.length-1?true:false}}" data-ref="categoryItem" data-event-opts="{{[['^tologin',[['toLogin']]],['^selectsku',[['selectSku',['$event',index]]]],['^addCart',[['addCartPoint']]],['^switch',[['switchOneCategory']]]]}}" bind:tologin="__e" bind:selectsku="__e" bind:addCart="__e" bind:switch="__e" bind:__l="__l"></diy-category-item></view></block></view></block></view></block></block><block wx:else><view class="category-empty"><image src="{{$root.g0}}" mode="widthFix"></image><view class="tips">暂时没有分类哦！</view></view></block></view></block><block wx:if="{{value.template==2&&value.quickBuy&&token&&categoryTree&&categoryTree.length}}"><view class="cart-box"><view class="left-wrap"><view class="cart-icon vue-ref" animation="{{cartAnimation}}" data-ref="cartIcon" data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" bindtap="__e"><text class="iconfont iconziyuan1"></text><block wx:if="{{cartNumber}}"><view class="num">{{cartNumber<99?cartNumber:'99+'}}</view></block></view><view class="price"><text class="title">总计：</text><text class="unit font-size-tag price-font">￥</text><text class="money font-size-toolbar price-font">{{cartMoney[0]}}</text><text class="unit font-size-tag price-font">{{"."+(cartMoney[1]?cartMoney[1]:'00')}}</text></view></view><view class="right-wrap"><button class="settlement-btn" type="primary" data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" bindtap="__e">去结算</button></view></view></block><block wx:for="{{carIconList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="cart-point" style="{{'left:'+(item.left+'px')+';'+('top:'+(item.top+'px')+';')}}"></view></block><ns-goods-sku-category class="vue-ref" bind:addCart="__e" vue-id="630053ba-3" data-ref="skuSelect" data-event-opts="{{[['^addCart',[['addCartPoint']]]]}}" bind:__l="__l"></ns-goods-sku-category></view>
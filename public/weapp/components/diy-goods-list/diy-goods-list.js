(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/diy-goods-list/diy-goods-list"],{"038b":function(o,e,t){"use strict";var s=t("ff2c"),i=t.n(s);i.a},d1a5:function(o,e,t){"use strict";var s;t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return s}));var i=function(){var o=this,e=o.$createElement,t=(o._self._c,"diy"==o.goodsValue.goodsTag?o.$util.img(o.goodsValue.tagImg.imageUrl):null),s=o.$lang("common.currencySymbol"),i=o.$lang("common.currencySymbol"),a=!o.showPage||1!=o.goodsValue.style&&2!=o.goodsValue.style?null:o.__map(o.goodsList,(function(e,t){var s=o.__get_orig(e),i=o.goodsImg(e.goods_image),a="default"==o.goodsValue.goodsTag&&""!=o.goodsTag(e),g=a?o.goodsTag(e):null,u=o.showPrice(e),r=e.member_price&&e.member_price==o.showPrice(e),l=r?o.$util.img("upload/uniapp/index/VIP.png"):null,d=r||1!=e.promotion_type?null:o.$util.img("upload/uniapp/index/discount.png");return{$orig:s,m0:i,m1:a,m2:g,m5:u,m6:r,g1:l,g2:d}})),g="diy"==o.goodsValue.goodsTag?o.$util.img(o.goodsValue.tagImg.imageUrl):null,u=o.$lang("common.currencySymbol"),r=o.$lang("common.currencySymbol"),l=o.showPage&&3==o.goodsValue.style?o.__map(o.goodsList,(function(e,t){var s=o.__get_orig(e),i=o.goodsImg(e.goods_image),a="default"==o.goodsValue.goodsTag&&""!=o.goodsTag(e),g=a?o.goodsTag(e):null,u=o.showPrice(e),r=e.member_price&&e.member_price==o.showPrice(e),l=r?o.$util.img("upload/uniapp/goods/vip.png"):null,d=!e.member_price||e.member_price!=o.showPrice(e);return{$orig:s,m7:i,m8:a,m9:g,m11:u,m12:r,g4:l,m14:d}})):null,d="diy"==o.goodsValue.goodsTag?o.$util.img(o.goodsValue.tagImg.imageUrl):null,n=o.$lang("common.currencySymbol"),c=o.$lang("common.currencySymbol"),m=o.showPage&&4==o.goodsValue.style?o.__map(o.goodsList,(function(e,t){var s=o.__get_orig(e),i=o.goodsImg(e.goods_image),a="default"==o.goodsValue.goodsTag&&""!=o.goodsTag(e),g=a?o.goodsTag(e):null,u=!e.member_price||e.member_price!=o.showPrice(e),r=o.showPrice(e),l=e.member_price&&e.member_price==o.showPrice(e),d=l?o.$util.img("upload/uniapp/goods/vip.png"):null;return{$orig:s,m15:i,m16:a,m17:g,m18:u,m20:r,m21:l,g6:d}})):null;o.$mp.data=Object.assign({},{$root:{g0:t,m3:s,m4:i,l0:a,g3:g,m10:u,m13:r,l1:l,g5:d,m19:n,m22:c,l2:m}})},a=[]},e563:function(o,e,t){"use strict";t.r(e);var s=t("fc22"),i=t.n(s);for(var a in s)"default"!==a&&function(o){t.d(e,o,(function(){return s[o]}))}(a);e["default"]=i.a},f951:function(o,e,t){"use strict";t.r(e);var s=t("d1a5"),i=t("e563");for(var a in i)"default"!==a&&function(o){t.d(e,o,(function(){return i[o]}))}(a);t("038b");var g,u=t("f0c5"),r=Object(u["a"])(i["default"],s["b"],s["c"],!1,null,"c1219d4e",null,!1,s["a"],g);e["default"]=r.exports},fc22:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(t("b6ac"));function i(o){return o&&o.__esModule?o:{default:o}}var a={name:"diy-goods-list",props:{value:{type:Object,default:function(){return{}}},diyData:{},position:{type:Number,default:-1}},data:function(){return{goodsList:[],showPage:1,goodsValue:{}}},mixins:[s.default],created:function(){var o=this;this.goodsValue=this.value,this.diyData&&this.diyData.value.forEach((function(e,t){o.goodsValue.groupTitle==e.title&&"ManyGoodsList"==e.controller&&e.list[0]&&(o.goodsValue.sources=e.list[0].sources,o.goodsValue.categoryId=e.list[0].categoryId,o.goodsValue.categoryName=e.list[0].categoryName,o.goodsValue.goodsId=e.list[0].goodsId)})),this.getGoodsList()},computed:{bgImg:function(){var o=this.$util.img("upload/uniapp/goods/hot.png");return o},goodsGroupChange:function(){return this.$store.state.isGoodsGroupChange}},watch:{value:{handler:function(o){this.getGoodsList()},deep:!0},goodsGroupChange:function(o){var e=this,t=this.$store.state.groupTitle;this.diyData&&this.diyData.value.forEach((function(s,i){"ManyGoodsList"==s.controller&&s.title==t&&e.goodsValue.groupTitle==t&&(e.goodsValue.sources=s.list[o].sources,e.goodsValue.categoryId=s.list[o].categoryId,e.goodsValue.categoryName=s.list[o].categoryName,e.goodsValue.goodsId=s.list[o].goodsId)})),this.getGoodsList()}},methods:{getGoodsList:function(){var o=this,e={page:1,page_size:this.goodsValue.goodsCount};"category"==this.goodsValue.sources?(e.category_id=this.goodsValue.categoryId,e.category_level=1):"diy"==this.goodsValue.sources&&(e.page_size=0,e.goods_id_arr=this.goodsValue.goodsId.toString()),this.$api.sendRequest({url:"/api/goodssku/pagecomponents",data:e,success:function(e){if(0==e.code&&e.data){var t=e.data;o.goodsList=t.list}}})},toDetail:function(o){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:o.sku_id})},goodsImg:function(o){var e=o.split(",");return e[0]?this.$util.img(e[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},imgError:function(o){this.goodsList[o].goods_image=this.$util.getDefaultImage().default_goods_img},showPrice:function(o){var e=o.discount_price;return o.member_price&&parseFloat(o.member_price)<parseFloat(e)&&(e=o.member_price),e},goodsTag:function(o){return o.label_name||""}}};e.default=a},ff2c:function(o,e,t){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/diy-goods-list/diy-goods-list-create-component',
    {
        'components/diy-goods-list/diy-goods-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("f951"))
        })
    },
    [['components/diy-goods-list/diy-goods-list-create-component']]
]);

<view class="{{['allPage','data-v-3f83bc35',(hasData)?'bottom':'']}}" data-theme="{{themeStyle}}"><block wx:if="{{cartData.length}}"><view class="cart-header fixed data-v-3f83bc35"><view class="num-wrap font-size-toolbar data-v-3f83bc35">共<text class="color-base-text data-v-3f83bc35">{{cartData[0].cartList.length}}</text>件商品</view><view data-event-opts="{{[['tap',[['changeAction',['$event']]]]]}}" class="cart-action data-v-3f83bc35" bindtap="__e">{{isAction?$root.m0:$root.m1}}</view></view></block><scroll-view class="container data-v-3f83bc35" scroll-x="{{true}}" show-scrollbar="{{false}}"><block wx:if="{{hasData}}"><block class="data-v-3f83bc35"><block wx:for="{{$root.l1}}" wx:for-item="siteItem" wx:for-index="siteIndex" wx:key="siteIndex"><view class="cart-wrap data-v-3f83bc35"><view class="fixed-wrap data-v-3f83bc35"></view><block wx:for="{{siteItem.l0}}" wx:for-item="item" wx:for-index="cartIndex" wx:key="cartIndex"><block class="data-v-3f83bc35"><view data-event-opts="{{[['touchstart',[['touchS',['$event']]]],['touchend',[['touchE',['$event','$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="cart-goods data-v-3f83bc35" bindtouchstart="__e" bindtouchend="__e"><view class="{{['goods-wrap','data-v-3f83bc35',(item.$orig.edit)?'edit':'']}}"><view data-event-opts="{{[['tap',[['singleElection',[siteIndex,cartIndex]]]]]}}" class="{{['iconfont','data-v-3f83bc35',item.$orig.checked?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}" bindtap="__e"></view><view data-event-opts="{{[['tap',[['toGoodsDetail',['$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="goods-img data-v-3f83bc35" bindtap="__e"><image src="{{item.g0}}" mode="aspectFill" data-event-opts="{{[['error',[['imageError',[siteIndex,cartIndex]]]]]}}" binderror="__e" class="data-v-3f83bc35"></image></view><view class="goods-info data-v-3f83bc35"><view data-event-opts="{{[['tap',[['toGoodsDetail',['$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="goods-name data-v-3f83bc35" bindtap="__e">{{item.$orig.goods_name}}</view><block wx:if="{{item.$orig.sku_spec_format}}"><view class="sku data-v-3f83bc35"><view class="goods-spec data-v-3f83bc35"><block wx:for="{{item.$orig.sku_spec_format}}" wx:for-item="x" wx:for-index="i" wx:key="i"><block class="data-v-3f83bc35">{{''+x.spec_value_name+" "+(i<item.$orig.sku_spec_format.length-1?';':'')+''}}</block></block></view></view></block><view class="goods-sub-section data-v-3f83bc35"><block wx:if="{{item.$orig.promotion_type==1}}"><block class="data-v-3f83bc35"><block wx:if="{{item.m2}}"><block class="data-v-3f83bc35"><view class="goods-price color-base-text data-v-3f83bc35"><view class="bottom-price color-base-text data-v-3f83bc35"><text class="unit data-v-3f83bc35">{{item.m3}}</text>{{''+item.$orig.member_price+''}}<image src="{{item.g1}}" class="data-v-3f83bc35"></image></view></view></block></block><block wx:else><block class="data-v-3f83bc35"><view class="goods-price color-base-text data-v-3f83bc35"><view class="bottom-price color-base-text data-v-3f83bc35"><text class="unit data-v-3f83bc35">{{item.m4}}</text>{{''+item.$orig.discount_price+''}}<image src="{{item.g2}}" class="data-v-3f83bc35"></image></view></view></block></block></block></block><block wx:else><block class="data-v-3f83bc35"><block wx:if="{{item.m5>0}}"><block class="data-v-3f83bc35"><view class="goods-price color-base-text data-v-3f83bc35"><view class="bottom-price color-base-text data-v-3f83bc35"><text class="unit data-v-3f83bc35">{{item.m6}}</text>{{''+item.$orig.member_price+''}}<image src="{{item.g3}}" class="data-v-3f83bc35"></image></view></view></block></block><block wx:else><block class="data-v-3f83bc35"><view class="goods-price color-base-text data-v-3f83bc35"><view class="bottom-price color-base-text data-v-3f83bc35"><text class="unit data-v-3f83bc35">{{item.m7}}</text>{{''+item.$orig.price+''}}</view></view></block></block></block></block><uni-number-box vue-id="{{'a225604e-1-'+siteIndex+'-'+cartIndex}}" min="{{item.$orig.min_buy>1?item.$orig.min_buy:1}}" max="{{item.$orig.max_buy>0&&item.$orig.max_buy<item.$orig.stock?item.$orig.max_buy:item.$orig.stock}}" value="{{item.m8}}" size="small" modifyFlag="{{modifyFlag}}" data-event-opts="{{[['^change',[['cartNumChange',['$event',['o',['siteIndex',siteIndex],['cartIndex',cartIndex]]]]]],['^limit',[['goodsLimit',['$event',cartIndex]]]]]}}" bind:change="__e" bind:limit="__e" class="data-v-3f83bc35" bind:__l="__l"></uni-number-box></view></view></view><view data-event-opts="{{[['tap',[['deleteCart',['single',siteIndex,cartIndex]]]]]}}" class="{{['item-del','color-base-bg','data-v-3f83bc35',(item.$orig.edit)?'show':'']}}" bindtap="__e">{{siteItem.m9}}</view></view></block></block></view></block><block wx:if="{{invalidGoods.length}}"><view class="cart-wrap invalid data-v-3f83bc35"><view class="cart-header data-v-3f83bc35"><view class="num-wrap data-v-3f83bc35"><text class="font-size-base data-v-3f83bc35">{{"失效商品"+invalidGoods.length+"件"}}</text></view><view data-event-opts="{{[['tap',[['clearInvalidGoods',['$event']]]]]}}" class="cart-action color-base-text font-size-goods-tag data-v-3f83bc35" bindtap="__e">清空</view></view><block wx:for="{{$root.l2}}" wx:for-item="goodsItem" wx:for-index="goodsIndex" wx:key="goodsIndex"><block class="data-v-3f83bc35"><view class="cart-goods invalid-goods data-v-3f83bc35"><view class="goods-wrap data-v-3f83bc35"><view class="iconfont iconyuan_checked color-tip data-v-3f83bc35"></view><view class="goods-img data-v-3f83bc35"><image src="{{goodsItem.g4}}" mode="aspectFill" class="data-v-3f83bc35"></image></view><view class="goods-info data-v-3f83bc35"><view class="goods-name data-v-3f83bc35">{{goodsItem.$orig.sku_name}}</view><block wx:if="{{goodsItem.$orig.sku_spec_format}}"><view class="sku data-v-3f83bc35"><view class="goods-spec data-v-3f83bc35"><block wx:for="{{goodsItem.$orig.sku_spec_format}}" wx:for-item="x" wx:for-index="i" wx:key="i"><block class="data-v-3f83bc35">{{''+x.spec_value_name+" "+(i<goodsItem.$orig.sku_spec_format.length-1?'; ':'')+''}}</block></block></view></view></block><view class="goods-sub-section data-v-3f83bc35"><text class="goods-price color-base-text data-v-3f83bc35"><text class="unit data-v-3f83bc35">{{$root.m10}}</text><block wx:if="{{goodsItem.$orig.member_price>0&&goodsItem.$orig.member_price<goodsItem.$orig.discount_price}}">{{''+goodsItem.$orig.member_price+''}}</block><block wx:else>{{''+goodsItem.$orig.discount_price+''}}</block></text><text class="invalid-mark data-v-3f83bc35">已失效</text></view></view></view></view></block></block></view></block></block></block><block wx:else><block class="data-v-3f83bc35"><view class="cart-empty data-v-3f83bc35"><image src="{{$root.g5}}" mode="aspectFit" class="data-v-3f83bc35"></image><view class="color-tip margin-top margin-bottom data-v-3f83bc35">{{$root.m11}}</view><block wx:if="{{token!=''}}"><button class="button data-v-3f83bc35" type="primary" size="mini" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e">去逛逛</button></block><block wx:else><button class="button data-v-3f83bc35" type="primary" size="mini" data-event-opts="{{[['tap',[['toLogin',['$event']]]]]}}" bindtap="__e">去登录</button></block></view></block></block></scroll-view><ns-goods-recommend vue-id="a225604e-2" data-ref="goodrecommend" class="data-v-3f83bc35 vue-ref" bind:__l="__l"></ns-goods-recommend><block wx:if="{{hasData}}"><view class="{{['cart-bottom','data-v-3f83bc35',(isIphoneX)?'active':'']}}" style="{{'bottom:'+(cartBottom)+';'}}"><view data-event-opts="{{[['tap',[['allElection',['$event']]]]]}}" class="all-election data-v-3f83bc35" bindtap="__e"><view class="{{['iconfont','data-v-3f83bc35',checkAll?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}"></view><text class="data-v-3f83bc35">{{$root.m12}}</text></view><view class="settlement-info data-v-3f83bc35" style="{{'visibility:'+(isAction?'hidden':'visible')+';'}}">{{''+$root.m13+'：'}}<text class="color-base-text font-size-toolbar data-v-3f83bc35">{{$root.m14+" "+totalPrice}}</text></view><block wx:if="{{isAction}}"><view class="action-btn data-v-3f83bc35"><button class="delete data-v-3f83bc35" type="primary" size="mini" plain="{{true}}" data-event-opts="{{[['tap',[['deleteCart',['all']]]]]}}" bindtap="__e">{{$root.m15}}</button></view></block><block wx:else><view class="action-btn data-v-3f83bc35"><block wx:if="{{totalCount!=0}}"><button type="primary" size="mini" data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" bindtap="__e" class="data-v-3f83bc35">{{$root.m16+"("+totalCount+")"}}</button></block><block wx:else><button type="primary" size="mini" disabled="{{true}}" data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" bindtap="__e" class="data-v-3f83bc35">{{$root.m17+"("+totalCount+")"}}</button></block></view></block></view></block><loading-cover vue-id="a225604e-3" data-ref="loadingCover" class="data-v-3f83bc35 vue-ref" bind:__l="__l"></loading-cover><diy-bottom-nav vue-id="a225604e-4" type="shop" class="data-v-3f83bc35" bind:__l="__l"></diy-bottom-nav><block wx:if="{{showTop}}"><to-top bind:toTop="__e" vue-id="a225604e-5" data-event-opts="{{[['^toTop',[['scrollToTopNative']]]]}}" class="data-v-3f83bc35" bind:__l="__l"></to-top></block><ns-login vue-id="a225604e-6" data-ref="login" class="data-v-3f83bc35 vue-ref" bind:__l="__l"></ns-login></view>
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/diy-components/diy-goods-list"],{1117:function(o,e,t){"use strict";t.r(e);var l=t(1118),n=t(1120);for(var i in n)"default"!==i&&function(o){t.d(e,o,(function(){return n[o]}))}(i);t(1122);var a,r=t(14),s=Object(r["default"])(n["default"],l["render"],l["staticRenderFns"],!1,null,"74397cfa",null,!1,l["components"],a);s.options.__file="components/diy-components/diy-goods-list.vue",e["default"]=s.exports},1118:function(o,e,t){"use strict";t.r(e);var l=t(1119);t.d(e,"render",(function(){return l["render"]})),t.d(e,"staticRenderFns",(function(){return l["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return l["recyclableRender"]})),t.d(e,"components",(function(){return l["components"]}))},1119:function(o,e,t){"use strict";var l;t.r(e),t.d(e,"render",(function(){return n})),t.d(e,"staticRenderFns",(function(){return a})),t.d(e,"recyclableRender",(function(){return i})),t.d(e,"components",(function(){return l}));try{l={diyIcon:function(){return t.e("components/diy-components/diy-icon").then(t.bind(null,885))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var n=function(){var o=this,e=o.$createElement,t=(o._self._c,o.list.length&&"horizontal-slide"!=o.goodsValue.template?o.__map(o.list,(function(e,t){var l=o.__get_orig(e),n=o.$util.img(e.goods_image,{size:"large-mode"==o.goodsValue.template?"big":"mid"}),i=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl||o.goodsValue.btnStyle.control)&&o.goodsValue.priceStyle.mainControl?o.showPrice(e).split("."):null,a=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl||o.goodsValue.btnStyle.control)&&o.goodsValue.priceStyle.mainControl?o.showPrice(e).split("."):null,r=o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl||o.goodsValue.btnStyle.control?e.member_price&&e.member_price==o.showPrice(e)||1==e.promotion_type:null,s=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl||o.goodsValue.btnStyle.control)&&r?e.member_price&&e.member_price==o.showPrice(e):null,d=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl||o.goodsValue.btnStyle.control)&&r&&s?o.$util.img("public/uniapp/index/VIP.png"):null,u=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl||o.goodsValue.btnStyle.control)&&r&&!s&&1==e.promotion_type?o.$util.img("public/uniapp/index/discount.png"):null;return{$orig:l,g0:n,g1:i,g2:a,m0:r,m1:s,g3:d,g4:u}})):null),l=o.list.length&&"horizontal-slide"==o.goodsValue.template&&"scroll"==o.goodsValue.slideMode?o.__map(o.list,(function(e,t){var l=o.__get_orig(e),n=o.$util.img(e.goods_image,{size:"mid"}),i=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&o.goodsValue.priceStyle.mainControl?o.showPrice(e).split("."):null,a=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&o.goodsValue.priceStyle.mainControl?o.showPrice(e).split("."):null,r=o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl?e.member_price&&e.member_price==o.showPrice(e)||1==e.promotion_type:null,s=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&r?e.member_price&&e.member_price==o.showPrice(e):null,d=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&r&&s?o.$util.img("public/uniapp/index/VIP.png"):null,u=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&r&&!s&&1==e.promotion_type?o.$util.img("public/uniapp/index/discount.png"):null;return{$orig:l,g5:n,g6:i,g7:a,m2:r,m3:s,g8:d,g9:u}})):null,n=o.list.length&&"horizontal-slide"==o.goodsValue.template&&"slide"==o.goodsValue.slideMode?o.__map(o.page,(function(e,t){var l=o.__get_orig(e),n=o.__map(o.list[t],(function(e,t){var l=o.__get_orig(e),n=o.$util.img(e.goods_image,{size:"mid"}),i=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&o.goodsValue.priceStyle.mainControl?o.showPrice(e).split("."):null,a=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&o.goodsValue.priceStyle.mainControl?o.showPrice(e).split("."):null,r=o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl?e.member_price&&e.member_price==o.showPrice(e)||1==e.promotion_type:null,s=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&r?e.member_price&&e.member_price==o.showPrice(e):null,d=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&r&&s?o.$util.img("public/uniapp/index/VIP.png"):null,u=(o.goodsValue.goodsNameStyle.control||o.goodsValue.tag&&"hidden"!=o.goodsValue.tag.value||o.goodsValue.priceStyle.mainControl||o.goodsValue.priceStyle.lineControl)&&r&&!s&&1==e.promotion_type?o.$util.img("public/uniapp/index/discount.png"):null;return{$orig:l,g10:n,g11:i,g12:a,m4:r,m5:s,g13:d,g14:u}}));return{$orig:l,l2:n}})):null;o.$mp.data=Object.assign({},{$root:{l0:t,l1:l,l3:n}})},i=!1,a=[];n._withStripped=!0},1120:function(o,e,t){"use strict";t.r(e);var l=t(1121),n=t.n(l);for(var i in l)"default"!==i&&function(o){t.d(e,o,(function(){return l[o]}))}(i);e["default"]=n.a},1121:function(o,e,t){"use strict";(function(o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={name:"diy-goods-list",props:{value:{type:Object,default:function(){return{}}}},data:function(){return{list:[],goodsValue:{},page:1}},created:function(){this.goodsValue=this.value,this.getGoodsList()},computed:{goodsListWarpCss:function(){var o="";return o+="background-color:"+this.goodsValue.componentBgColor+";","round"==this.goodsValue.componentAngle&&(o+="border-top-left-radius:"+2*this.goodsValue.topAroundRadius+"rpx;",o+="border-top-right-radius:"+2*this.goodsValue.topAroundRadius+"rpx;",o+="border-bottom-left-radius:"+2*this.goodsValue.bottomAroundRadius+"rpx;",o+="border-bottom-right-radius:"+2*this.goodsValue.bottomAroundRadius+"rpx;"),o},goodsItemCss:function(){var e="";e+="background-color:"+this.goodsValue.elementBgColor+";","round"==this.goodsValue.elementAngle&&(e+="border-top-left-radius:"+2*this.goodsValue.topElementAroundRadius+"rpx;",e+="border-top-right-radius:"+2*this.goodsValue.topElementAroundRadius+"rpx;",e+="border-bottom-left-radius:"+2*this.goodsValue.bottomElementAroundRadius+"rpx;",e+="border-bottom-right-radius:"+2*this.goodsValue.bottomElementAroundRadius+"rpx;"),"shadow"==this.goodsValue.ornament.type&&(e+="box-shadow:0 0 10rpx "+this.goodsValue.ornament.color+";"),"stroke"==this.goodsValue.ornament.type&&(e+="border:2rpx solid "+this.goodsValue.ornament.color+";");var t=o.getSystemInfoSync().safeArea.width||o.getSystemInfoSync().screenWidth;if("horizontal-slide"==this.value.template){var l="";l="scroll"==this.value.slideMode&&"diy"==this.value.goodsMarginType?this.rpxUpPx(2*this.value.goodsMarginNum):[t-2*this.rpxUpPx(20)-3*this.rpxUpPx(200)-2*this.rpxUpPx(2*this.value.margin.both)]/6,e+="margin-left:"+l+"px;",e+="margin-right:"+l+"px;"}return e},swiperHeight:function(){return"multiple"==this.value.nameLineMode?"shadow"==this.value.ornament.type?"414rpx":"402rpx":"shadow"==this.value.ornament.type?"370rpx":"358rpx"}},methods:{rpxUpPx:function(e){var t=o.getSystemInfoSync().safeArea.width||o.getSystemInfoSync().screenWidth,l=t*parseInt(e)/750;return Math.floor(l)},getGoodsList:function(){var o=this,e={page:1,page_size:this.goodsValue.count};"category"==this.goodsValue.sources?(e.category_id=this.goodsValue.categoryId,e.category_level=1):"diy"==this.goodsValue.sources&&(e.page_size=0,e.goods_id_arr=this.goodsValue.goodsId.toString()),e.order=this.goodsValue.sortWay,this.$api.sendRequest({url:"/api/goodssku/pagecomponents",data:e,success:function(e){if(0==e.code&&e.data){var t=e.data;if(o.list=t.list,"horizontal-slide"==o.goodsValue.template&&"slide"==o.goodsValue.slideMode){var l=3,n=[];o.page=Math.ceil(o.list.length/l);for(var i=0;i<o.page;i++){n[i]=[];for(var a=i*l;a<o.list.length;a++){if(n[i].length==l)break;n[i].push(o.list[a])}}o.list=n}}}})},toDetail:function(o){this.$util.redirectTo("/pages/goods/detail",{goods_id:o.goods_id})},imgError:function(o){this.list[o]&&(this.list[o].goods_image=this.$util.getDefaultImage().goods)},showPrice:function(o){var e=o.discount_price;return o.member_price&&parseFloat(o.member_price)<parseFloat(e)&&(e=o.member_price),e}}};e.default=t}).call(this,t(1)["default"])},1122:function(o,e,t){"use strict";t.r(e);var l=t(1123),n=t.n(l);for(var i in l)"default"!==i&&function(o){t.d(e,o,(function(){return l[o]}))}(i);e["default"]=n.a},1123:function(o,e,t){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/diy-components/diy-goods-list.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/diy-components/diy-goods-list-create-component',
    {
        'components/diy-components/diy-goods-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(1117))
        })
    },
    [['components/diy-components/diy-goods-list-create-component']]
]);
